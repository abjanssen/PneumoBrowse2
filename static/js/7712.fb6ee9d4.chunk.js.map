{"version":3,"file":"static/js/7712.fb6ee9d4.chunk.js","mappings":"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","sources":["../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/HierarchicalFab.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/util.ts","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackCategory.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackLabel.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackListNode.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HierarchicalTree.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HamburgerMenu.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/DropdownTrackSelector.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/FavoriteTracks.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/RecentlyUsedTracks.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HierarchicalHeader.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/HierarchicalTrackSelector.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/ShoppingCart.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackLabelMenu.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Fab, Menu, MenuItem } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport {\n  getSession,\n  isSessionModelWithWidgets,\n  isSessionModelWithConnections,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\n\n// icons\nimport AddIcon from '@mui/icons-material/Add'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../model'\n\nconst useStyles = makeStyles()(theme => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(6),\n    right: theme.spacing(6),\n  },\n}))\n\nconst HierarchicalFab = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const session = getSession(model)\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null)\n\n  function handleFabClose() {\n    setAnchorEl(null)\n  }\n  const hasConnections = isSessionModelWithConnections(session)\n  const hasAddTrack = isSessionWithAddTracks(session)\n  return hasAddTrack || hasConnections ? (\n    <>\n      <Fab\n        color=\"secondary\"\n        className={classes.fab}\n        onClick={event => setAnchorEl(event.currentTarget)}\n      >\n        <AddIcon />\n      </Fab>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={() => setAnchorEl(null)}\n      >\n        {hasConnections ? (\n          <MenuItem\n            onClick={() => {\n              handleFabClose()\n              if (isSessionModelWithWidgets(session)) {\n                session.showWidget(\n                  session.addWidget(\n                    'AddConnectionWidget',\n                    'addConnectionWidget',\n                  ),\n                )\n              }\n            }}\n          >\n            Add connection\n          </MenuItem>\n        ) : null}\n        {hasAddTrack ? (\n          <MenuItem\n            onClick={() => {\n              handleFabClose()\n              if (isSessionModelWithWidgets(session)) {\n                session.showWidget(\n                  session.addWidget('AddTrackWidget', 'addTrackWidget', {\n                    view: model.view.id,\n                  }),\n                )\n              }\n            }}\n          >\n            Add track\n          </MenuItem>\n        ) : null}\n      </Menu>\n    </>\n  ) : null\n})\n\nexport default HierarchicalFab\n","import { AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport { HierarchicalTrackSelectorModel } from '../model'\nimport { TreeNode } from '../generateHierarchy'\nimport { MenuItem } from '@jbrowse/core/ui'\n\nexport interface NodeData {\n  nestingLevel: number\n  checked: boolean\n  conf: AnyConfigurationModel\n  drawerPosition: unknown\n  id: string\n  trackId: string\n  isLeaf: boolean\n  name: string\n  onChange: Function\n  toggleCollapse: (arg: string) => void\n  tree: TreeNode\n  selected: boolean\n  menuItems?: MenuItem[]\n  model: HierarchicalTrackSelectorModel\n}\n\nexport function getAllChildren(subtree?: TreeNode): AnyConfigurationModel[] {\n  // @ts-expect-error\n  return subtree?.type === 'category'\n    ? subtree.children\n        .map(t => (t.type === 'category' ? getAllChildren(t) : t.conf))\n        .flat(Infinity)\n    : []\n}\n\nexport function treeToMap(tree: TreeNode, map = new Map<string, TreeNode>()) {\n  if (tree.id && tree.children.length) {\n    map.set(tree.id, tree)\n  }\n  for (const node of tree.children) {\n    treeToMap(node, map)\n  }\n  return map\n}\n\nexport function isUnsupported(name = '') {\n  return name.endsWith('(Unsupported)') || name.endsWith('(Unknown)')\n}\n","import React, { useState } from 'react'\nimport { IconButton, Typography } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport JBrowseMenu from '@jbrowse/core/ui/Menu'\n\n// icons\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown'\nimport ArrowRightIcon from '@mui/icons-material/ArrowRight'\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz'\n\n// locals\nimport { getAllChildren, treeToMap, NodeData } from '../util'\n\nconst useStyles = makeStyles()(theme => ({\n  contrastColor: {\n    color: theme.palette.tertiary.contrastText,\n  },\n\n  // margin:auto 0 to center text vertically\n  accordionText: {\n    margin: 'auto 0',\n    // width 100 so you can click anywhere on the category bar\n    width: '100%',\n  },\n}))\n\nexport default function Category({\n  isOpen,\n  setOpen,\n  data,\n}: {\n  isOpen: boolean\n  setOpen: (arg: boolean) => void\n  data: NodeData\n}) {\n  const { classes } = useStyles()\n  const [menuEl, setMenuEl] = useState<HTMLElement | null>(null)\n  const { menuItems = [], name, model, id, tree } = data\n\n  return (\n    <div\n      className={classes.accordionText}\n      onClick={() => {\n        if (!menuEl) {\n          data.toggleCollapse(id)\n          setOpen(!isOpen)\n        }\n      }}\n    >\n      <Typography>\n        {isOpen ? <ArrowDropDownIcon /> : <ArrowRightIcon />}\n        {name}\n        <IconButton\n          onClick={event => {\n            setMenuEl(event.currentTarget)\n            event.stopPropagation()\n          }}\n          className={classes.contrastColor}\n        >\n          <MoreHorizIcon />\n        </IconButton>\n      </Typography>\n      {menuEl ? (\n        <JBrowseMenu\n          anchorEl={menuEl}\n          menuItems={[\n            {\n              label: 'Add to selection',\n              onClick: () => {\n                const r = treeToMap(tree).get(id)\n                model.addToSelection(getAllChildren(r))\n              },\n            },\n            {\n              label: 'Remove from selection',\n              onClick: () => {\n                const r = treeToMap(tree).get(id)\n                model.removeFromSelection(getAllChildren(r))\n              },\n            },\n            {\n              label: 'Show all tracks',\n              onClick: () => {\n                for (const entry of treeToMap(tree).get(id)?.children || []) {\n                  if (entry.type === 'track') {\n                    model.view.showTrack(entry.trackId)\n                  }\n                }\n              },\n            },\n            {\n              label: 'Hide all tracks',\n              onClick: () => {\n                for (const entry of treeToMap(tree).get(id)?.children || []) {\n                  if (entry.type === 'track') {\n                    model.view.hideTrack(entry.trackId)\n                  }\n                }\n              },\n            },\n            ...menuItems,\n          ]}\n          onMenuItemClick={(_event, callback) => {\n            callback()\n            setMenuEl(null)\n          }}\n          open={Boolean(menuEl)}\n          onClose={() => setMenuEl(null)}\n        />\n      ) : null}\n    </div>\n  )\n}\n","import React from 'react'\nimport { Checkbox, FormControlLabel, Tooltip } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport SanitizedHTML from '@jbrowse/core/ui/SanitizedHTML'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\n// locals\nimport { isUnsupported, NodeData } from '../util'\nimport TrackLabelMenu from './TrackLabelMenu'\n\nconst useStyles = makeStyles()(theme => ({\n  compactCheckbox: {\n    padding: 0,\n  },\n\n  checkboxLabel: {\n    marginRight: 0,\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected,\n    },\n  },\n  selected: {\n    background: '#cccc',\n  },\n}))\n\nexport interface InfoArgs {\n  target: HTMLElement\n  id: string\n  conf: AnyConfigurationModel\n}\n\nexport default function TrackLabel({ data }: { data: NodeData }) {\n  const { classes } = useStyles()\n  const {\n    checked,\n    conf,\n    model,\n    drawerPosition,\n    id,\n    trackId,\n    name,\n    onChange,\n    selected,\n  } = data\n  const description = (conf && readConfObject(conf, 'description')) || ''\n  return (\n    <>\n      <Tooltip\n        title={description + (selected ? ' (in selection)' : '')}\n        placement={drawerPosition === 'left' ? 'right' : 'left'}\n      >\n        <FormControlLabel\n          className={classes.checkboxLabel}\n          control={\n            <Checkbox\n              className={classes.compactCheckbox}\n              checked={checked}\n              onChange={() => onChange(trackId)}\n              disabled={isUnsupported(name)}\n              inputProps={{\n                // @ts-expect-error\n                'data-testid': `htsTrackEntry-${id}`,\n              }}\n            />\n          }\n          label={\n            <div\n              data-testid={`htsTrackLabel-${id}`}\n              style={{ background: selected ? '#cccc' : undefined }}\n            >\n              <SanitizedHTML html={name} />\n            </div>\n          }\n        />\n      </Tooltip>\n      <TrackLabelMenu model={model} trackId={trackId} id={id} conf={conf} />\n    </>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from 'tss-react/mui'\n\n// locals\nimport Category from './TrackCategory'\nimport TrackLabel from './TrackLabel'\nimport { NodeData } from '../util'\n\nconst useStyles = makeStyles()(theme => ({\n  // this accordionBase element's small padding is used to give a margin to\n  // accordionColor it a \"margin\" because the virtualized elements can't really\n  // use margin in a conventional way (it doesn't affect layout)\n  accordionBase: {\n    display: 'flex',\n  },\n\n  accordionCard: {\n    padding: 3,\n    cursor: 'pointer',\n    display: 'flex',\n  },\n\n  nestingLevelMarker: {\n    position: 'absolute',\n    borderLeft: '1.5px solid #555',\n  },\n  // accordionColor set's display:flex so that the child accordionText use\n  // vertically centered text\n  accordionColor: {\n    background: theme.palette.tertiary.main,\n    color: theme.palette.tertiary.contrastText,\n    width: '100%',\n    display: 'flex',\n    paddingLeft: 5,\n  },\n}))\n\n// An individual node in the track selector. Note: manually sets cursor:\n// pointer improves usability for what can be clicked\nexport default function Node({\n  data,\n  isOpen,\n  style,\n  setOpen,\n}: {\n  data: NodeData\n  isOpen: boolean\n  style?: { height: number }\n  setOpen: (arg: boolean) => void\n}) {\n  const { isLeaf, nestingLevel } = data\n\n  const { classes } = useStyles()\n  const width = 10\n  const marginLeft = nestingLevel * width + (isLeaf ? width : 0)\n\n  return (\n    <div style={style} className={!isLeaf ? classes.accordionBase : undefined}>\n      {new Array(nestingLevel).fill(0).map((_, idx) => (\n        <div\n          key={`mark-${idx}`}\n          style={{ left: idx * width + 4, height: style?.height }}\n          className={classes.nestingLevelMarker}\n        />\n      ))}\n      <div\n        className={!isLeaf ? classes.accordionCard : undefined}\n        style={{\n          marginLeft,\n          whiteSpace: 'nowrap',\n          width: '100%',\n        }}\n      >\n        <div className={!isLeaf ? classes.accordionColor : undefined}>\n          {!isLeaf ? (\n            <Category isOpen={isOpen} data={data} setOpen={setOpen} />\n          ) : (\n            <TrackLabel data={data} />\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useCallback, useMemo, useRef, useEffect } from 'react'\nimport { observer } from 'mobx-react'\nimport { VariableSizeTree } from 'react-vtree'\nimport { getSession } from '@jbrowse/core/util'\n// locals\nimport { TreeNode } from '../../generateHierarchy'\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport Node from './TrackListNode'\n\nfunction getNodeData(\n  node: TreeNode,\n  nestingLevel: number,\n  extra: Record<string, unknown>,\n  selection: Record<string, unknown>,\n) {\n  const isLeaf = node.type === 'track'\n  const selected = isLeaf ? selection[node.trackId] : false\n  return {\n    data: {\n      defaultHeight: isLeaf ? 22 : 40,\n      isLeaf,\n      isOpenByDefault: true,\n      nestingLevel,\n      selected,\n      ...node,\n      ...extra,\n    },\n    nestingLevel,\n    node,\n  }\n}\n\ntype NodeData = ReturnType<typeof getNodeData>\n\n// this is the main tree component for the hierarchical track selector in note:\n// in jbrowse-web the toolbar is position=\"sticky\" which means the autosizer\n// includes the height of the toolbar, so we subtract the given offsets\nconst HierarchicalTree = observer(function HierarchicalTree({\n  height,\n  tree,\n  model,\n}: {\n  height: number\n  tree: TreeNode\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { filterText, selection, view } = model\n  const treeRef = useRef<NodeData>(null)\n  const session = getSession(model)\n  const { drawerPosition } = session\n  const obj = useMemo(\n    () => Object.fromEntries(selection.map(s => [s.trackId, s])),\n    [selection],\n  )\n\n  const extra = useMemo(\n    () => ({\n      onChange: (trackId: string) => {\n        const trackTurnedOn = view.toggleTrack(trackId)\n        if (trackTurnedOn) {\n          model.addToRecentlyUsed(trackId)\n        }\n      },\n      toggleCollapse: (pathName: string) => model.toggleCategory(pathName),\n      tree,\n      model,\n      drawerPosition,\n    }),\n    [view, model, drawerPosition, tree],\n  )\n  const treeWalker = useCallback(\n    function* treeWalker() {\n      for (const child of tree.children) {\n        yield getNodeData(child, 0, extra, obj)\n      }\n\n      while (true) {\n        // @ts-expect-error\n        const parentMeta = yield\n\n        for (const curr of parentMeta.node.children) {\n          yield getNodeData(curr, parentMeta.nestingLevel + 1, extra, obj)\n        }\n      }\n    },\n    [tree, extra, obj],\n  )\n\n  useEffect(() => {\n    // @ts-expect-error\n    treeRef.current.recomputeTree({\n      refreshNodes: true,\n      useDefaultHeight: true,\n    })\n  }, [tree, filterText])\n  return (\n    <>\n      {/* @ts-expect-error */}\n      <VariableSizeTree ref={treeRef} treeWalker={treeWalker} height={height}>\n        {/* @ts-expect-error */}\n        {Node}\n      </VariableSizeTree>\n    </>\n  )\n})\n\nexport default HierarchicalTree\n","import React, { Suspense, lazy, useState } from 'react'\nimport { observer } from 'mobx-react'\nimport {\n  getSession,\n  isSessionModelWithConnectionEditing,\n  isSessionModelWithConnections,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\n\n// icons\nimport MenuIcon from '@mui/icons-material/Menu'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\n\n// lazies\nconst FacetedDialog = lazy(() => import('../faceted/FacetedDialog'))\n\n// lazy components\nconst CloseConnectionDialog = lazy(\n  () => import('../dialogs/CloseConnectionDialog'),\n)\nconst DeleteConnectionDialog = lazy(\n  () => import('../dialogs/DeleteConnectionDialog'),\n)\nconst ManageConnectionsDialog = lazy(\n  () => import('../dialogs/ManageConnectionsDialog'),\n)\nconst ToggleConnectionsDialog = lazy(\n  () => import('../dialogs/ToggleConnectionsDialog'),\n)\n\ninterface ModalArgs {\n  connectionConf: AnyConfigurationModel\n  safelyBreakConnection: () => void\n  dereferenceTypeCount: Record<string, number>\n  name: string\n}\n\ninterface DialogDetails {\n  name: string\n  connectionConf: AnyConfigurationModel\n}\n\nconst HamburgerMenu = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const session = getSession(model)\n  const [modalInfo, setModalInfo] = useState<ModalArgs>()\n  const [deleteDialogDetails, setDeleteDialogDetails] =\n    useState<DialogDetails>()\n  const [connectionToggleOpen, setConnectionToggleOpen] = useState(false)\n  const [connectionManagerOpen, setConnectionManagerOpen] = useState(false)\n  const [facetedOpen, setFacetedOpen] = useState(false)\n\n  function breakConnection(\n    connectionConf: AnyConfigurationModel,\n    deletingConnection?: boolean,\n  ) {\n    const name = readConfObject(connectionConf, 'name')\n    const result = session.prepareToBreakConnection?.(connectionConf)\n    if (result) {\n      const [safelyBreakConnection, dereferenceTypeCount] = result\n      if (Object.keys(dereferenceTypeCount).length > 0) {\n        setModalInfo({\n          connectionConf,\n          safelyBreakConnection,\n          dereferenceTypeCount,\n          name,\n        })\n      } else {\n        safelyBreakConnection()\n      }\n    }\n    if (deletingConnection) {\n      setDeleteDialogDetails({ name, connectionConf })\n    }\n  }\n\n  return (\n    <>\n      <CascadingMenuButton\n        menuItems={[\n          {\n            label: 'Open faceted track selector',\n            onClick: () => {\n              setFacetedOpen(true)\n            },\n          },\n          ...(isSessionWithAddTracks(session)\n            ? [\n                {\n                  label: 'Add track...',\n                  onClick: () => {\n                    if (isSessionModelWithWidgets(session)) {\n                      session.showWidget(\n                        session.addWidget('AddTrackWidget', 'addTrackWidget', {\n                          view: model.view.id,\n                        }),\n                      )\n                    }\n                  },\n                },\n              ]\n            : []),\n          {\n            label: 'Connections...',\n            subMenu: [\n              ...(isSessionModelWithConnections(session)\n                ? [\n                    {\n                      label: 'Turn on/off connections...',\n                      onClick: () => setConnectionToggleOpen(true),\n                    },\n                  ]\n                : []),\n              ...(isSessionModelWithConnectionEditing(session)\n                ? [\n                    {\n                      label: 'Add connection...',\n                      onClick: () => {\n                        if (isSessionModelWithWidgets(session)) {\n                          session.showWidget(\n                            session.addWidget(\n                              'AddConnectionWidget',\n                              'addConnectionWidget',\n                            ),\n                          )\n                        }\n                      },\n                    },\n                    {\n                      label: 'Delete connections...',\n                      onClick: () => setConnectionManagerOpen(true),\n                    },\n                  ]\n                : []),\n            ],\n          },\n          {\n            label: 'Sort...',\n            type: 'subMenu',\n            subMenu: [\n              {\n                label: 'Sort tracks by name',\n                type: 'checkbox',\n                checked: model.activeSortTrackNames,\n                onClick: () =>\n                  model.setSortTrackNames(!model.activeSortTrackNames),\n              },\n              {\n                label: 'Sort categories by name',\n                type: 'checkbox',\n                checked: model.activeSortCategories,\n                onClick: () =>\n                  model.setSortCategories(!model.activeSortCategories),\n              },\n            ],\n          },\n          {\n            label: 'Collapse...',\n            type: 'subMenu',\n            subMenu: [\n              ...(model.hasAnySubcategories\n                ? [\n                    {\n                      label: 'Collapse subcategories',\n                      onClick: () => model.collapseSubCategories(),\n                    },\n                  ]\n                : []),\n              {\n                label: 'Collapse top-level categories',\n                onClick: () => model.collapseTopLevelCategories(),\n              },\n              {\n                label: 'Expand all categories',\n                onClick: () => model.expandAllCategories(),\n              },\n            ],\n          },\n        ]}\n      >\n        <MenuIcon />\n      </CascadingMenuButton>\n      <Suspense fallback={null}>\n        {modalInfo ? (\n          <CloseConnectionDialog\n            modalInfo={modalInfo}\n            onClose={() => setModalInfo(undefined)}\n          />\n        ) : null}\n        {deleteDialogDetails ? (\n          <DeleteConnectionDialog\n            handleClose={() => setDeleteDialogDetails(undefined)}\n            deleteDialogDetails={deleteDialogDetails}\n            session={session}\n          />\n        ) : null}\n        {connectionManagerOpen ? (\n          <ManageConnectionsDialog\n            handleClose={() => setConnectionManagerOpen(false)}\n            breakConnection={breakConnection}\n            session={session}\n          />\n        ) : null}\n        {connectionToggleOpen ? (\n          <ToggleConnectionsDialog\n            handleClose={() => setConnectionToggleOpen(false)}\n            session={session}\n            breakConnection={breakConnection}\n          />\n        ) : null}\n\n        {facetedOpen ? (\n          <FacetedDialog\n            handleClose={() => setFacetedOpen(false)}\n            model={model}\n          />\n        ) : null}\n      </Suspense>\n    </>\n  )\n})\n\nexport default HamburgerMenu\n","import React, { useState } from 'react'\nimport { observer } from 'mobx-react'\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport { AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport { MenuItem } from '@jbrowse/core/ui/Menu'\nimport SanitizedHTML from '@jbrowse/core/ui/SanitizedHTML'\nimport { getTrackName } from '@jbrowse/core/util/tracks'\nimport { getSession } from '@jbrowse/core/util'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport TrackLabelMenu from './TrackLabelMenu'\n\nconst DropdownTrackSelector = observer(function ({\n  model,\n  tracks,\n  extraMenuItems,\n  children,\n  onClick,\n}: {\n  model: HierarchicalTrackSelectorModel\n  tracks: AnyConfigurationModel[]\n  extraMenuItems: MenuItem[]\n  onClick?: () => void\n  children: React.ReactElement\n}) {\n  const { view } = model\n  const [open, setOpen] = useState(false)\n  const session = getSession(model)\n  return view ? (\n    <CascadingMenuButton\n      closeAfterItemClick={false}\n      onClick={onClick}\n      menuItems={[\n        ...tracks.map(t => ({\n          type: 'checkbox' as const,\n          label: (\n            <>\n              <SanitizedHTML html={getTrackName(t, session)} />{' '}\n              <TrackLabelMenu\n                id={t.trackId}\n                trackId={t.trackId}\n                model={model}\n                conf={t}\n                setOpen={setOpen}\n                stopPropagation\n              />\n            </>\n          ),\n          checked: view.tracks.some(\n            (f: { configuration: AnyConfigurationModel }) =>\n              f.configuration === t,\n          ),\n          onClick: () => {\n            if (!open) {\n              if (model.view.toggleTrack(t.trackId)) {\n                model.addToRecentlyUsed(t.trackId)\n              }\n            }\n          },\n        })),\n        ...extraMenuItems,\n      ]}\n    >\n      {children}\n    </CascadingMenuButton>\n  ) : null\n})\n\nexport default DropdownTrackSelector\n","import React from 'react'\nimport { Badge, Tooltip } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\n// icons\nimport GradeIcon from '@mui/icons-material/Grade'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport DropdownTrackSelector from './DropdownTrackSelector'\n\nconst useStyles = makeStyles()({\n  smallBadge: {\n    height: 14,\n  },\n  margin: {\n    marginRight: 10,\n  },\n})\nconst FavoriteTracks = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const { view, favoriteTracks } = model\n  return view ? (\n    <DropdownTrackSelector\n      onClick={() => model.setFavoritesCounter(0)}\n      tracks={favoriteTracks}\n      model={model}\n      extraMenuItems={\n        favoriteTracks.length\n          ? [\n              { type: 'divider' as const },\n              {\n                label: 'Clear favorites',\n                onClick: () => model.clearFavorites(),\n              },\n            ]\n          : [\n              {\n                label: 'No favorite tracks yet',\n                onClick: () => {},\n              },\n            ]\n      }\n    >\n      <Tooltip title=\"Favorite tracks\">\n        <Badge\n          classes={{ badge: classes.smallBadge }}\n          color=\"secondary\"\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          className={classes.margin}\n          badgeContent={model.favoritesCounter}\n        >\n          <GradeIcon />\n        </Badge>\n      </Tooltip>\n    </DropdownTrackSelector>\n  ) : null\n})\n\nexport default FavoriteTracks\n","import React from 'react'\nimport { Badge, Tooltip } from '@mui/material'\nimport { observer } from 'mobx-react'\n\n// icons\nimport HistoryIcon from '@mui/icons-material/History'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport DropdownTrackSelector from './DropdownTrackSelector'\nimport { makeStyles } from 'tss-react/mui'\n\nconst useStyles = makeStyles()({\n  smallBadge: {\n    height: 14,\n  },\n})\n\nconst RecentlyUsedTracks = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const { view, recentlyUsedCounter, recentlyUsedTracks } = model\n  return view ? (\n    <DropdownTrackSelector\n      onClick={() => model.setRecentlyUsedCounter(0)}\n      model={model}\n      tracks={recentlyUsedTracks}\n      extraMenuItems={\n        recentlyUsedTracks.length\n          ? [\n              { type: 'divider' as const },\n              {\n                label: 'Clear recently used',\n                onClick: () => model.clearRecentlyUsed(),\n              },\n            ]\n          : [\n              {\n                label: 'No recently used',\n                onClick: () => {},\n              },\n            ]\n      }\n    >\n      <Tooltip title=\"Recently used tracks\">\n        <Badge\n          classes={{ badge: classes.smallBadge }}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          color=\"secondary\"\n          badgeContent={recentlyUsedCounter}\n        >\n          <HistoryIcon />\n        </Badge>\n      </Tooltip>\n    </DropdownTrackSelector>\n  ) : null\n})\n\nexport default RecentlyUsedTracks\n","import React from 'react'\nimport { IconButton, InputAdornment, TextField } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport { observer } from 'mobx-react'\n\n// icons\nimport ClearIcon from '@mui/icons-material/Clear'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport HamburgerMenu from './HamburgerMenu'\nimport ShoppingCart from '../ShoppingCart'\nimport FavoriteTracks from './FavoriteTracks'\nimport RecentlyUsedTracks from './RecentlyUsedTracks'\n\nconst useStyles = makeStyles()(theme => ({\n  searchBox: {\n    margin: theme.spacing(2),\n  },\n}))\n\nconst SearchTracksTextField = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { filterText } = model\n  const { classes } = useStyles()\n  return (\n    <TextField\n      className={classes.searchBox}\n      label=\"Filter tracks\"\n      value={filterText}\n      onChange={event => model.setFilterText(event.target.value)}\n      fullWidth\n      InputProps={{\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <IconButton onClick={() => model.clearFilterText()}>\n              <ClearIcon />\n            </IconButton>\n          </InputAdornment>\n        ),\n      }}\n    />\n  )\n})\n\nconst HierarchicalTrackSelectorHeader = observer(function ({\n  model,\n  setHeaderHeight,\n}: {\n  model: HierarchicalTrackSelectorModel\n  setHeaderHeight: (n: number) => void\n}) {\n  return (\n    <div\n      ref={ref => setHeaderHeight(ref?.getBoundingClientRect().height || 0)}\n      data-testid=\"hierarchical_track_selector\"\n    >\n      <div style={{ display: 'flex' }}>\n        <HamburgerMenu model={model} />\n        <ShoppingCart model={model} />\n        <SearchTracksTextField model={model} />\n        <RecentlyUsedTracks model={model} />\n        <FavoriteTracks model={model} />\n      </div>\n    </div>\n  )\n})\n\nexport default HierarchicalTrackSelectorHeader\n","import React, { useState } from 'react'\nimport { observer } from 'mobx-react'\nimport AutoSizer from 'react-virtualized-auto-sizer'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../model'\nimport { TreeNode } from '../generateHierarchy'\nimport HierarchicalFab from './HierarchicalFab'\nimport HierarchicalTree from './tree/HierarchicalTree'\nimport HierarchicalHeader from './tree/HierarchicalHeader'\n\n// Don't use autosizer in jest and instead hardcode a height, otherwise fails\n// jest tests\nconst AutoSizedHierarchicalTree = ({\n  tree,\n  model,\n  offset,\n}: {\n  tree: TreeNode\n  model: HierarchicalTrackSelectorModel\n  offset: number\n}) => {\n  return typeof jest === 'undefined' ? (\n    <AutoSizer disableWidth>\n      {args => (\n        <HierarchicalTree\n          height={(args.height || offset) - offset}\n          model={model}\n          tree={tree}\n        />\n      )}\n    </AutoSizer>\n  ) : (\n    <HierarchicalTree height={9000} model={model} tree={tree} />\n  )\n}\n\nconst Wrapper = ({\n  overrideDimensions,\n  children,\n}: {\n  overrideDimensions?: { width: number; height: number }\n  children: React.ReactNode\n}) => {\n  return overrideDimensions ? (\n    <div style={{ ...overrideDimensions }}>{children}</div>\n  ) : (\n    children\n  )\n}\nconst HierarchicalTrackSelectorContainer = observer(function ({\n  model,\n  toolbarHeight,\n  overrideDimensions,\n}: {\n  model: HierarchicalTrackSelectorModel\n  toolbarHeight: number\n  overrideDimensions?: { width: number; height: number }\n}) {\n  return (\n    <Wrapper overrideDimensions={overrideDimensions}>\n      <HierarchicalTrackSelector model={model} toolbarHeight={toolbarHeight} />\n      <HierarchicalFab model={model} />\n    </Wrapper>\n  )\n})\n\nconst HierarchicalTrackSelector = observer(function ({\n  model,\n  toolbarHeight = 0,\n}: {\n  model: HierarchicalTrackSelectorModel\n  toolbarHeight?: number\n}) {\n  const [headerHeight, setHeaderHeight] = useState(0)\n  return (\n    <>\n      <HierarchicalHeader model={model} setHeaderHeight={setHeaderHeight} />\n      <AutoSizedHierarchicalTree\n        tree={model.hierarchy}\n        model={model}\n        offset={toolbarHeight + headerHeight}\n      />\n    </>\n  )\n})\n\nexport default HierarchicalTrackSelectorContainer\n","import React from 'react'\nimport { Badge } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { MenuItem } from '@jbrowse/core/ui/Menu'\nimport { getSession, getEnv } from '@jbrowse/core/util'\n\n// icons\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../model'\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\n\nconst ShoppingCart = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { selection } = model\n  const { pluginManager } = getEnv(model)\n  const session = getSession(model)\n  const items = pluginManager.evaluateExtensionPoint(\n    'TrackSelector-multiTrackMenuItems',\n    [],\n    { session },\n  ) as MenuItem[]\n\n  return selection.length ? (\n    <CascadingMenuButton\n      menuItems={[\n        { label: 'Clear', onClick: () => model.clearSelection() },\n        ...items.map(item => ({\n          ...item,\n          ...('onClick' in item ? { onClick: () => item.onClick(model) } : {}),\n        })),\n      ]}\n    >\n      <Badge badgeContent={selection.length} color=\"primary\">\n        <ShoppingCartIcon />\n      </Badge>\n    </CascadingMenuButton>\n  ) : null\n})\n\nexport default ShoppingCart\n","import React from 'react'\nimport { makeStyles } from 'tss-react/mui'\nimport { getSession } from '@jbrowse/core/util'\nimport { AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\n\n// icons\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz'\nimport StarIcon from '@mui/icons-material/StarBorderOutlined'\nimport FilledStarIcon from '@mui/icons-material/Star'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\n\nconst useStyles = makeStyles()({\n  cascadingStyle: {\n    padding: 0,\n  },\n})\n\nconst TrackLabelMenu = function ({\n  id,\n  trackId,\n  stopPropagation,\n  model,\n  setOpen,\n  conf,\n}: {\n  id: string\n  trackId: string\n  stopPropagation?: boolean\n  conf: AnyConfigurationModel\n  setOpen?: (arg: boolean) => void\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  return (\n    <CascadingMenuButton\n      className={classes.cascadingStyle}\n      stopPropagation={stopPropagation}\n      setOpen={setOpen}\n      data-testid={`htsTrackEntryMenu-${id}`}\n      menuItems={[\n        ...(getSession(model).getTrackActionMenuItems?.(conf) || []),\n        model.isFavorite(trackId)\n          ? {\n              label: 'Remove from favorites',\n              onClick: () => model.removeFromFavorites(trackId),\n              icon: StarIcon,\n            }\n          : {\n              label: 'Add to favorites',\n              onClick: () => model.addToFavorites(trackId),\n              icon: FilledStarIcon,\n            },\n        {\n          label: 'Add to selection',\n          onClick: () => model.addToSelection([conf]),\n        },\n        ...(model.isSelected(conf)\n          ? [\n              {\n                label: 'Remove from selection',\n                onClick: () => model.removeFromSelection([conf]),\n              },\n            ]\n          : []),\n      ]}\n    >\n      <MoreHorizIcon />\n    </CascadingMenuButton>\n  )\n}\n\nexport default TrackLabelMenu\n"],"names":["useStyles","makeStyles","theme","fab","position","bottom","spacing","right","observer","model","classes","session","getSession","anchorEl","setAnchorEl","useState","handleFabClose","hasConnections","isSessionModelWithConnections","hasAddTrack","isSessionWithAddTracks","React","Fab","color","className","onClick","event","currentTarget","AddIcon","Menu","open","Boolean","onClose","MenuItem","isSessionModelWithWidgets","showWidget","addWidget","view","id","getAllChildren","subtree","type","children","map","t","conf","flat","Infinity","treeToMap","tree","Map","length","set","node","isUnsupported","name","endsWith","contrastColor","palette","tertiary","contrastText","accordionText","margin","width","Category","isOpen","setOpen","data","menuEl","setMenuEl","menuItems","toggleCollapse","Typography","ArrowDropDownIcon","ArrowRightIcon","IconButton","stopPropagation","MoreHorizIcon","JBrowseMenu","label","r","get","addToSelection","removeFromSelection","entry","showTrack","trackId","hideTrack","onMenuItemClick","_event","callback","compactCheckbox","padding","checkboxLabel","marginRight","backgroundColor","action","selected","background","TrackLabel","checked","drawerPosition","onChange","description","readConfObject","Tooltip","title","placement","FormControlLabel","control","Checkbox","disabled","inputProps","style","undefined","SanitizedHTML","html","TrackLabelMenu","accordionBase","display","accordionCard","cursor","nestingLevelMarker","borderLeft","accordionColor","main","paddingLeft","Node","isLeaf","nestingLevel","marginLeft","Array","fill","_","idx","key","left","height","whiteSpace","getNodeData","extra","selection","defaultHeight","isOpenByDefault","filterText","treeRef","useRef","obj","useMemo","Object","fromEntries","s","toggleTrack","addToRecentlyUsed","pathName","toggleCategory","treeWalker","useCallback","child","parentMeta","curr","useEffect","current","recomputeTree","refreshNodes","useDefaultHeight","VariableSizeTree","ref","FacetedDialog","lazy","CloseConnectionDialog","DeleteConnectionDialog","ManageConnectionsDialog","ToggleConnectionsDialog","modalInfo","setModalInfo","deleteDialogDetails","setDeleteDialogDetails","connectionToggleOpen","setConnectionToggleOpen","connectionManagerOpen","setConnectionManagerOpen","facetedOpen","setFacetedOpen","breakConnection","connectionConf","deletingConnection","result","prepareToBreakConnection","safelyBreakConnection","dereferenceTypeCount","keys","CascadingMenuButton","subMenu","isSessionModelWithConnectionEditing","activeSortTrackNames","setSortTrackNames","activeSortCategories","setSortCategories","hasAnySubcategories","collapseSubCategories","collapseTopLevelCategories","expandAllCategories","MenuIcon","Suspense","fallback","handleClose","tracks","extraMenuItems","closeAfterItemClick","getTrackName","some","f","configuration","smallBadge","favoriteTracks","DropdownTrackSelector","setFavoritesCounter","clearFavorites","Badge","badge","anchorOrigin","vertical","horizontal","badgeContent","favoritesCounter","GradeIcon","recentlyUsedCounter","recentlyUsedTracks","setRecentlyUsedCounter","clearRecentlyUsed","HistoryIcon","searchBox","SearchTracksTextField","TextField","value","setFilterText","target","fullWidth","InputProps","endAdornment","InputAdornment","clearFilterText","ClearIcon","setHeaderHeight","getBoundingClientRect","HamburgerMenu","ShoppingCart","RecentlyUsedTracks","FavoriteTracks","AutoSizedHierarchicalTree","offset","jest","AutoSizer","disableWidth","args","HierarchicalTree","Wrapper","overrideDimensions","HierarchicalTrackSelectorContainer","toolbarHeight","HierarchicalTrackSelector","HierarchicalFab","headerHeight","HierarchicalHeader","hierarchy","pluginManager","getEnv","items","evaluateExtensionPoint","clearSelection","item","ShoppingCartIcon","cascadingStyle","getTrackActionMenuItems","isFavorite","removeFromFavorites","icon","StarIcon","addToFavorites","FilledStarIcon","isSelected"],"sourceRoot":""}