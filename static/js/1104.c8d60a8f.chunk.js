"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1104],{1104(e,t,o){o.r(t),o.d(t,{default:()=>i});var r=o(18769),n=o(64074),l=o(68183),s=o(32118);const i=(0,n.observer)(function(e){const{model:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(r.Ay,{...e}),(0,s.jsx)(l.A,{model:t})]})})},41308(e,t,o){o.d(t,{A3:()=>i,BO:()=>l,oJ:()=>s});var r=o(11259),n=o(77251);function l(e,t,o=1){const r=t.map(t=>e.findIndex(e=>e.name===t)).sort((e,t)=>e-t);let n=0;for(const t of r){const r=Math.max(n,t-o);r>=n&&e.splice(r,0,e.splice(t,1)[0]),n+=1}return e}function s(e,t,o=1){const r=t.map(t=>e.findIndex(e=>e.name===t)).sort((e,t)=>t-e);let n=e.length-1;for(const t of r){const r=Math.min(n,t+o);r<=n&&e.splice(r,0,e.splice(t,1)[0]),n-=1}return e}function i(e){const{prefersOffset:t}=e,{trackLabels:o}=(0,n.getContainingView)(e),l=(0,n.getContainingTrack)(e),s=(0,r.FI)(l,"name");return"overlapping"!==o||t?10:(0,n.measureText)(s,12.8)+100}},68183(e,t,o){o.d(t,{A:()=>f});var r=o(64074),n=o(77251),l=o(42918),s=o(33579),i=o(30936),a=o(15943),c=o(32118);const h=e=>{const t=(0,i.c)(11),{x:o,y:r,width:l,height:h,color:d}=e,x=(0,s.A)();let g,u,m;return t[0]!==d||t[1]!==x?(g=d||(0,a.X4)(x.palette.background.paper,.3),t[0]=d,t[1]=x,t[2]=g):g=t[2],t[3]!==g?(u=(0,n.getFillProps)(g),t[3]=g,t[4]=u):u=t[4],t[5]!==h||t[6]!==u||t[7]!==l||t[8]!==o||t[9]!==r?(m=(0,c.jsx)("rect",{pointerEvents:"auto",x:o,y:r,width:l,height:h,...u}),t[5]=h,t[6]=u,t[7]=l,t[8]=o,t[9]=r,t[10]=m):m=t[10],m},d=function(e){const t=(0,i.c)(18),{source:o,idx:r,rowHeight:n,labelWidth:l,model:s,exportSVG:a}=e,d=Math.min(20,n),{needsCustomLegend:x,graphType:g,needsFullHeightScalebar:u,rowHeightTooSmallForScalebar:m,renderColorBoxes:p}=s,w=p?15:0,j=l+w+5,b=(a?10:0)||(g&&!m?50:0);let f,S,v;return t[0]!==d||t[1]!==b||t[2]!==r||t[3]!==j||t[4]!==u||t[5]!==n?(f=u?null:(0,c.jsx)(h,{y:r*n+1,x:b,width:j,height:d}),t[0]=d,t[1]=b,t[2]=r,t[3]=j,t[4]=u,t[5]=n,t[6]=f):f=t[6],t[7]!==d||t[8]!==w||t[9]!==b||t[10]!==r||t[11]!==x||t[12]!==n||t[13]!==o.color?(S=o.color?(0,c.jsx)(h,{y:r*n+1,x:b,width:w,height:x?n:d,color:o.color}):null,t[7]=d,t[8]=w,t[9]=b,t[10]=r,t[11]=x,t[12]=n,t[13]=o.color,t[14]=S):S=t[14],t[15]!==f||t[16]!==S?(v=(0,c.jsxs)(c.Fragment,{children:[f,S]}),t[15]=f,t[16]=S,t[17]=v):v=t[17],v},x=function(e){const t=(0,i.c)(9),{source:o,idx:r,rowHeight:n,model:l,exportSVG:s,textFillProps:a}=e,{graphType:h,rowHeightTooSmallForScalebar:d,renderColorBoxes:x}=l,g=Math.min(n,12),u=n>=6,m=x?15:0,p=(s?10:0)||(h&&!d?50:0);let w;return t[0]!==u||t[1]!==m||t[2]!==p||t[3]!==r||t[4]!==n||t[5]!==o||t[6]!==g||t[7]!==a?(w=u?(0,c.jsx)("text",{y:r*n+g,x:p+m+2,fontSize:g,...a,children:o.name}):null,t[0]=u,t[1]=m,t[2]=p,t[3]=r,t[4]=n,t[5]=o,t[6]=g,t[7]=a,t[8]=w):w=t[8],w},g=(0,r.observer)(function({model:e,rowHeight:t,exportSVG:o}){const{graphType:r,needsFullHeightScalebar:i,rowHeightTooSmallForScalebar:a,renderColorBoxes:g,sources:u,labelWidth:m}=e,p=m+(g?20:0)+5,w=(o?10:0)||(r&&!a?50:0),j=(0,s.A)(),b=(0,l.useMemo)(()=>(0,n.getFillProps)(j.palette.text.primary),[j.palette.text.primary]);return u?(0,c.jsxs)(c.Fragment,{children:[i?(0,c.jsx)(h,{y:0,x:w,width:p,height:(u.length+.25)*t}):null,u.map((r,n)=>(0,c.jsx)(d,{source:r,idx:n,model:e,rowHeight:t,exportSVG:o,labelWidth:p},`${r.name}-${n}`)),u.map((r,n)=>(0,c.jsx)(x,{source:r,idx:n,model:e,rowHeight:t,exportSVG:o,textFillProps:b},`${r.name}-text-${n}`))]}):null});var u=o(41308),m=o(79079);const p=(0,r.observer)(function({model:e,orientation:t,exportSVG:o}){const{labelWidth:r}=e,{width:l}=(0,n.getContainingView)(e);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{transform:`translate(${o?0:(0,u.A3)(e)},0)`,children:(0,c.jsx)(m.A,{model:e,orientation:t})}),(0,c.jsx)("g",{transform:`translate(${l-r-100},0)`,children:(0,c.jsx)(g,{exportSVG:o,model:e,rowHeight:12})})]})}),w=(0,r.observer)(function({model:e}){const{ticks:t,scaleType:o}=e,{width:r}=(0,n.getContainingView)(e),l=`[${t?.values[0]}-${t?.values[1]}]${"log"===o?" (log scale)":""}`,s=(0,n.measureText)(l,14),i=r-s-25;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h,{y:0,x:i,width:s+6,height:16}),(0,c.jsx)("text",{y:13,x:i,children:l})]})}),j=(0,r.observer)(function({model:e,orientation:t,exportSVG:o}){const{sources:r,rowHeight:n,rowHeightTooSmallForScalebar:l,needsCustomLegend:s,ticks:i}=e;return r?.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(g,{exportSVG:o,model:e,rowHeight:e.rowHeight}),l||s?(0,c.jsx)(w,{model:e}):r.map((o,r)=>(0,c.jsx)("g",{transform:`translate(0 ${n*r})`,children:(0,c.jsx)(m.A,{model:e,orientation:t})},`${JSON.stringify(i)}-${r}`))]}):null}),b=(0,r.observer)(function({children:e,model:t,exportSVG:o}){const{height:r}=t;return o?e:(0,c.jsx)("svg",{style:{position:"absolute",top:0,left:0,pointerEvents:"none",height:r,width:(0,n.getContainingView)(t).width},children:e})}),f=(0,r.observer)(function(e){const{model:t,orientation:o,exportSVG:r}=e,{showSidebar:n,stats:l,needsFullHeightScalebar:s,sources:i}=t;return l&&i?(0,c.jsx)(b,{...e,children:n?s?(0,c.jsx)(p,{model:t,orientation:o,exportSVG:r}):(0,c.jsx)(j,{model:t,orientation:o,exportSVG:r}):null}):null})}}]);
//# sourceMappingURL=1104.c8d60a8f.chunk.js.map