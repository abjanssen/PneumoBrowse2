{"version":3,"file":"static/js/1657.8b9a8a5d.chunk.js","mappings":"sHAAO,SAASA,EAAYC,GAC1B,MAAe,MAAXA,EACK,EACa,MAAXA,GACD,OAER,CAEJ,CAEO,SAASC,EAAcC,GAC5B,OAAO,IAAIC,YAAY,QACpBC,OAAOF,GACPG,MAAM,cACNC,IAAIC,GAAKA,EAAEC,QACXC,OAAOF,KAAOA,EACnB,C,uCCTO,SAASG,EAASC,GACvB,MAAmB,iBAARA,EACFA,EAAMA,IAAQ,EACG,iBAARA,GAAmC,KAAfA,EAAIH,QACjCI,OAAOC,UAAUF,EAI5B,C,8FCZA,SAASG,EAAgCC,GACvC,MAAMC,EAASD,EAAIV,MAAM,KACzB,MAAO,CACLY,QAASD,EAAO,GAChBE,OAAQF,EAAO,GACfG,KAAMH,EAAO,GAAM,EACnBhB,QAAQD,EAAAA,EAAAA,GAAYiB,EAAO,IAE/B,CAEO,SAASI,EAAsBlB,GACpC,MAAMmB,GAAQpB,EAAAA,EAAAA,GAAcC,GACtBoB,EAAUD,EAAM,GAAIE,MAAM,GAAGlB,MAAM,MACzC,MAAO,CACLiB,QAASA,EAAQhB,IAAIkB,IAAK,CAAGC,KAAMD,KACnCE,OAAQ,CACNC,KAAMN,EAAME,MAAM,GAAGjB,IAAI,CAACsB,EAAMC,KAC9B,MAAMC,EAAOF,EAAKvB,MAAM,MAClB0B,EAAMC,OAAOC,YACjBX,EAAQhB,IAAI,CAAC4B,EAAGC,IAAM,CAACD,GAAGxB,EAAAA,EAAAA,GAASoB,EAAKK,KAAOL,EAAKK,GAAKL,EAAKK,MAEhE,MAAO,CAELC,SAAUL,EAEVM,QAAS,CACPC,SAAU,MAAMT,OACbf,EAAgCiB,EAAIQ,gBACvCC,KAAM1B,EACJiB,EAAIU,sBAOlB,C","sources":["../../../plugins/spreadsheet-view/src/SpreadsheetView/importAdapters/util.ts","../../../plugins/spreadsheet-view/src/SpreadsheetView/importAdapters/isNumber.ts","../../../plugins/spreadsheet-view/src/SpreadsheetView/importAdapters/STARFusionImport.ts"],"sourcesContent":["export function parseStrand(strand?: string) {\n  if (strand === '+') {\n    return 1\n  } else if (strand === '-') {\n    return -1\n  } else {\n    return undefined\n  }\n}\n\nexport function bufferToLines(buffer: Uint8Array) {\n  return new TextDecoder('utf8')\n    .decode(buffer)\n    .split(/\\n|\\r\\n|\\r/)\n    .map(f => f.trim())\n    .filter(f => !!f)\n}\n","/**\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nexport function isNumber(num: unknown): num is number {\n  if (typeof num === 'number') {\n    return num - num === 0\n  } else if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite(+num)\n  } else {\n    return false\n  }\n}\n","import { isNumber } from './isNumber.ts'\nimport { bufferToLines, parseStrand } from './util.ts'\n\nfunction parseSTARFusionBreakpointString(str: string) {\n  const fields = str.split(':')\n  return {\n    refName: fields[0],\n    start: +fields[1]!,\n    end: +fields[1]! + 1,\n    strand: parseStrand(fields[2]),\n  }\n}\n\nexport function parseSTARFusionBuffer(buffer: Uint8Array) {\n  const lines = bufferToLines(buffer)\n  const columns = lines[0]!.slice(1).split('\\t')\n  return {\n    columns: columns.map(c => ({ name: c })),\n    rowSet: {\n      rows: lines.slice(1).map((line, rowNumber) => {\n        const cols = line.split('\\t')\n        const row = Object.fromEntries(\n          columns.map((h, i) => [h, isNumber(cols[i]) ? +cols[i] : cols[i]!]),\n        )\n        return {\n          // what is displayed\n          cellData: row,\n          // an actual simplefeatureserialized\n          feature: {\n            uniqueId: `sf-${rowNumber}`,\n            ...parseSTARFusionBreakpointString(row.LeftBreakpoint! as string),\n            mate: parseSTARFusionBreakpointString(\n              row.RightBreakpoint! as string,\n            ),\n          },\n        }\n      }),\n    },\n  }\n}\n"],"names":["parseStrand","strand","bufferToLines","buffer","TextDecoder","decode","split","map","f","trim","filter","isNumber","num","Number","isFinite","parseSTARFusionBreakpointString","str","fields","refName","start","end","parseSTARFusionBuffer","lines","columns","slice","c","name","rowSet","rows","line","rowNumber","cols","row","Object","fromEntries","h","i","cellData","feature","uniqueId","LeftBreakpoint","mate","RightBreakpoint"],"ignoreList":[],"sourceRoot":""}