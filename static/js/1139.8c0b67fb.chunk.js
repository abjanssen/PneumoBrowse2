"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1139,3520],{11139(e,t,o){o.r(t),o.d(t,{default:()=>b});var n=o(30128),a=o(28910),r=o(46625),i=o(63209),s=o(78921),l=o(42700),c=o(23149),d=o(44641),p=o(35703),h=o(153);const{eL:m}=h;function u(e,t){let o=0,n=0;for(let a=0;a<e.length;a++){const r=+e[a],i=e[a+1],s=Math.min(r,t-o);if(o>=t)break;"I"===i?n+=r:"D"===i?o+=s:"M"!==i&&"="!==i&&"X"!==i||(n+=s,o+=s)}return[o,n]}var y=o(44460);const v=(0,r.n)()({padding:{margin:10,border:"1px solid #ccc"}});function b({session:e,view:t,feature:o,trackId:r,handleClose:h}){const{classes:b}=v(),A=-1===o.get("strand"),f=!!o.get("CIGAR"),[g,k]=(0,n.useState)(A),[w,x]=(0,n.useState)("1000"),[C,z]=(0,n.useState)(!0);return(0,y.jsxs)(a.A,{open:!0,title:"Launch synteny view",onClose:h,children:[(0,y.jsxs)(i.A,{children:[t&&f?(0,y.jsx)(s.A,{className:b.padding,control:(0,y.jsx)(l.A,{checked:C,onChange:e=>{z(e.target.checked)}}),label:"Use CIGAR string to navigate the current visible to the target"}):null,A?(0,y.jsx)(s.A,{className:b.padding,control:(0,y.jsx)(l.A,{checked:g,onChange:e=>{k(e.target.checked)}}),label:"Note: The feature is inverted in orientation on the target sequence. This will result in the lower panel having genomic coordinates decreasing left to right. Horizontally flip?"}):null,(0,y.jsx)(c.A,{label:"Add window size in bp",value:w,onChange:e=>{x(e.target.value)}})]}),(0,y.jsxs)(d.A,{children:[(0,y.jsx)(p.A,{variant:"contained",onClick:()=>{(async()=>{try{await async function({feature:e,windowSize:t,session:o,trackId:n,region:a,horizontallyFlip:r}){const i=e.get("CIGAR"),s=e.get("strand"),l=e.get("refName"),c=e.get("assemblyName"),d=e.get("start"),p=e.get("end"),h=e.get("mate"),y=h.start,v=h.end,b=h.assemblyName,A=h.refName;let f,g,k,w;if(a&&i){const e=a.start,t=a.end,o=m(i),[n,r]=u(o,e-d),[l,c]=u(o,t-d),p=-1===s?-1:1;k=d+n,w=d+l,f=(-1===s?v:y)+r*p,g=(-1===s?v:y)+c*p}else k=d,w=p,f=y,g=v;const x=`${l}:${Math.floor(k-t)}-${Math.floor(w+t)}`,C=Math.min(f,g),z=Math.max(f,g),j=`${A}:${Math.floor(C-t)}-${Math.floor(z+t)}${r?"[rev]":""}`;o.addView("LinearSyntenyView",{type:"LinearSyntenyView",views:[{type:"LinearGenomeView",hideHeader:!0,init:{assembly:c,loc:x}},{type:"LinearGenomeView",hideHeader:!0,init:{assembly:b,loc:j}}],tracks:[{configuration:n,type:"SyntenyTrack",displays:[{type:"LinearSyntenyDisplay",configuration:`${n}-LinearSyntenyDisplay`}]}]})}({feature:o,windowSize:+w,horizontallyFlip:g,trackId:r,session:e,region:C?t?.dynamicBlocks.contentBlocks[0]:void 0})}catch(t){console.error(t),e.notifyError(`${t}`,t)}})(),h()},children:"Submit"}),(0,y.jsx)(p.A,{variant:"contained",color:"secondary",onClick:()=>{h()},children:"Cancel"})]})]})}},42700(e,t,o){o.d(t,{A:()=>z});var n=o(30128),a=o(21227),r=o(74533),i=o(94126),s=o(91383),l=o(44460);const c=(0,s.A)((0,l.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=(0,s.A)((0,l.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,s.A)((0,l.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var h=o(37540),m=o(73888),u=o(4033),y=o(80638),v=o(39104),b=o(71646),A=o(45639),f=o(30536),g=o(30787);const k=(0,y.Ay)(i.A,{shouldForwardProp:e=>(0,m.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t[`size${(0,h.A)(o.size)}`],"default"!==o.color&&t[`color${(0,h.A)(o.color)}`]]}})((0,v.A)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,b.A)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,b.A)()).map(([t])=>({props:{color:t},style:{[`&.${u.A.checked}, &.${u.A.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${u.A.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),w=(0,l.jsx)(d,{}),x=(0,l.jsx)(c,{}),C=(0,l.jsx)(p,{}),z=n.forwardRef(function(e,t){const o=(0,A.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:i=w,color:s="primary",icon:c=x,indeterminate:d=!1,indeterminateIcon:p=C,inputProps:m,size:y="medium",disableRipple:v=!1,className:b,slots:z={},slotProps:j={},...S}=o,M=d?p:c,$=d?p:i,R={...o,disableRipple:v,color:s,indeterminate:d,size:y},I=(e=>{const{classes:t,indeterminate:o,color:n,size:a}=e,i={root:["root",o&&"indeterminate",`color${(0,h.A)(n)}`,`size${(0,h.A)(a)}`]},s=(0,r.A)(i,u.w,t);return{...t,...s}})(R),L=j.input??m,[N,P]=(0,g.A)("root",{ref:t,elementType:k,className:(0,a.A)(I.root,b),shouldForwardComponentProp:!0,externalForwardedProps:{slots:z,slotProps:j,...S},ownerState:R,additionalProps:{type:"checkbox",icon:n.cloneElement(M,{fontSize:M.props.fontSize??y}),checkedIcon:n.cloneElement($,{fontSize:$.props.fontSize??y}),disableRipple:v,slots:z,slotProps:{input:(0,f.A)("function"==typeof L?L(R):L,{"data-indeterminate":d})}}});return(0,l.jsx)(N,{...P,classes:I})})},4033(e,t,o){o.d(t,{A:()=>i,w:()=>r});var n=o(26743),a=o(2395);function r(e){return(0,a.Ay)("MuiCheckbox",e)}const i=(0,n.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"])}}]);
//# sourceMappingURL=1139.8c0b67fb.chunk.js.map