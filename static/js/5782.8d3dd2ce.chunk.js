"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[5782],{65782(e,t,r){r.r(t),r.d(t,{setupTreeDrawingAutorun:()=>s});var o=r(23886),n=r(10533),i=r(44934);function s(e){(0,n.addDisposer)(e,(0,i.autorun)(function(){if(!(0,n.isAlive)(e)||e.isMinimized)return;const{treeCanvas:t,hierarchy:r,treeAreaWidth:o,height:i,scrollTop:s,totalHeight:a}=e;if(!t||!r)return;const l=t.getContext("2d");if(l){l.resetTransform(),l.scale(2,2),l.clearRect(0,0,o,i),l.translate(0,-s),l.strokeStyle="#0008",l.lineWidth=1,l.beginPath();for(const e of r.links()){const{source:t,target:r}=e,o=t.x,n=r.x,i=r.y,s=t.y;l.moveTo(s,o),l.lineTo(s,n),l.moveTo(s,n),l.lineTo(i,n)}l.stroke()}},{name:"TreeDraw"})),(0,n.addDisposer)(e,(0,i.autorun)(function(){if(!(0,n.isAlive)(e)||e.isMinimized)return;const{mouseoverCanvas:t,hierarchy:r,rowHeight:i,hoveredTreeNode:s,height:a,scrollTop:l,sources:c,totalHeight:h}=e;if(!t)return;const u=t.getContext("2d");if(!u)return;const f=(0,o.getContainingView)(e).width;if(u.clearRect(0,0,f,a),r&&s&&c){u.save(),u.translate(0,-l),u.fillStyle="rgba(255,165,0,0.2)";const e=new Set(s.descendantNames);for(let t=0,r=c.length;t<r;t++){const r=c[t];if(e.has(r.name)){const e=(t+.5)*i;u.fillRect(0,e-i/2,f,i)}}const{node:t}=s;u.fillStyle="rgba(255,165,0,0.8)",u.beginPath(),u.arc(t.y,t.x,4,0,2*Math.PI),u.fill(),u.strokeStyle="rgba(255,140,0,1)",u.lineWidth=1,u.stroke(),u.restore()}},{name:"TreeHover"}))}}}]);
//# sourceMappingURL=5782.8d3dd2ce.chunk.js.map