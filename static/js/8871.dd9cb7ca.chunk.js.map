{"version":3,"file":"static/js/8871.dd9cb7ca.chunk.js","mappings":"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","sources":["webpack://@jbrowse/web/../../packages/sv-core/src/util.ts","webpack://@jbrowse/web/../../plugins/alignments/src/AlignmentsFeatureDetail/LaunchSupplementaryAlignmentBreakpointSplitViewPanel.tsx","webpack://@jbrowse/web/../../plugins/alignments/src/AlignmentsFeatureDetail/getSAFeatures.ts","webpack://@jbrowse/web/../../plugins/alignments/src/AlignmentsFeatureDetail/SupplementaryAlignmentsLocStrings.tsx","webpack://@jbrowse/web/../../plugins/alignments/src/AlignmentsFeatureDetail/SupplementaryAlignments.tsx"],"sourcesContent":["import { parseBreakend } from '@gmod/vcf'\n\nimport type { Track } from './types.ts'\nimport type { Assembly } from '@jbrowse/core/assemblyManager/assembly'\nimport type { Feature } from '@jbrowse/core/util'\n\nexport function getBreakendCoveringRegions({\n  feature,\n  assembly,\n}: {\n  feature: Feature\n  assembly: Assembly\n}) {\n  const alt = feature.get('ALT')?.[0]\n  const bnd = alt ? parseBreakend(alt) : undefined\n  const startPos = feature.get('start')\n  const refName = feature.get('refName')\n  const f = (ref: string) => assembly.getCanonicalRefName(ref) || ref\n\n  if (alt === '<TRA>') {\n    const INFO = feature.get('INFO')\n    return {\n      pos: startPos,\n      refName: f(refName),\n      mateRefName: f(INFO.CHR2[0]),\n      matePos: INFO.END[0] - 1,\n    }\n  } else if (bnd?.MatePosition) {\n    const matePosition = bnd.MatePosition.split(':')\n    return {\n      pos: startPos,\n      refName: f(refName),\n      mateRefName: f(matePosition[0]!),\n      matePos: +matePosition[1]! - 1,\n    }\n  } else if (feature.get('mate')) {\n    const mate = feature.get('mate')\n    const strand = feature.get('strand')\n    const mateStrand = mate.strand\n    // Use the correct \"side\" of the feature based on strand:\n    // Forward strand (1): use end position (right side)\n    // Reverse strand (-1): use start position (left side)\n    const pos = strand === 1 ? feature.get('end') : startPos\n    const matePos = mateStrand === 1 ? mate.start : (mate.end ?? mate.start)\n    return {\n      pos,\n      refName: f(refName),\n      mateRefName: f(mate.refName),\n      matePos,\n    }\n  } else {\n    return {\n      pos: startPos,\n      refName: f(refName),\n      mateRefName: f(refName),\n      matePos: feature.get('end'),\n    }\n  }\n}\n\nexport function stripIds(arr: Track[]) {\n  return arr.map(({ id, displays, ...rest }) => ({\n    ...rest,\n    displays: displays.map(({ id, ...rest }) => rest),\n  }))\n}\n\nexport function makeTitle(f: Feature) {\n  return `${f.get('name') || f.get('id') || 'breakend'} split detail`\n}\n\nexport interface Region {\n  refName: string\n  start: number\n  end: number\n  assemblyName?: string\n}\n\nexport interface ViewWithAssemblyNames {\n  assemblyNames: string[]\n}\n\n/**\n * Safely extracts the first assemblyName from a view's assemblyNames getter.\n * Returns undefined if the view or assemblyNames are not available.\n */\nexport function getAssemblyName(view?: ViewWithAssemblyNames) {\n  return view?.assemblyNames[0]\n}\n\n/**\n * Splits a region at a breakend position into two overlapping regions.\n *\n * JBrowse uses 0-based, half-open coordinates where `end` is exclusive.\n * To ensure the breakend position is visible in both regions:\n * - Left region: ends at pos + 1 (includes position pos)\n * - Right region: starts at pos (includes position pos)\n *\n * This intentional overlap ensures features at the breakend are displayed.\n */\nexport function splitRegionAtPosition<\n  T extends { refName: string; start: number; end: number },\n>(\n  region: T,\n  pos: number,\n  assemblyName?: string,\n): [T & { assemblyName?: string }, T & { assemblyName?: string }] {\n  return [\n    {\n      ...region,\n      end: pos + 1,\n      ...(assemblyName !== undefined && { assemblyName }),\n    },\n    {\n      ...region,\n      start: pos,\n      ...(assemblyName !== undefined && { assemblyName }),\n    },\n  ]\n}\n","import { lazy, useEffect, useState } from 'react'\n\nimport { ErrorMessage } from '@jbrowse/core/ui'\nimport { SimpleFeature, getSession, toLocale } from '@jbrowse/core/util'\nimport { getAssemblyName } from '@jbrowse/sv-core'\nimport { Link, Typography } from '@mui/material'\n\nimport { getSAFeatures } from './getSAFeatures.ts'\n\nimport type { ReducedFeature } from './getSAFeatures.ts'\nimport type { AlignmentFeatureWidgetModel } from './stateModelFactory.ts'\nimport type { SimpleFeatureSerialized } from '@jbrowse/core/util'\n\nconst BreakpointSplitViewChoiceDialog = lazy(\n  () => import('./BreakpointSplitViewChoiceDialog.tsx'),\n)\n\nexport default function LaunchBreakpointSplitViewPanel({\n  model,\n  feature,\n}: {\n  model: AlignmentFeatureWidgetModel\n  feature: SimpleFeatureSerialized\n}) {\n  const { view } = model\n  const [res, setRes] = useState<ReducedFeature[]>()\n  const [error, setError] = useState<unknown>()\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    ;(async () => {\n      try {\n        const feats = await getSAFeatures({\n          view,\n          feature: new SimpleFeature(feature),\n        })\n        setRes(feats)\n      } catch (e) {\n        setError(e)\n        console.error(e)\n      }\n    })()\n  }, [feature, view])\n\n  const ret = [] as [ReducedFeature, ReducedFeature][]\n  if (res) {\n    for (let i = 0; i < res.length - 1; i++) {\n      ret.push([res[i]!, res[i + 1]!] as const)\n    }\n  }\n  const session = getSession(model)\n  const assemblyName = getAssemblyName(model.view)\n  return ret.length && assemblyName ? (\n    <div>\n      <Typography>Launch split view</Typography>\n      {error ? <ErrorMessage error={error} /> : null}\n      <ul>\n        {ret.map((arg, index) => {\n          const [f1, f2] = arg\n          return (\n            <li key={`${JSON.stringify(arg)}-${index}`}>\n              {f1.refName}:{toLocale(f1.strand === 1 ? f1.end : f1.start)} -&gt;{' '}\n              {f2.refName}:{toLocale(f2.strand === 1 ? f2.start : f2.end)}{' '}\n              <Link\n                href=\"#\"\n                onClick={event => {\n                  event.preventDefault()\n                  session.queueDialog(handleClose => [\n                    BreakpointSplitViewChoiceDialog,\n                    {\n                      handleClose,\n                      session,\n                      feature: new SimpleFeature({ ...f1, mate: f2 }),\n                      view: model.view,\n                      assemblyName,\n                    },\n                  ])\n                }}\n              >\n                (breakpoint split view)\n              </Link>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n  ) : null\n}\n","import { getSession } from '@jbrowse/core/util'\n\nimport {\n  featurizeSA,\n  getClip,\n  getLengthSansClipping,\n} from '../MismatchParser/index.ts'\n\nimport type { Feature } from '@jbrowse/core/util'\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\nexport interface ReducedFeature {\n  refName: string\n  start: number\n  clipLengthAtStartOfRead: number\n  end: number\n  strand: number\n  seqLength: number\n  syntenyId?: number\n  uniqueId: string\n  mate: {\n    refName: string\n    start: number\n    end: number\n    syntenyId?: number\n    uniqueId?: string\n  }\n}\n\nexport async function getSAFeatures({\n  view,\n  feature,\n}: {\n  view: LinearGenomeViewModel\n  feature: Feature\n}) {\n  const { assemblyManager } = getSession(view)\n  const cigar = feature.get('CIGAR') as string\n  const origStrand = feature.get('strand') as number\n  const SA = (feature.get('tags')?.SA as string) || ''\n  const readName = feature.get('name') as string\n  const clipLengthAtStartOfRead = getClip(cigar, 1)\n\n  // get the canonical refname for the read because if the read.get('refName')\n  // is chr1 and the actual fasta refName is 1 then no tracks can be opened on\n  // the top panel of the linear read vs ref\n  const assembly = await assemblyManager.waitForAssembly(view.assemblyNames[0]!)\n  if (!assembly) {\n    throw new Error('assembly not found')\n  }\n\n  const suppAlns = featurizeSA(SA, feature.id(), origStrand, readName, true)\n\n  const feat = {\n    ...feature.toJSON(),\n    clipLengthAtStartOfRead,\n    strand: 1,\n    mate: {\n      refName: readName,\n      start: clipLengthAtStartOfRead,\n      end: clipLengthAtStartOfRead + getLengthSansClipping(cigar),\n    },\n  }\n  const features = [feat, ...suppAlns] as ReducedFeature[]\n\n  for (const [i, feature_] of features.entries()) {\n    const f = feature_\n    f.refName = assembly.getCanonicalRefName2(f.refName)\n    f.syntenyId = i\n    f.mate.syntenyId = i\n    f.mate.uniqueId = `${f.uniqueId}_mate`\n  }\n  return features.toSorted(\n    (a, b) => a.clipLengthAtStartOfRead - b.clipLengthAtStartOfRead,\n  )\n}\n","import { toLocale } from '@jbrowse/core/util'\nimport { Link, Typography } from '@mui/material'\n\nimport { navToLoc } from './util.ts'\nimport { getLengthOnRef } from '../MismatchParser/index.ts'\n\nimport type { AlignmentFeatureWidgetModel } from './stateModelFactory.ts'\n\nexport default function SupplementaryAlignmentsLocStrings({\n  tag,\n  model,\n}: {\n  tag: string\n  model: AlignmentFeatureWidgetModel\n}) {\n  return (\n    <div>\n      <Typography>List of supplementary alignment locations</Typography>\n      <ul>\n        {tag\n          .split(';')\n          .filter(SA => !!SA)\n          .map((SA, idx) => {\n            const [saRef, saStart, saStrand, saCigar] = SA.split(',')\n            const saLength = getLengthOnRef(saCigar!)\n            const extra = Math.floor(saLength / 5)\n            const start = +saStart!\n            const end = +saStart! + saLength\n            const sp = start - extra\n            const ep = end + extra\n            const locString = `${saRef}:${Math.max(1, sp)}-${ep}`\n            const displayStart = toLocale(start)\n            const displayEnd = toLocale(end)\n            const displayString = `${saRef}:${displayStart}-${displayEnd} (${saStrand}) [${saLength}bp]`\n            return (\n              /* biome-ignore lint/suspicious/noArrayIndexKey: */\n              <li key={`${locString}-${idx}`}>\n                <Link\n                  href=\"#\"\n                  onClick={async event => {\n                    event.preventDefault()\n\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    navToLoc(locString, model)\n                  }}\n                >\n                  {displayString}\n                </Link>\n              </li>\n            )\n          })}\n      </ul>\n    </div>\n  )\n}\n","import BaseCard from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/BaseCard'\nimport { getEnv, getSession } from '@jbrowse/core/util'\n\nimport LaunchBreakpointSplitViewPanel from './LaunchSupplementaryAlignmentBreakpointSplitViewPanel.tsx'\nimport SupplementaryAlignmentsLocStrings from './SupplementaryAlignmentsLocStrings.tsx'\n\nimport type { AlignmentFeatureWidgetModel } from './stateModelFactory.ts'\nimport type { SimpleFeatureSerialized } from '@jbrowse/core/util'\n\nexport default function SupplementaryAlignments(props: {\n  tag: string\n  model: AlignmentFeatureWidgetModel\n  feature: SimpleFeatureSerialized\n}) {\n  const { model, tag, feature } = props\n  const session = getSession(model)\n  const { pluginManager } = getEnv(session)\n  let hasBreakendSplitView = false\n\n  try {\n    hasBreakendSplitView = !!pluginManager.getViewType('BreakpointSplitView')\n  } catch (e) {\n    // ignore\n  }\n\n  return (\n    <BaseCard {...props} title=\"Supplementary alignments\">\n      <SupplementaryAlignmentsLocStrings model={model} tag={tag} />\n      {hasBreakendSplitView ? (\n        <LaunchBreakpointSplitViewPanel model={model} feature={feature} />\n      ) : null}\n    </BaseCard>\n  )\n}\n"],"names":["getBreakendCoveringRegions","feature","assembly","alt","get","bnd","parseBreakend","undefined","startPos","refName","f","ref","getCanonicalRefName","INFO","pos","mateRefName","CHR2","matePos","END","MatePosition","matePosition","split","mate","strand","mateStrand","start","end","stripIds","arr","map","id","displays","rest","makeTitle","getAssemblyName","view","assemblyNames","splitRegionAtPosition","region","assemblyName","BreakpointSplitViewChoiceDialog","lazy","LaunchBreakpointSplitViewPanel","t0","$","_c","model","res","setRes","useState","error","setError","t1","t2","t3","feats","async","assemblyManager","getSession","cigar","origStrand","SA","readName","clipLengthAtStartOfRead","getClip","waitForAssembly","Error","suppAlns","featurizeSA","features","toJSON","getLengthSansClipping","i","feature_","entries","getCanonicalRefName2","syntenyId","uniqueId","toSorted","a","b","getSAFeatures","SimpleFeature","e","console","useEffect","ret","length","push","session","_jsxs","children","_jsx","Typography","ErrorMessage","arg","index","f1","f2","toLocale","Link","href","onClick","event","preventDefault","queueDialog","handleClose","JSON","stringify","SupplementaryAlignmentsLocStrings","tag","Symbol","for","SA_0","idx","saRef","saStart","saStrand","saCigar","saLength","getLengthOnRef","extra","Math","floor","sp","ep","locString","max","displayString","navToLoc","filter","_temp","SupplementaryAlignments","props","hasBreakendSplitView","pluginManager","getEnv","getViewType","BaseCard","title"],"sourceRoot":""}