"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[9865],{19865(e,n,s){s.r(n),s.d(n,{default:()=>p});var r=s(30936),a=s(42918),t=s(85787),l=s(27351),i=s(77251),o=s(25861),c=s(1591),h=s(15675),d=s(24215),u=s(9625),m=s(37015),j=s(42783),x=s(11543),b=s(65525),f=s(32118);function g(){const e=(0,r.c)(1);let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,f.jsxs)("div",{children:[(0,f.jsx)(o.A,{size:20,style:{marginRight:20}}),(0,f.jsx)(c.A,{display:"inline",children:"Creating SVG"})]}),e[0]=n):n=e[0],n}function v(e){const n=(0,r.c)(6);let s,a,t;return n[0]!==e?(({children:s,...a}=e),n[0]=e,n[1]=s,n[2]=a):(s=n[1],a=n[2]),n[3]!==s||n[4]!==a?(t=(0,f.jsx)("div",{children:(0,f.jsx)(h.A,{...a,children:s})}),n[3]=s,n[4]=a,n[5]=t):t=n[5],t}function y(e,n){return(0,i.useLocalStorage)(`svg-${e}`,n)}function p({model:e,handleClose:n}){const s=(0,i.getSession)(e),r="undefined"!=typeof OffscreenCanvas,[o,h]=(0,a.useState)(r),[p,A]=(0,a.useState)(!1),[C,S]=(0,a.useState)(),[w,k]=y("file","jbrowse.svg"),[T,_]=y("theme",s.themeName||"default");return(0,f.jsxs)(t.A,{open:!0,onClose:n,title:"Export SVG",children:[(0,f.jsxs)(d.A,{children:[C?(0,f.jsx)(l.A,{error:C}):p?(0,f.jsx)(g,{}):null,(0,f.jsx)(v,{helperText:"filename",value:w,onChange:e=>{k(e.target.value)}}),s.allThemes?(0,f.jsx)(v,{select:!0,label:"Theme",value:T,onChange:e=>{_(e.target.value)},children:Object.entries(s.allThemes()).map(([e,n])=>(0,f.jsx)(u.A,{value:e,children:n.name||"(Unknown name)"},e))}):null,r?(0,f.jsx)(m.A,{control:(0,f.jsx)(j.A,{checked:o,onChange:()=>{h(e=>!e)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):(0,f.jsx)(c.A,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),(0,f.jsxs)(x.A,{children:[(0,f.jsx)(b.A,{variant:"contained",color:"secondary",onClick:()=>{n()},children:"Cancel"}),(0,f.jsx)(b.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{A(!0),S(void 0);try{await e.exportSvg({rasterizeLayers:o,filename:w,themeName:T}),n()}catch(e){console.error(e),S(e)}finally{A(!1)}},children:"Submit"})]})]})}}}]);
//# sourceMappingURL=9865.0d0a9828.chunk.js.map