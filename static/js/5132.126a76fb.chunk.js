"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[4144,5132],{1178:(e,t,n)=>{n.d(t,{Im:()=>r,KS:()=>s,kb:()=>o,wh:()=>l});var i=n(99546),a=n(373);function r(e){return 0===Object.keys(e).length}function s(e,t,n){return[(0,a.SX)(`${e||t||""}`),`${n}`].filter((e=>!!e)).join(" - ")}function o(e,t){return Math.ceil((0,i.max)(e.map((e=>(0,i.measureText)([...t,e[0]].join("."),12)))))+10}function l(e,t={}){let n=t;for(const t of e)(0,i.isObject)(n)&&(n=n[t]);return"string"==typeof n?n:(0,i.isObject)(n)&&"string"==typeof n.Description?n.Description:void 0}},28055:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(7552),a=n(87731),r=n(75785),s=n(49823),o=n(99546),l=n(69500);const d=(0,r.n9)()((e=>({fieldValue:{wordBreak:"break-word",maxHeight:300,fontSize:12,padding:e.spacing(.5),overflow:"auto"}})));function c({value:e}){const{classes:t}=d(),n=/^https?:\/\//.exec(`${e}`);return(0,l.jsx)("div",{className:t.fieldValue,children:(0,i.isValidElement)(e)?e:n?(0,l.jsx)(a.A,{href:`${e}`,children:`${e}`}):(0,l.jsx)(s.SanitizedHTML,{html:(0,o.isObject)(e)?JSON.stringify(e):String(e)})})}},32106:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(75785),a=n(28055),r=n(36441),s=n(69500);const o=(0,i.n9)()({field:{display:"flex",flexWrap:"wrap"}});function l({name:e,value:t,description:n,prefix:i,width:l}){const{classes:d}=o();return null!=t?(0,s.jsxs)("div",{className:d.field,children:[(0,s.jsx)(r.A,{prefix:i,description:n,name:e,width:l}),(0,s.jsx)(a.A,{value:t})]}):null}},35300:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var i=n(75785),a=n(28055),r=n(36441),s=n(99546),o=n(69500);const l=(0,i.n9)()((e=>({field:{display:"flex",flexWrap:"wrap"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),border:`1px solid ${e.palette.action.selected}`,boxSizing:"border-box",overflow:"auto"}})));function d({name:e,value:t,description:n,prefix:i=[]}){const{classes:d}=l();return 1===t.length?(0,s.isObject)(t[0])?(0,o.jsx)(C,{attributes:t[0],prefix:[...i,e]}):(0,o.jsxs)("div",{className:d.field,children:[(0,o.jsx)(r.A,{prefix:i,description:n,name:e}),(0,o.jsx)(a.A,{value:t[0]})]}):t.every((e=>(0,s.isObject)(e)))?(0,o.jsx)(o.Fragment,{children:t.map(((t,n)=>(0,o.jsx)(C,{attributes:t,prefix:[...i,`${e}-${n}`]},`${JSON.stringify(t)}-${n}`)))}):(0,o.jsxs)("div",{className:d.field,children:[(0,o.jsx)(r.A,{prefix:i,description:n,name:e}),t.map(((e,t)=>(0,o.jsx)("div",{className:d.fieldSubvalue,children:(0,o.jsx)(a.A,{value:e})},`${JSON.stringify(e)}-${t}`)))]})}var c=n(7552),u=n(33371),f=n(32808),m=n(36715),p=n(36793),h=n(76157),x=n(49823);const g=(0,i.n9)()((e=>({margin:{marginBottom:e.spacing(4)},cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})));function b({value:e,prefix:t,name:n}){const{classes:i}=g(),[a,l]=(0,c.useState)(!1),d=Object.keys(e[0]).sort(),b=new Set(d),j=Object.entries(e).map((([e,t])=>{const{id:n,...i}=t;return{id:e,identifier:n,...i}}));for(const t of e)for(const e of Object.keys(t))b.add(e);let v;b.has("id")?(b.delete("id"),v=["identifier",...b]):v=[...b];const y=v.map((e=>(0,s.measureGridWidth)(j.map((t=>t[e])))));return b.size<d.length+5?(0,o.jsxs)("div",{className:i.margin,children:[(0,o.jsx)(r.A,{prefix:t,name:n}),(0,o.jsx)(u.A,{control:(0,o.jsx)(f.A,{checked:a,onChange:e=>{l(e.target.checked)}}),label:(0,o.jsx)(m.A,{variant:"body2",children:"Show options"})}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,o.jsx)(p.z,{disableRowSelectionOnClick:!0,rows:j,rowHeight:20,columnHeaderHeight:35,hideFooter:j.length<25,slots:{toolbar:a?h.O:null},slotProps:{toolbar:{printOptions:{disableToolbarButton:!0}}},columns:v.map(((e,t)=>({field:e,renderCell:e=>{const t=e.value;return(0,o.jsx)("div",{className:i.cell,children:(0,o.jsx)(x.SanitizedHTML,{html:(0,s.getStr)(t||"")})})},width:y[t]})))})})]}):null}var j=n(32106);const v=(0,i.n9)()({field:{display:"flex",flexWrap:"wrap"}});function y({value:e,prefix:t,name:n}){const{classes:i}=v(),{uri:s,baseUri:l=""}=e;let d;try{d=new URL(s,l).href}catch(e){d=s}return(0,o.jsxs)("div",{className:i.field,children:[(0,o.jsx)(r.A,{prefix:t,name:n}),(0,o.jsx)(a.A,{value:d})]})}var w=n(1178);const A=170,S=["__jbrowsefmt","length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"];function C(e){const{attributes:t,omit:n=[],omitSingleLevel:i=[],descriptions:a,formatter:r=e=>e,hideUris:l,prefix:c=[]}=e,u=new Set([...n,...S,...i]),{__jbrowsefmt:f,...m}=t,p={...m,...f},h=(0,w.kb)(Object.entries(p).filter((([e,t])=>void 0!==t&&!u.has(e))),c);return(0,o.jsx)(o.Fragment,{children:Object.entries(p).filter((([e,t])=>void 0!==t&&!u.has(e))).map((([t,n])=>{const i=(0,w.wh)([...c,t],a);if(Array.isArray(n))return n.length>1&&n.every((e=>(0,s.isObject)(e)))?(0,o.jsx)(b,{name:t,prefix:c,value:n},t):(0,o.jsx)(d,{name:t,value:n,description:i,prefix:c},t);if((0,s.isObject)(n)){const{omitSingleLevel:i,...r}=e;return(0,s.isUriLocation)(n)?l?null:(0,o.jsx)(y,{name:t,prefix:c,value:n},t):(0,o.jsx)(C,{...r,attributes:n,descriptions:a,prefix:[...c,t]},t)}return(0,o.jsx)(j.A,{name:t,value:r(n,t),description:i,prefix:c,width:Math.min(h,A)},t)}))})}},36441:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(89003),a=n(75785),r=n(69500);const s=(0,a.n9)()((e=>({fieldDescription:{"&:hover":{background:"dark"===e.palette.mode?"#e65100":"yellow"}},fieldName:{wordBreak:"break-all",minWidth:90,borderBottom:"1px solid #0003",fontSize:12,background:e.palette.action.disabledBackground,marginRight:e.spacing(1),padding:e.spacing(.5)}})));function o({description:e,name:t,width:n,prefix:a=[]}){const{classes:o,cx:l}=s(),d=[...a,t].join(".");return e?(0,r.jsx)(i.A,{title:e,placement:"left",children:(0,r.jsx)("div",{className:l(o.fieldDescription,o.fieldName),children:d})}):(0,r.jsx)("div",{className:o.fieldName,style:{width:n},children:d})}},51762:(e,t,n)=>{n.d(t,{b:()=>a,h:()=>r});var i=n(99546);function a(e,t){return t.tags?.[e]||t[e]}async function r(e,t){const n=(0,i.getSession)(t),{view:a}=t;try{if(!a)throw new Error("No view associated with this view anymore");await a.navToLocString(e)}catch(e){console.error(e),n.notify(`${e}`)}}},55132:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var i=n(7552),a=n(84144),r=n(943),s=n(68446),o=n(87083),l=n(32106),d=n(83867),c=n(33371),u=n(32808),f=n(75785),m=n(69500);const p=(0,f.n9)()({compact:{paddingRight:0,paddingTop:0,paddingBottom:0}}),h=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function x(e){const{classes:t}=p(),{feature:n}=e,{flags:i}=n;return(0,m.jsxs)(o.default,{...e,title:"Flags",children:[(0,m.jsx)(l.A,{name:"Flag",value:i}),(0,m.jsx)(d.A,{children:h.map(((e,n)=>{const a=i&1<<n,r=`${e}_${a}`;return(0,m.jsx)(c.A,{control:(0,m.jsx)(u.A,{className:t.compact,checked:Boolean(a),name:e,readOnly:!0}),label:e},r)}))})]})}var g=n(31409),b=n.n(g);function j({value:e}){const[t,n]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1),s=String(e);return s.length>100?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{type:"button",onClick:()=>{b()(s),r(!0),setTimeout((()=>{r(!1)}),700)},children:a?"Copied to clipboard":"Copy"}),(0,m.jsx)("button",{type:"button",onClick:()=>{n((e=>!e))},children:t?"Show less":"Show more"}),(0,m.jsx)("div",{children:t?s:`${s.slice(0,100)}...`})]}):(0,m.jsx)("div",{children:s})}var v=n(87731),y=n(51762);function w({locString:e,model:t}){return(0,m.jsx)(v.A,{onClick:n=>{n.preventDefault(),(0,y.h)(e,t)},href:"#",children:e})}const A={AM:"The smallest template-independent mapping quality in the template",AS:"Alignment score generated by aligner",BC:"Barcode sequence identifying the sample",BQ:"Offset to base alignment quality (BAQ)",BZ:"Phred quality of the unique molecular barcode bases in the {OX} tag",CB:"Cell identifier",CC:"Reference name of the next hit",CM:"Edit distance between the color sequence and the color reference (see also {NM})",CO:"Free-text comments",CP:"Leftmost coordinate of the next hit",CQ:"Color read base qualities",CR:"Cellular barcode sequence bases (uncorrected)",CS:"Color read sequence",CT:"Complete read annotation tag, used for consensus annotation dummy features",CY:"Phred quality of the cellular barcode sequence in the {CR} tag",E2:"The 2nd most likely base calls",FI:"The index of segment in the template",FS:"Segment suffix",FZ:"Flow stopToken intensities",GC:"Reserved for backwards compatibility reasons",GQ:"Reserved for backwards compatibility reasons",GS:"Reserved for backwards compatibility reasons",H0:"Number of perfect hits",H1:"Number of 1-difference hits (see also {NM})",H2:"Number of 2-difference hits",HI:"Query hit index",IH:"Query hit total count",LB:"Library",MC:"CIGAR string for mate/next segment",MD:"String encoding mismatched and deleted reference bases",MF:"Reserved for backwards compatibility reasons",MI:"Molecular identifier; a string that uniquely identifies the molecule from which the record was derived",ML:"Base modification probabilities",MM:"Base modifications / methylation ",MQ:"Mapping quality of the mate/next segment",NH:"Number of reported alignments that contain the query in the current record",NM:"Edit distance to the reference",OA:"Original alignment",OC:"Original CIGAR (deprecated; use {OA} instead)",OP:"Original mapping position (deprecated; use {OA} instead)",OQ:"Original base quality",OX:"Original unique molecular barcode bases",PG:"Program",PQ:"Phred likelihood of the template",PT:"Read annotations for parts of the padded read sequence",PU:"Platform unit",Q2:"Phred quality of the mate/next segment sequence in the {R2} tag",QT:"Phred quality of the sample barcode sequence in the {BC} tag",QX:"Quality score of the unique molecular identifier in the {RX} tag",R2:"Sequence of the mate/next segment in the template",RG:"Read group",RT:"Reserved for backwards compatibility reasons",RX:"Sequence bases of the (possibly corrected) unique molecular identifier",S2:"Reserved for backwards compatibility reasons",SA:"Other canonical alignments in a chimeric alignment",SM:"Template-independent mapping quality",SQ:"Reserved for backwards compatibility reasons",TC:"The number of segments in the template",TS:"Transcript strand",U2:"Phred probability of the 2nd call being wrong conditional on the best being wrong",UQ:"Phred likelihood of the segment, conditional on the mapping being correct"},S=(0,i.lazy)((()=>n.e(5736).then(n.bind(n,15736)))),C=(0,i.lazy)((()=>n.e(9114).then(n.bind(n,9114)))),k=(0,s.observer)((function(e){const{model:t}=e,{featureData:n}=t,i=structuredClone(n),s=(0,y.b)("SA",i),{flags:o}=i;return(0,m.jsxs)(r.A,{"data-testid":"alignment-side-drawer",children:[(0,m.jsx)(a.default,{...e,descriptions:{tags:A},feature:i,formatter:(e,n)=>"next_segment_position"===n?(0,m.jsx)(w,{model:t,locString:e}):(0,m.jsx)(j,{value:e})}),void 0!==s?(0,m.jsx)(S,{model:t,tag:s,feature:i}):null,1&o?(0,m.jsx)(C,{model:t,feature:i}):null,void 0!==o?(0,m.jsx)(x,{feature:i,...e}):null]})}))},62568:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(99546),a=n(69500);function r(e){const{feature:t}=e,n=t.strand,r={"-1":"-",0:"",1:"+"},s=r[n]?`(${r[n]})`:"",o=(0,i.assembleLocString)(t);return(0,a.jsx)(a.Fragment,{children:`${o} ${s}`})}var s=n(32106);function o(e){const{feature:t}=e,n=t,o={...n,...n.__jbrowsefmt},{start:l,end:d}=o,c={...o,length:(0,i.toLocale)(d-l)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{name:"Position",value:(0,a.jsx)(r,{...e,feature:o})}),Object.entries({description:"Description",name:"Name",length:"Length",type:"Type"}).map((([e,t])=>[t,c[e]])).filter((([,e])=>null!=e)).map((([e,t])=>(0,a.jsx)(s.A,{name:e,value:t},e)))]})}},84144:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var i=n(57468),a=n(36715),r=n(24387),s=n(1178),o=n(7552),l=n(25914),d=n(48171),c=n(5401),u=n(61723),f=n(68446),m=n(75785),p=n(49823),h=n(99546),x=n(69500);const g=(0,o.lazy)((()=>n.e(7428).then(n.bind(n,27428)))),b=(0,o.lazy)((()=>n.e(8624).then(n.bind(n,38624)))),j=(0,m.n9)()((e=>({formControl:{margin:0},container:{marginTop:e.spacing(4),marginBottom:e.spacing(4)}}))),v=(0,f.observer)((function({model:e,feature:t}){const{classes:n}=j(),[i,a]=(0,o.useState)(!1);return(0,x.jsxs)("div",{className:n.container,children:[(0,x.jsx)(d.A,{className:n.formControl,children:(0,x.jsx)(c.A,{variant:"contained",onClick:()=>{a(!i)},children:i?"Hide feature sequence":"Show feature sequence"})}),(0,x.jsx)(u.A,{onClick:()=>{(0,h.getSession)(e).queueDialog((e=>[b,{handleClose:e}]))},children:(0,x.jsx)(l.A,{})}),i?(0,x.jsx)(o.Suspense,{fallback:(0,x.jsx)(p.LoadingEllipses,{}),children:(0,x.jsx)(g,{model:e,feature:t},t.uniqueId)}):null]})}));var y=n(35300),w=n(87083),A=n(62568);const S=["name","start","end","strand","refName","description","type"];function C(e){const{omit:t=[],model:n,feature:o,depth:l=0}=e,{maxDepth:d}=n,{mate:c,name:u="",id:f="",type:m="",subfeatures:g,uniqueId:b}=o,j=(0,h.getEnv)(n).pluginManager,k=(0,h.getSession)(n),O=j.evaluateExtensionPoint("Core-extraFeaturePanel",null,{session:k,feature:o,model:n}),q=c;return(0,x.jsxs)(w.default,{title:(0,s.KS)(u,f,m),children:[(0,x.jsx)(a.A,{children:"Core details"}),(0,x.jsx)(A.A,{...e}),q?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.A,{}),(0,x.jsx)(a.A,{children:"Mate details"}),(0,x.jsx)(A.A,{...e,feature:{...q,start:q.start,end:q.end,refName:q.refName,uniqueId:`${b}-mate`}})]}):null,(0,x.jsx)(r.A,{}),(0,x.jsx)(a.A,{children:"Attributes"}),(0,x.jsx)(y.default,{attributes:o,...e,omit:t,omitSingleLevel:S}),(0,x.jsx)(i.t,{FallbackComponent:e=>(0,x.jsx)(p.ErrorMessage,{error:e.error}),children:(0,x.jsx)(v,{...e})}),O?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.A,{}),(0,x.jsx)(w.default,{title:O.name,children:(0,x.jsx)(O.Component,{...e})})]}):null,l<d&&g?.length?(0,x.jsx)(w.default,{title:"Subfeatures",defaultExpanded:l<1,children:g.map(((e,t)=>(0,x.jsx)(C,{feature:{...e,uniqueId:`${b}_${t}`},model:n,depth:l+1},JSON.stringify(e))))}):null]})}},87083:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(7720),a=n(63011),r=n(48253),s=n(36715),o=n(63165),l=n(75785),d=n(69500);const c=(0,l.n9)()((e=>({expansionPanelDetails:{display:"block",padding:e.spacing(1)},icon:{color:e.palette.tertiary.contrastText||"#fff"}})));function u({children:e,title:t,defaultExpanded:n=!0}){const{classes:l}=c();return(0,d.jsxs)(a.A,{defaultExpanded:n,children:[(0,d.jsx)(r.A,{expandIcon:(0,d.jsx)(i.A,{className:l.icon}),children:(0,d.jsx)(s.A,{variant:"button",children:t})}),(0,d.jsx)(o.A,{className:l.expansionPanelDetails,children:e})]})}}}]);
//# sourceMappingURL=5132.126a76fb.chunk.js.map