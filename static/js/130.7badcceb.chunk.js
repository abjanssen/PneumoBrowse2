"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[130],{40130:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var l=t(7552),n=t(49823),r=t(1343),i=t(29499),c=t(36715),s=t(87731),o=t(943),m=t(58507),u=t(5401),d=t(68446);const p=(0,t(75785).n9)()((e=>({paper:{padding:e.spacing(2),margin:e.spacing(2)},field:{margin:e.spacing(2)}}))),g=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function h(e){const{flag:a=0,setFlag:t}=e;return l.createElement(l.Fragment,null,l.createElement(r.A,{type:"number",value:a,onChange:e=>{t(+e.target.value)}}),g.map(((e,n)=>{const r=a&1<<n,i=`${e}_${r}`;return l.createElement("div",{key:i},l.createElement("input",{type:"checkbox",checked:Boolean(r),onChange:e=>{e.target.checked?t(a|1<<n):t(a&~(1<<n))}}),l.createElement("label",{htmlFor:i},e))})))}const E=(0,d.observer)((function(e){const{model:a,handleClose:t}=e,{classes:d}=p(),{filterBy:g}=a,[E,v]=(0,l.useState)(g.flagInclude),[f,A]=(0,l.useState)(g.flagExclude),[b,y]=(0,l.useState)(g.tagFilter?.tag||""),[C,F]=(0,l.useState)(g.tagFilter?.value||""),[k,N]=(0,l.useState)(g.readName||""),x=/^[A-Za-z][A-Za-z0-9]$/.exec(b),S="https://broadinstitute.github.io/picard/explain-flags.html";return l.createElement(n.Dialog,{open:!0,onClose:t,title:"Filter options"},l.createElement(i.A,null,l.createElement(c.A,null,"Set filter bitmask options. Refer to ",l.createElement(s.A,{href:S},S)," ","for details"),l.createElement(o.A,{className:d.paper,variant:"outlined"},l.createElement("div",{style:{display:"flex"}},l.createElement("div",null,l.createElement(c.A,null,"Read must have ALL these flags"),l.createElement(h,{flag:E,setFlag:v})),l.createElement("div",null,l.createElement(c.A,null,"Read must have NONE of these flags"),l.createElement(h,{flag:f,setFlag:A})))),l.createElement(o.A,{className:d.paper,variant:"outlined"},l.createElement(c.A,null,"Filter by tag name and value. Use * in the value field to get all reads containing any value for that tag. Example: filter tag name SA with value * to get all split/supplementary reads. Other examples include HP for haplotype, or RG for read group"),l.createElement(r.A,{className:d.field,value:b,onChange:e=>{y(e.target.value)},placeholder:"Enter tag name",error:2===b.length&&!x,helperText:2!==b.length||x?"":"Not a valid tag",slotProps:{htmlInput:{maxLength:2}}}),l.createElement(r.A,{className:d.field,value:C,onChange:e=>{F(e.target.value)},placeholder:"Enter tag value"})),l.createElement(o.A,{className:d.paper,variant:"outlined"},l.createElement(c.A,null,"Filter by read name"),l.createElement(r.A,{className:d.field,value:k,onChange:e=>{N(e.target.value)},placeholder:"Enter read name"})),l.createElement(m.A,null,l.createElement(u.A,{variant:"contained",color:"primary",autoFocus:!0,type:"submit",onClick:()=>{a.setFilterBy({flagInclude:E,flagExclude:f,readName:k,tagFilter:""!==b?{tag:b,value:C}:void 0}),t()}},"Submit"),l.createElement(u.A,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel"))))}))}}]);
//# sourceMappingURL=130.7badcceb.chunk.js.map