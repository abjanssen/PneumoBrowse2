"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[8658],{36157:(e,n,t)=>{t.d(n,{A:()=>C});var o=t(67758),l=t(7552),s=t(84340),c=t(95054),i=t(48768),r=t(87626),a=t(59130),d=t(89870),h=t(41450),m=t(68446),u=t(21254),f=t.n(u),x=t(75785),g=t(69500);const b=(0,x.n9)()(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}));function j(e){const n=(0,o.c)(2),t=(0,l.useRef)(null);let s;return n[0]!==e?(s=(0,g.jsx)(f(),{nodeRef:t,cancel:'[class*="MuiDialogContent-root"]',onStart:p,children:(0,g.jsx)(c.A,{ref:t,...e})}),n[0]=e,n[1]=s):s=n[1],s}function p(e){return`${e.target?.className}`.includes("MuiDialogTitle")}const C=(0,m.observer)(function(e){const{classes:n}=b(),{title:t,children:o,onClose:l}=e;return(0,g.jsx)(i.A,{...e,PaperComponent:j,children:(0,g.jsxs)(r.A,{children:[(0,g.jsxs)(a.A,{style:{cursor:"move"},children:[t,l?(0,g.jsx)(d.A,{className:n.closeButton,onClick:()=>{l()},children:(0,g.jsx)(s.A,{})}):null]}),(0,g.jsx)(h.A,{}),o]})})})},58474:(e,n,t)=>{t.d(n,{A3:()=>r,BO:()=>s,oJ:()=>c});var o=t(68584),l=t(99546);function s(e,n,t=1){const o=n.map(n=>e.findIndex(e=>e.name===n)).sort((e,n)=>e-n);let l=0;for(const n of o){const o=Math.max(l,n-t);o>=l&&e.splice(o,0,e.splice(n,1)[0]),l+=1}return e}function c(e,n,t=1){const o=n.map(n=>e.findIndex(e=>e.name===n)).sort((e,n)=>n-e);let l=e.length-1;for(const n of o){const o=Math.min(l,n+t);o<=l&&e.splice(o,0,e.splice(n,1)[0]),l-=1}return e}const i=12.8;function r(e){const{prefersOffset:n}=e,{trackLabels:t}=(0,l.getContainingView)(e),s=(0,l.getContainingTrack)(e),c=(0,o.getConf)(s,"name");return"overlapping"!==t||n?10:(0,l.measureText)(c,i)+100}},68658:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var o=t(67758),l=t(7552),s=t(36157),c=t(99546),i=t(69092),r=t(76218),a=t(30698),d=t(75785),h=t(67112),m=t(66395),u=t(5986),f=t(85179),x=t(85161),g=t(11496),b=t(84132),j=t(58474),p=t(69500);const C=(0,d.n9)()({cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}});function w(e){return e.name}function S(e){return e.name}const _=function(e){const n=(0,o.c)(89),{rows:t,onChange:s,showTips:r}=e,{classes:a}=C(),[d,_]=(0,l.useState)(null);let A;n[0]===Symbol.for("react.memo_cache_sentinel")?(A=[],n[0]=A):A=n[0];const[k,y]=(0,l.useState)(A);let v;if(n[1]!==t[0]){const{name:e,color:o,baseUri:l,...s}=t[0];v=s,n[1]=t[0],n[2]=v}else v=n[2];const[M,T]=(0,l.useState)("blue");let N;n[3]===Symbol.for("react.memo_cache_sentinel")?(N={idx:0,field:null},n[3]=N):N=n[3];const[O,H]=(0,l.useState)(N),B=!k.length;let L,R;n[4]===Symbol.for("react.memo_cache_sentinel")?(L=e=>{_(e.currentTarget)},n[4]=L):L=n[4],n[5]!==B?(R=(0,p.jsx)(i.A,{disabled:B,onClick:L,children:"Change color of selected items"}),n[5]=B,n[6]=R):R=n[6];const W=!k.length;let I,J;n[7]!==s||n[8]!==t||n[9]!==k?(I=()=>{s((0,j.BO)([...t],k))},n[7]=s,n[8]=t,n[9]=k,n[10]=I):I=n[10],n[11]===Symbol.for("react.memo_cache_sentinel")?(J=(0,p.jsx)(f.A,{}),n[11]=J):J=n[11];const z=r?"Move selected items up":null;let D;n[12]!==W||n[13]!==I||n[14]!==z?(D=(0,p.jsxs)(i.A,{disabled:W,onClick:I,children:[J,z]}),n[12]=W,n[13]=I,n[14]=z,n[15]=D):D=n[15];const F=!k.length;let G,Y;n[16]!==s||n[17]!==t||n[18]!==k?(G=()=>{s((0,j.oJ)([...t],k))},n[16]=s,n[17]=t,n[18]=k,n[19]=G):G=n[19],n[20]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,p.jsx)(u.A,{}),n[20]=Y):Y=n[20];const $=r?"Move selected items down":null;let E;n[21]!==F||n[22]!==G||n[23]!==$?(E=(0,p.jsxs)(i.A,{disabled:F,onClick:G,children:[Y,$]}),n[21]=F,n[22]=G,n[23]=$,n[24]=E):E=n[24];const P=!k.length;let U,V;n[25]!==s||n[26]!==t||n[27]!==k?(U=()=>{s((0,j.BO)([...t],k,t.length))},n[25]=s,n[26]=t,n[27]=k,n[28]=U):U=n[28],n[29]===Symbol.for("react.memo_cache_sentinel")?(V=(0,p.jsx)(g.A,{}),n[29]=V):V=n[29];const q=r?"Move selected items to top":null;let K;n[30]!==P||n[31]!==U||n[32]!==q?(K=(0,p.jsxs)(i.A,{disabled:P,onClick:U,children:[V,q]}),n[30]=P,n[31]=U,n[32]=q,n[33]=K):K=n[33];const Q=!k.length;let X,Z;n[34]!==s||n[35]!==t||n[36]!==k?(X=()=>{s((0,j.oJ)([...t],k,t.length))},n[34]=s,n[35]=t,n[36]=k,n[37]=X):X=n[37],n[38]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,p.jsx)(x.A,{}),n[38]=Z):Z=n[38];const ee=r?"Move selected items to bottom":null;let ne,te,oe,le,se,ce,ie,re,ae,de,he,me,ue,fe,xe,ge;return n[39]!==Q||n[40]!==X||n[41]!==ee?(ne=(0,p.jsxs)(i.A,{disabled:Q,onClick:X,children:[Z,ee]}),n[39]=Q,n[40]=X,n[41]=ee,n[42]=ne):ne=n[42],n[43]!==s||n[44]!==t||n[45]!==k?(te=e=>{T(e);for(const n of k){const o=t.find(e=>e.name===n);o&&(o.color=e)}s([...t])},n[43]=s,n[44]=t,n[45]=k,n[46]=te):te=n[46],n[47]===Symbol.for("react.memo_cache_sentinel")?(oe=()=>{_(null)},n[47]=oe):oe=n[47],n[48]!==d||n[49]!==te||n[50]!==M?(le=(0,p.jsx)(m.FO,{anchorEl:d,color:M,onChange:te,onClose:oe}),n[48]=d,n[49]=te,n[50]=M,n[51]=le):le=n[51],n[52]===Symbol.for("react.memo_cache_sentinel")?(se={height:400,width:"100%"},n[52]=se):se=n[52],n[53]===Symbol.for("react.memo_cache_sentinel")?(ce=e=>{y([...e.ids])},n[53]=ce):ce=n[53],n[54]!==s||n[55]!==t?(ie={field:"color",headerName:"Color",renderCell:e=>{const{value:n,id:o}=e;return(0,p.jsx)(m.Ay,{color:n||"blue",onChange:e=>{const n=t.find(e=>e.name===o);n&&(n.color=e),s([...t])}})}},n[54]=s,n[55]=t,n[56]=ie):ie=n[56],n[57]!==t?(re=(0,c.measureGridWidth)(t.map(w)),n[57]=t,n[58]=re):re=n[58],n[59]!==re?(ae={field:"name",headerName:"Name",width:re},n[59]=re,n[60]=ae):ae=n[60],n[61]!==v?(de=Object.keys(v),n[61]=v,n[62]=de):de=n[62],n[63]!==a||n[64]!==t||n[65]!==de?(he=de.map(e=>({field:e,renderCell:e=>{const{value:n}=e;return(0,p.jsx)("div",{className:a.cell,children:(0,p.jsx)(h.SanitizedHTML,{html:(0,c.getStr)(n)})})},width:(0,c.measureGridWidth)(t.map(n=>`${n[e]}`))})),n[63]=a,n[64]=t,n[65]=de,n[66]=he):he=n[66],n[67]!==ie||n[68]!==ae||n[69]!==he?(me=[ie,ae,...he],n[67]=ie,n[68]=ae,n[69]=he,n[70]=me):me=n[70],n[71]===Symbol.for("react.memo_cache_sentinel")?(ue=[],n[71]=ue):ue=n[71],n[72]!==O.field||n[73]!==O.idx||n[74]!==s||n[75]!==t?(fe=e=>{const n=e[0],o=(O.idx+1)%2,l=n.field||O.field;H({idx:o,field:l}),s(l?[...t].sort((e,n)=>{const t=(0,c.getStr)(e[l]),s=(0,c.getStr)(n[l]);return 1===o?t.localeCompare(s):s.localeCompare(t)}):t)},n[72]=O.field,n[73]=O.idx,n[74]=s,n[75]=t,n[76]=fe):fe=n[76],n[77]!==t||n[78]!==me||n[79]!==fe?(xe=(0,p.jsx)("div",{style:se,children:(0,p.jsx)(b.z,{disableRowSelectionOnClick:!0,getRowId:S,checkboxSelection:!0,onRowSelectionModelChange:ce,rows:t,rowHeight:25,columnHeaderHeight:33,columns:me,sortModel:ue,onSortModelChange:fe})}),n[77]=t,n[78]=me,n[79]=fe,n[80]=xe):xe=n[80],n[81]!==D||n[82]!==E||n[83]!==K||n[84]!==ne||n[85]!==le||n[86]!==xe||n[87]!==R?(ge=(0,p.jsxs)("div",{children:[R,D,E,K,ne,le,xe]}),n[81]=D,n[82]=E,n[83]=K,n[84]=ne,n[85]=le,n[86]=xe,n[87]=R,n[88]=ge):ge=n[88],ge},A=(0,d.n9)()({content:{minWidth:800},float:{float:"right"}});function k(){const e=(0,o.c)(1);let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,p.jsxs)(p.Fragment,{children:["Helpful tips",(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:"You can select rows in the table with the checkboxes"}),(0,p.jsx)("li",{children:"Multi-select is enabled with shift-click and control-click"}),(0,p.jsx)("li",{children:'The "Move selected items up/down" can re-arrange subtracks'}),(0,p.jsx)("li",{children:"Sorting the data grid itself can also re-arrange subtracks"}),(0,p.jsx)("li",{children:"Changes are applied when you hit Submit"}),(0,p.jsx)("li",{children:"You can click and drag the dialog box to move it on the screen"}),(0,p.jsx)("li",{children:"Columns in the table can be hidden using a vertical '...' menu on the right side of each column"})]})]}),e[0]=n):n=e[0],n}function y(e){const n=(0,o.c)(39),{model:t,handleClose:d}=e,{classes:h}=A(),{sources:m}=t;let u,f;n[0]!==m?(u=m||[],n[0]=m,n[1]=u):u=n[1],n[2]!==u?(f=structuredClone(u),n[2]=u,n[3]=f):f=n[3];const[x,g]=(0,l.useState)(f),[b,j]=(0,c.useLocalStorage)("multiwiggle-showTips",!1);let C;n[4]!==j||n[5]!==b?(C=()=>{j(!b)},n[4]=j,n[5]=b,n[6]=C):C=n[6];const w=b?"Hide tips":"Show tips";let S,y,v,M,T,N,O,H,B,L;return n[7]!==h.float||n[8]!==C||n[9]!==w?(S=(0,p.jsx)(i.A,{variant:"contained",className:h.float,onClick:C,children:w}),n[7]=h.float,n[8]=C,n[9]=w,n[10]=S):S=n[10],n[11]===Symbol.for("react.memo_cache_sentinel")?(y=(0,p.jsx)("br",{}),n[11]=y):y=n[11],n[12]!==b?(v=b?(0,p.jsx)(k,{}):null,n[12]=b,n[13]=v):v=n[13],n[14]!==x||n[15]!==b?(M=(0,p.jsx)(_,{rows:x,onChange:g,showTips:b}),n[14]=x,n[15]=b,n[16]=M):M=n[16],n[17]!==h.content||n[18]!==S||n[19]!==v||n[20]!==M?(T=(0,p.jsxs)(r.A,{className:h.content,children:[S,y,v,M]}),n[17]=h.content,n[18]=S,n[19]=v,n[20]=M,n[21]=T):T=n[21],n[22]!==t?(N=(0,p.jsx)(i.A,{variant:"contained",type:"submit",color:"inherit",onClick:()=>{t.clearLayout(),g(t.sources||[])},children:"Clear custom settings"}),n[22]=t,n[23]=N):N=n[23],n[24]!==d||n[25]!==t.sources?(O=(0,p.jsx)(i.A,{variant:"contained",color:"secondary",onClick:()=>{d(),g([...t.sources||[]])},children:"Cancel"}),n[24]=d,n[25]=t.sources,n[26]=O):O=n[26],n[27]!==x||n[28]!==d||n[29]!==t?(H=(0,p.jsx)(i.A,{variant:"contained",color:"primary",type:"submit",onClick:()=>{t.setLayout(x),d()},children:"Submit"}),n[27]=x,n[28]=d,n[29]=t,n[30]=H):H=n[30],n[31]!==N||n[32]!==O||n[33]!==H?(B=(0,p.jsxs)(a.A,{children:[N,O,H]}),n[31]=N,n[32]=O,n[33]=H,n[34]=B):B=n[34],n[35]!==d||n[36]!==B||n[37]!==T?(L=(0,p.jsxs)(s.A,{open:!0,onClose:d,maxWidth:"xl",title:"Multi-wiggle color/arrangement editor",children:[T,B]}),n[35]=d,n[36]=B,n[37]=T,n[38]=L):L=n[38],L}}}]);
//# sourceMappingURL=8658.68150f7f.chunk.js.map