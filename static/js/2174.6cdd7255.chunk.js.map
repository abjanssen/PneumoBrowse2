{"version":3,"file":"static/js/2174.6cdd7255.chunk.js","mappings":"oOAWA,MAyCA,GAzCiDA,EAAAA,EAAAA,UAC/C,SAAkDC,GAGhD,MAAM,MAAEC,GAAUD,GACZ,eAAEE,EAAc,OAAEC,GAAWF,EAC7BG,GAAMC,EAAAA,EAAAA,QAAuB,OAC7B,WAAEC,EAAU,gBAAEC,EAAe,iBAAEC,IACnCC,EAAAA,EAAAA,GAAiBL,GAEnB,OACEM,EAAAA,EAAAA,MAAA,OACEN,IAAKA,EACLO,MAAO,CAAEC,SAAU,WAAYT,UAC/BU,YAAaN,EACbO,aAAcN,EAAiBO,SAAA,EAG/BC,EAAAA,EAAAA,KAAA,OAAK,cAAY,mBAAkBD,UACjCC,EAAAA,EAAAA,KAACC,EAAAA,EAAsC,CAAChB,MAAOA,OAGjDe,EAAAA,EAAAA,KAACE,EAAAA,EAA0B,CACzBjB,MAAOA,EACPkB,UAAWjB,EACXkB,OAAO,mBAGRd,GAAcA,EAAWe,EAAInB,GAC5Bc,EAAAA,EAAAA,KAACM,EAAAA,EAAS,CACRC,OAAQjB,EAAWkB,EACnBC,OAAQnB,EAAWe,EACnBK,QAASpB,EAAWoB,QACpBC,QAASrB,EAAWqB,QACpB1B,MAAOA,IAEP,OAGV,E,gHC/CF,MA0BA,EA1Be2B,IAAA,MAAAC,GAAAC,EAAAA,EAAAA,GAAC,OAAAN,EAAA,EAAAH,EAAA,MAAAU,EAAA,OAAA5B,EAAA,MAAA6B,GAAAJ,EAadK,GAAcC,EAAAA,EAAAA,KAAU,IAAAC,EAQgDC,EAACC,EACrE,OAToBR,EAAA,KAAAG,GAAAH,EAAA,KAAAI,GAQHE,EAAAH,IAASM,EAAAA,EAAAA,IAAML,EAAKM,QAAQC,WAAWC,MAAQ,IAAIZ,EAAA,GAAAG,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,GAAAM,GAAAA,EAAAN,EAAA,GAAAA,EAAA,KAAAM,GAAhEC,GAAAM,EAAAA,EAAAA,cAAaP,GAAoDN,EAAA,GAAAM,EAAAN,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GAAAA,EAAA,KAAA1B,GAAA0B,EAAA,KAAAO,GAAAP,EAAA,KAAAE,GAAAF,EAAA,KAAAL,GAAAK,EAAA,KAAAR,GANvEgB,GAAArB,EAAAA,EAAAA,KAAA,QACgB2B,cAAA,OACXnB,EAAAA,EACAH,EAAAA,EACIU,MAAAA,EACC5B,OAAAA,KACJiC,IACJP,EAAA,GAAA1B,EAAA0B,EAAA,GAAAO,EAAAP,EAAA,GAAAE,EAAAF,EAAA,GAAAL,EAAAK,EAAA,GAAAR,EAAAQ,EAAA,IAAAQ,GAAAA,EAAAR,EAAA,IAPFQ,GCREO,EAAa,SAAAhB,GAAA,MAAAC,GAAAC,EAAAA,EAAAA,GAAA,IAAU,OAAAe,EAAA,IAAAC,EAAA,UAAAC,GAAAnB,GASrB,MAANI,GAAkBa,EAAM,IAAAV,EAUhB,OAVgBN,EAAA,KAAAG,GAAAH,EAAA,KAAAiB,GAAAjB,EAAA,KAAAkB,GAEjBZ,EAAAH,GAAAhB,EAAAA,EAAAA,KACJgC,EAAM,CACF3B,EAAAyB,EAAMC,EACNvB,EAAA,EACIO,MAAA,KACC5B,OAAA4C,EAAY,GACbf,MAAAA,IANJ,KAQCH,EAAA,GAAAG,EAAAH,EAAA,GAAAiB,EAAAjB,EAAA,GAAAkB,EAAAlB,EAAA,GAAAM,GAAAA,EAAAN,EAAA,GARDM,CAQC,EAGJc,EAAiB,SAAArB,GAAA,MAAAC,GAAAC,EAAAA,EAAAA,GAAA,IAAU,OAAAe,EAAA,IAAAC,EAAA,UAAAC,EAAA,cAAAG,GAAAtB,GAWzB,MAANI,EAAA,KAAAmB,GAAwBN,EACxBO,EAAoBC,KAAIC,IAAKP,EAAW,IAIjCZ,GAACW,EAAM,IAAOC,EACdX,EAAAJ,EAAA,KAA6B,IAAAK,EAM3B,OAN2BR,EAAA,KAAAsB,GAAAtB,EAAA,KAAAuB,GAAAvB,EAAA,KAAAM,GAAAN,EAAA,KAAAO,GAAAP,EAAA,KAAAqB,GAFlCb,GAAArB,EAAAA,EAAAA,KAAA,QACKK,EAAAc,EACAX,EAAAY,EACOgB,SAAAA,EACOG,iBAAA,aACbL,EAAanC,SAEhBoC,IACItB,EAAA,GAAAsB,EAAAtB,EAAA,GAAAuB,EAAAvB,EAAA,GAAAM,EAAAN,EAAA,GAAAO,EAAAP,EAAA,GAAAqB,EAAArB,EAAA,GAAAQ,GAAAA,EAAAR,EAAA,GARPQ,CAQO,EAiEX,GA7DgCtC,EAAAA,EAAAA,UAAS,UAAiC,MACxEE,EAAK,WACLuD,IASA,MAAM,iBAAEC,EAAgB,UAAEV,EAAS,QAAEW,GAAYzD,EAE3CgC,GAAQC,EAAAA,EAAAA,KAMRyB,EAAcH,IAJFI,EAAAA,EAAAA,SAChB,IAAMF,GAASG,KAAKC,GAAKA,EAAE9B,SAAU,EACrC,CAAC0B,IAE2CK,GAAoB,GAE5Db,GAAgBU,EAAAA,EAAAA,SACpB,KAAMlB,EAAAA,EAAAA,cAAaT,EAAMM,QAAQyB,KAAKC,SACtC,CAAChC,EAAMM,QAAQyB,KAAKC,UAGtB,OAAOP,GACLhD,EAAAA,EAAAA,MAAAwD,EAAAA,SAAA,CAAAnD,SAAA,CACG0C,GACCzC,EAAAA,EAAAA,KAACgC,EAAM,CACL3B,EAAG,EACHG,EAAG,EACHO,MAAO4B,EACPxD,QAASuD,EAAQS,OAAS,KAAQpB,IAElC,KAEHW,EAAQU,IAAI,CAACvB,EAAQC,KACpB9B,EAAAA,EAAAA,KAAC4B,EAAU,CAETC,OAAQA,EACRC,IAAKA,EACLC,UAAWA,GAHN,GAAGF,EAAOM,QAAQL,MAO1BW,EACGC,EAAQU,IAAI,CAACvB,EAAQC,KACnB9B,EAAAA,EAAAA,KAACiC,EAAc,CAEbJ,OAAQA,EACRC,IAAKA,EACLC,UAAWA,EACXG,cAAeA,GAJV,GAAGL,EAAOM,aAAaL,MAOhC,QAEJ,IACN,GCvEA,GA1CqC/C,EAAAA,EAAAA,UACnC,UAAsC,SACpCgB,EAAQ,MACRd,EAAK,UACLoE,IAMA,MAAM,GAAEC,EAAE,UAAEC,EAAS,OAAEpE,EAAM,UAAEqE,EAAS,cAAEC,EAAa,SAAEC,GAAazE,EAChE0E,EAAS,UAA0B,oBAATC,KAAuBN,EAAK,SACtDO,EAAaL,GAAaE,EAAWD,EAAgB,EAC3D,OAAOJ,GACL3D,EAAAA,EAAAA,MAAAwD,EAAAA,SAAA,CAAAnD,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAAD,UACEC,EAAAA,EAAAA,KAAA,YAAUsD,GAAIK,EAAO5D,UACnBC,EAAAA,EAAAA,KAAA,QAAMQ,EAAG,EAAGH,EAAG,EAAGU,MAAO,IAAM5B,OAAQA,SAG3Ca,EAAAA,EAAAA,KAAA,KAAG8D,SAAU,QAAQH,KAAU5D,UAC7BC,EAAAA,EAAAA,KAAA,KAAG+D,UAAW,gBAAgBR,KAAaxD,SAAEA,UAIjDC,EAAAA,EAAAA,KAAA,OACEL,MAAO,CACLC,SAAU,WACVoE,IAAK,EACLC,KAAMJ,EACNK,OAAQ,IACRvC,cAAe,OACfxC,OAAQF,EAAMkF,YACdpD,OAAOqD,EAAAA,EAAAA,mBAAkBnF,GAAO8B,OAChChB,SAEDA,GAGP,GCFF,GAhC8BhB,EAAAA,EAAAA,UAAS,SAA+BC,GAKpE,MAAM,MAAEC,GAAUD,GACZ,iBAAEyD,EAAgB,UAAEV,EAAS,QAAEW,GAAYzD,EAC3CmD,EAAcC,KAAKC,IAAIP,EAAW,IAElCS,GAAaI,EAAAA,EAAAA,SAAQ,KACzB,IAAKF,EACH,OAAO,EAET,IAAI2B,EAAW,EACf,IAAK,MAAMvB,KAAKJ,EAAS,CACvB,MAAM3B,EAAQ0B,GACV6B,EAAAA,EAAAA,aAAYxB,EAAEX,KAAMC,GAAe,GACnC,GACArB,EAAQsD,IACVA,EAAWtD,EAEf,CACA,OAAOsD,GACN,CAAC3B,EAASN,EAAaK,IAE1B,OAAOC,GACL1C,EAAAA,EAAAA,KAACuE,EAA4B,IAAKvF,EAAKe,UACrCC,EAAAA,EAAAA,KAACwE,EAAW,CAACvF,MAAOA,EAAOuD,WAAYA,MAEvC,IACN,E,0DChCO,SAAA/C,EAAAL,GAAA,MAAAyB,GAAAC,EAAAA,EAAAA,GAAA,GACL2D,GAAepF,EAAAA,EAAAA,aACbqF,IAEFpF,EAAAqF,IAAoCC,EAAAA,EAAAA,YAAsB,IAAAhE,EAAAC,EAAA,KAAAzB,GAGxDwB,EAAAiE,IACMJ,EAAMK,SACRC,qBAAqBN,EAAMK,SAE7B,MAAAE,EAAgBH,EAAKG,QACrBC,EAAgBJ,EAAKI,QACrBR,EAAMK,QAAWI,sBAAsB,KACrC,MAAAC,EAAa/F,EAAG0F,SAA+BM,wBAC3CD,GACFR,EAAc,CAAAnE,EACTwE,EAAUG,EAAIlB,KAAK5D,EACnB4E,EAAUE,EAAInB,IAAItD,QACZyE,EAAIlB,KAAKtD,QACTwE,EAAInB,SAIpBnD,EAAA,GAAAzB,EAAAyB,EAAA,GAAAD,GAAAA,EAAAC,EAAA,GAlBH,MAAAtB,EAAwBqB,EAoBvB,IAAAO,EAAAN,EAAA,KAAAwE,OAAAC,IAAA,8BAEoCnE,EAAAA,KAC/BsD,EAAMK,SACRC,qBAAqBN,EAAMK,SAE7BH,OAAcD,IACf7D,EAAA,GAAAM,GAAAA,EAAAN,EAAA,GALD,MAAArB,EAAyB2B,EAKnB,IAAAC,EAML,OANKP,EAAA,KAAAtB,GAAAsB,EAAA,KAAAvB,GAEC8B,EAAA,CAAA9B,aAAAC,kBAAAC,oBAINqB,EAAA,GAAAtB,EAAAsB,EAAA,GAAAvB,EAAAuB,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GAJMO,CAIN,C,6JC/BH,MAAMmE,GAAYC,EAAAA,EAAAA,IAAAA,CAAavE,IAAS,CACtCwE,aAAc,CACZtG,OAAQ,EACRuG,UAAW,aACXlE,WAAY,cACZ,UAAW,CACTA,WAAYP,EAAMM,QAAQoE,aAY1BC,GAAU7G,EAAAA,EAAAA,UAAS,UAAiB,SACxCgB,EAAQ,MACRd,EAAK,UACLoE,IAMA,MAAM,OAAElE,GAAWF,GACb,MAAE8B,EAAK,SAAE8E,IAAazB,EAAAA,EAAAA,mBAAkBnF,GACxCgF,EAAO5B,KAAKyD,IAAI,GAAID,GAC1B,OAAOxC,GACLrD,EAAAA,EAAAA,KAAA,KAAG+D,UAAW,aAAaE,KAAQlE,SAAEA,KAErCC,EAAAA,EAAAA,KAAA,OACEL,MAAO,CACLC,SAAU,WACVoE,IAAK,EACLC,OACA9E,SACA4B,SACAhB,SAEDA,GAGP,GAQME,GAAyClB,EAAAA,EAAAA,UAC7C,UAAgD,MAC9CE,EAAK,UACLoE,IAKA,MAAM,QAAE0C,GAAYR,KACd,gBAAES,IAAoBC,EAAAA,EAAAA,YAAWhH,GACjCiH,GAAO9B,EAAAA,EAAAA,mBAAkBnF,IACxBkH,EAAeC,IAAoBxB,EAAAA,EAAAA,aACpC,eAAE1F,EAAc,iBAAEmH,GAAqBpH,GACvC,cAAEqH,EAAa,cAAEC,GAAkBL,EACnCM,EAAWR,EAAgBS,IAAIH,EAAc,IAE7CI,GADKH,EAAcI,cAAc,IAAIC,SAAW,IACtCP,GAAkBlD,QAAU,GAC5C,OAAOqD,GAAYH,GACjB3G,EAAAA,EAAAA,MAAAwD,EAAAA,SAAA,CAAAnD,SAAA,EACEL,EAAAA,EAAAA,MAACkG,EAAO,CAACvC,UAAWA,EAAWpE,MAAOA,EAAMc,SAAA,EAC1CC,EAAAA,EAAAA,KAAC6G,EAAQ,CAAC5H,MAAOA,EAAOmH,iBAAkBA,IACzCD,GACCzG,EAAAA,EAAAA,MAAAwD,EAAAA,SAAA,CAAAnD,SAAA,EACEC,EAAAA,EAAAA,KAAA,QACE8G,OAAO,QACPC,YAAa,EACbpH,MAAO,CACLgC,cAAe,QAEjBqF,GAAIb,EAAcrE,IAAM4E,EAAIA,EAAI,EAChCO,GAAId,EAAce,EAClBC,GAAIjI,EACJkI,GAAI,EACJtH,aAAcA,KACZsG,OAAiB1B,OAGrB1E,EAAAA,EAAAA,KAACqH,EAAW,CAACC,SAAUnB,EAAcoB,EAAEd,IAAI,aAE3C,QAEJpD,EASE,MARFrD,EAAAA,EAAAA,KAACwH,EAAAA,EAAY,CACX7H,MAAO,CACLC,SAAU,WACVoE,IAAK9E,EAAiB,GAExBuI,OAAQC,GAAKzI,EAAM0I,kBAAkBzI,EAAiBwI,GACtDE,UAAW7B,EAAQN,kBAIvB,IACN,GAKIoC,GAAkBC,EAAAA,EAAAA,YACtB,SAAAlH,EAAAxB,GAAA,MAAAyB,GAAAC,EAAAA,EAAAA,GAAA,IAA0B,QAAAiH,GAAAnH,EAAW,IAAAO,EAOvBC,EACJ,OAR2BP,EAAA,KAAAkH,GAG9B5G,GAAA6G,EAAAA,EAAAA,gBAAeD,GAAfA,EAEGA,GAAA/H,EAAAA,EAAAA,KACDiI,EAAAA,EAAa,CAAOC,KAAAC,OAAOJ,KAD1B,KAEIlH,EAAA,GAAAkH,EAAAlH,EAAA,GAAAM,GAAAA,EAAAN,EAAA,GAAAA,EAAA,KAAAzB,GAAAyB,EAAA,KAAAM,GALVC,GAAApB,EAAAA,EAAAA,KAAA,OAAUZ,IAAAA,EAAGW,SACVoB,IAKGN,EAAA,GAAAzB,EAAAyB,EAAA,GAAAM,EAAAN,EAAA,GAAAO,GAAAA,EAAAP,EAAA,GANNO,CAMM,GAINiG,GAActI,EAAAA,EAAAA,UAAS,UAAqB,SAChDuI,IAIA,OAAOA,GACLtH,EAAAA,EAAAA,KAACoI,EAAAA,EAAW,CAAArI,UACVC,EAAAA,EAAAA,KAAC6H,EAAe,CAACE,QAAST,MAE1B,IACN,GAEMT,GAAW9H,EAAAA,EAAAA,UAAS,UAAkB,MAC1CE,EAAK,iBACLmH,IAKA,MAAMnF,GAAQC,EAAAA,EAAAA,MACR,gBAAE8E,IAAoBC,EAAAA,EAAAA,YAAWhH,GACjCiH,GAAO9B,EAAAA,EAAAA,mBAAkBnF,IACzB,eAAEC,EAAc,iBAAEmH,GAAqBpH,GACvC,SAAE4G,EAAQ,cAAES,EAAa,cAAEC,GAAkBL,EAC7CM,EAAWR,EAAgBS,IAAIH,EAAc,IAE7CI,GADKH,EAAcI,cAAc,IAAIC,SAAW,IACtCP,GAAkBlD,QAAU,GACtCkF,EAAIhG,KAAKyD,IAAID,EAAU,GACvByC,GAAIC,EAAAA,EAAAA,iBAAejH,EAAAA,EAAAA,IAAML,EAAMM,QAAQyB,KAAKC,QAAS,KAC3D,OAAOuD,GAAYH,GACjBrG,EAAAA,EAAAA,KAAAkD,EAAAA,SAAA,CAAAnD,SACGsG,EAAiBjD,IAAI,CAACmE,EAAGiB,KACxB,MAAMpJ,EAAMmI,EAAEd,IAAI,WACZS,GACHhB,EAAKuC,OAAO,CACXC,QAASlC,EAASmC,qBAAqBvJ,GACvCwJ,MAAOrB,EAAEd,IAAI,YACXZ,UAAY,GAAKwC,EACvB,OACEQ,EAAAA,EAAAA,eAAA,WACMP,EACJvB,YAAa,EACb+B,IAAKvB,EAAEjE,KACP0D,GAAIwB,EAAI9B,EAAIA,EAAI,EAChBO,GAAIC,EACJC,GAAIjI,EACJkI,GAAI,EACJ2B,aAAcA,KACZ3C,EAAiB,CAAEmB,IAAGzF,IAAK0G,EAAGtB,OAEhCpH,aAAcA,KACZsG,OAAiB1B,UAMzB,IACN,GAEA,G,4JC3LA,MAAMa,GAAYC,EAAAA,EAAAA,IAAAA,CAAavE,IAAS,CACtCwE,aAAc,CACZ7F,SAAU,WACVoE,IAAK,EACL7E,OAAQ,OACR4B,MAAO,EACPmD,OAAQ,IACR1C,WAAY,cACZ,UAAW,CACTA,WAAYP,EAAMM,QAAQoE,UAG9BqD,eAAgB,CACdpJ,SAAU,WACVoE,IAAK,EACLC,KAAM,EACNzC,YAAYF,EAAAA,EAAAA,IAAML,EAAMM,QAAQC,WAAWC,MAAO,QAItD,SAASwH,EAAmBC,GAC1B,OAAKA,EAAKnJ,UAAUoD,OAGb+F,EAAKnJ,SAASoJ,QAAQC,GAASH,EAAmBG,IAFhD,CAACF,EAAKG,KAAKlH,KAGtB,CAaA,MA6KA,GA7KoBpD,EAAAA,EAAAA,UAAS,UAAqB,MAChDE,IAIA,MAAM,QAAE8G,GAAYR,KACZxE,MAAOuI,IAAclF,EAAAA,EAAAA,mBAAkBnF,IACxCsK,EAAWC,IAAgB5E,EAAAA,EAAAA,UAA0B,OACrD6E,EAAUC,IAAe9E,EAAAA,EAAAA,UAAiC,KAE3D,UAAEpB,EAAS,cAAEC,EAAa,OAAEtE,EAAM,UAAEoE,EAAS,SAAEG,EAAQ,QAAEhB,GAC7DzD,EAGI0K,GAAgBC,EAAAA,EAAAA,aACnBxK,IACCH,EAAM4K,iBAAiBzK,IAGzB,CAACH,EAAOwE,EAAetE,IAInB2K,GAAqBF,EAAAA,EAAAA,aACxBxK,IACCH,EAAM8K,sBAAsB3K,IAG9B,CAACH,EAAOqK,EAAWnK,KAIrB6K,EAAAA,EAAAA,WAAU,KACDC,EAAAA,EAAAA,SACL,WAGE,MAAQxG,cAAeyG,EAAI1G,UAAW2G,EAAGhG,YAAaiG,GAAOnL,EAG7D,IAAKkL,EAGH,OAFAX,EAAa,WACbE,EAAY,IAId,MAAMW,EAAQF,EAAEG,cAAcC,OAAOrB,GAAQA,EAAKnJ,UAAUoD,QAEtDqH,EAAQ,IAAIC,EAAAA,EAASJ,EAAMlH,QAGjC,IAAK,MAAM+F,KAAQmB,EAAO,CACxB,MAAM7J,EAAI0I,EAAK7I,EACTA,EAAI6I,EAAK1I,EACfgK,EAAME,IAAIlK,EALM,EAKSH,EALT,EAKwBG,EALxB,EAKuCH,EALvC,EAMlB,CAEAmK,EAAMG,SACNnB,EAAagB,GACbd,EAAYW,EACd,EACA,CAAElI,KAAM,qBAET,CAAClD,IAEJ,MAAMM,GAAkBqK,EAAAA,EAAAA,aACrB/E,IACC,IAAKrB,IAAc+F,EACjB,OAEF,MAAMpE,EAAON,EAAM+F,cAAcxF,wBAC3B5E,EAAIqE,EAAMG,QAAUG,EAAKlB,KACzB5D,EAAIwE,EAAMI,QAAUE,EAAKnB,IAAMT,EAE/BsH,EAAUtB,EAAUuB,OAAOtK,EAAGH,EAAGG,EAAGH,GACpC6I,EAAO2B,EAAQ1H,OAAS,EAAIsG,EAASoB,EAAQ,SAAOnG,EACtDwE,EACFjK,EAAM8L,mBAAmB,CACvB7B,OACA8B,gBAAiB/B,EAAmBC,KAGtCjK,EAAM8L,wBAAmBrG,IAG7B,CAAClB,EAAW+F,EAAWE,EAAUlG,EAAWtE,IAGxCO,GAAmBoK,EAAAA,EAAAA,aAAY,KACnC3K,EAAM8L,wBAAmBrG,IACxB,CAACzF,IAEJ,OAAKuE,GAAcE,GAAahB,GAASS,QAKvCzD,EAAAA,EAAAA,MAAAwD,EAAAA,SAAA,CAAAnD,SAAA,EAEEL,EAAAA,EAAAA,MAAA,OACEC,MAAO,CACLC,SAAU,SACVoE,IAAK,EACLC,KAAM,EACN9E,OAAQ,EACR+E,OAAQ,KACRnE,SAAA,EAGFC,EAAAA,EAAAA,KAAA,OACE4H,UAAW7B,EAAQiD,eACnBrJ,MAAO,CACLoB,MAAO0C,EACPtE,aAIJa,EAAAA,EAAAA,KAAA,UACEZ,IAAKuK,EACL5I,MAAuB,EAAhB0C,EACPtE,OAAiB,EAATA,EACRQ,MAAO,CACLoB,MAAO0C,EACPtE,SACAS,SAAU,WACVoE,IAAK,EACLC,KAAM,EACNtC,cAAe,WAInB3B,EAAAA,EAAAA,KAAA,UACEZ,IAAK0K,EACL/I,MAAOuI,EACPnK,OAAQA,EACRQ,MAAO,CACLC,SAAU,WACVoE,IAAK,EACLC,KAAM,EACNC,OAAQ,EACRvC,cAAe,WAInB3B,EAAAA,EAAAA,KAAA,OACEH,YAAaN,EACbO,aAAcN,EACdG,MAAO,CACLC,SAAU,WACVoE,IAAK,EACLC,KAAM,EACNlD,MAAO0C,EACPtE,SACA+E,OAAQ,EACR+G,OAAQ,iBAIdjL,EAAAA,EAAAA,KAACwH,EAAAA,EAAY,CACXC,OAAQyD,IACNjM,EAAMkM,iBAAiB9I,KAAKyD,IAAI,GAAIrC,EAAgByH,KAGtDtD,UAAW7B,EAAQN,aACnB9F,MAAO,CACLsE,KAAMR,GAER2H,UAAQ,OA1EL,IA8EX,GCzKA,GAvCmCrM,EAAAA,EAAAA,UACjC,UAAoC,MAClCE,EAAK,UACLkB,EAAY,EAAC,OACbC,IAEA,MAAM,aAAEiL,EAAY,WAAEC,EAAU,gBAAEC,GAAoBtM,EAEtD,OACES,EAAAA,EAAAA,MAAA,OACE,cAAaU,EACbT,MAAO,CACLC,SAAU,WACVoE,IAAK7D,EACLhB,OAAQoM,EACRxK,MAAO,OACPyK,UAAWF,EAAa,SAAW,OACnCG,UAAW,UAEbC,SAAUC,IACRN,EAAaM,EAAIf,cAAcrH,YAC/BxD,SAAA,EAEFC,EAAAA,EAAAA,KAAC4L,EAAW,CAAC3M,MAAOA,KACpBe,EAAAA,EAAAA,KAAC6L,EAAAA,EAAS,CAAC5M,MAAOA,KAClBe,EAAAA,EAAAA,KAAA,OACEL,MAAO,CACLC,SAAU,WACVqE,KAAM,EACNlD,MAAO,QACPhB,UAEFC,EAAAA,EAAAA,KAAC8L,EAAAA,GAA0B,CAAC7M,MAAOA,QAI3C,E,4HC7CF,MAAMsG,GAAYC,EAAAA,EAAAA,IAAAA,CAAavE,IAAS,CACtC8K,QAAS,CACPnM,SAAU,QACVoE,IAAK,EACLC,KAAM,EACNtC,cAAe,OACfqK,iBAAiB1K,EAAAA,EAAAA,IAAML,EAAMM,QAAQ0K,KAAK,KAAM,IAChDC,aAAcjL,EAAMkL,MAAMD,aAC1BlL,MAAOC,EAAMM,QAAQ6K,OAAOC,MAC5BC,WAAYrL,EAAMsL,WAAWD,WAC7BE,QAAS,UACTC,SAAUxL,EAAMsL,WAAWE,SAC3BpI,SAAU,IACVqI,SAAU,aACVxI,OAAQ,KAEVyI,IAAK,CACHC,WAAY,UAEdC,SAAU,CACR9L,MAAO,GACP5B,OAAQ,GACR2N,QAAS,eACTC,YAAa,MAIXC,EAAe,IAAIC,IAAI,CAAC,QAAS,KAAM,OAAQ,WAAY,OA0CjE,GAxC4BC,EAAAA,EAAAA,MAAK,SAAAtM,GAAA,MAAAC,GAAAC,EAAAA,EAAAA,GAAA,KAA6B,OAAAe,EAAA,EAAArB,EAAA,EAAAH,GAAAO,GAatD,QAANmF,GAAoBR,IAKHpE,EAAA4E,EAAOgG,QACE3K,EAAA,aAAaZ,EAAI,SAASH,EAAI,QAAO,IAAAgB,EAAE8L,EAOnDC,EAC8DC,EAOrEC,EAEI,OAjBoDzM,EAAA,KAAAO,GAAlDC,EAAA,CAAA0C,UAAa3C,GAAuCP,EAAA,GAAAO,EAAAP,EAAA,GAAAQ,GAAAA,EAAAR,EAAA,GAAAA,EAAA,KAAAkF,EAAA8G,UAAAhM,EAAA,KAAAgB,EAAAb,OAE1DmM,EAAAtL,EAAMb,OAANhB,EAAAA,EAAAA,KAAA,OAEc4H,UAAA7B,EAAO8G,SACXlN,MAAA,CAAAqM,gBAAmBnK,EAAMb,SAHnC,KAKOH,EAAA,GAAAkF,EAAA8G,SAAAhM,EAAA,GAAAgB,EAAAb,MAAAH,EAAA,GAAAsM,GAAAA,EAAAtM,EAAA,GAAAA,EAAA,KAAAkF,EAAA4G,KAAA9L,EAAA,KAAAgB,EAAAM,MACPiL,EAAAvL,EAAMM,MAANnC,EAAAA,EAAAA,KAAA,OAA8B4H,UAAA7B,EAAO4G,IAAI5M,SAAG8B,EAAMM,OAAlD,KAAqEtB,EAAA,GAAAkF,EAAA4G,IAAA9L,EAAA,GAAAgB,EAAAM,KAAAtB,EAAA,GAAAuM,GAAAA,EAAAvM,EAAA,GAAAA,EAAA,KAAAkF,EAAA4G,KAAA9L,EAAA,KAAAgB,GACrEwL,EAAAE,OAAMC,QAAS3L,GAAOuB,IAAKkK,IAAC,MAAAxE,EAAA2E,GAAAH,EAAY,OACtCN,EAAYU,IAAK5E,SAAkBpE,IAAV+I,EAA1B,MAAA/N,EAAAA,EAAAA,MAAA,OAC4BkI,UAAA7B,EAAO4G,IAAI5M,SAAA,CAClC+I,EAAI,KAAGX,OAAOsF,KADP3E,KAIbjI,EAAA,GAAAkF,EAAA4G,IAAA9L,EAAA,GAAAgB,EAAAhB,EAAA,IAAAwM,GAAAA,EAAAxM,EAAA,IAAAA,EAAA,MAAAkF,EAAAgG,SAAAlL,EAAA,MAAAQ,GAAAR,EAAA,MAAAsM,GAAAtM,EAAA,MAAAuM,GAAAvM,EAAA,MAAAwM,GAlBLC,GAAAtN,EAAAA,EAAAA,KAAC2N,EAAAA,EAAM,CAAA5N,UACLL,EAAAA,EAAAA,MAAA,OACakI,UAAAzG,EACJxB,MAAA0B,EAAoDtB,SAAA,CAE1DoN,EAMAC,EACAC,OAQIxM,EAAA,IAAAkF,EAAAgG,QAAAlL,EAAA,IAAAQ,EAAAR,EAAA,IAAAsM,EAAAtM,EAAA,IAAAuM,EAAAvM,EAAA,IAAAwM,EAAAxM,EAAA,IAAAyM,GAAAA,EAAAzM,EAAA,IApBTyM,CAoBS,GC3DP/H,GAAYC,EAAAA,EAAAA,IAAAA,CAAavE,IAAS,CACtC2M,UAAW,CACThO,SAAU,WACVoE,IAAK,EACLC,KAAM,EACNtC,cAAe,OACfuC,OAAQ,KAEV2J,eAAgB,CACdjO,SAAU,WACVqE,KAAM,EACN9E,OAAQ,EACR6M,gBAAiB/K,EAAMM,QAAQyB,KAAKC,QACpCtB,cAAe,QAEjBmM,aAAc,CACZlO,SAAU,WACVoE,IAAK,EACLjD,MAAO,EACPiL,gBAAiB/K,EAAMM,QAAQyB,KAAKC,QACpCtB,cAAe,WAkDnB,GA9C+B5C,EAAAA,EAAAA,UAAS,UAAgC,OACtEwB,EAAM,OACNE,EAAM,MACNxB,EAAK,QACLyB,EAAO,QACPC,IAQA,MAAM,QAAEoF,GAAYR,KACd,gBAAEwI,EAAe,OAAE5O,EAAM,UAAE6O,GAAc/O,GACzC,MAAE8B,IAAUqD,EAAAA,EAAAA,mBAAkBnF,GAE9BgP,GAAgBrL,EAAAA,EAAAA,SAAQ,KAC5B,IAAKmL,EACH,OAEF,MAAMlM,EAASmM,IAAYD,EAAgB5L,MAC3C,OAAON,EAAS,IAAKA,KAAWkM,QAAoBrJ,GACnD,CAACqJ,EAAiBC,IAErB,OACEtO,EAAAA,EAAAA,MAAA,OAAKkI,UAAW7B,EAAQ6H,UAAWjO,MAAO,CAAEoB,QAAO5B,UAASY,SAAA,EAC1DC,EAAAA,EAAAA,KAAA,OACE4H,UAAW7B,EAAQ8H,eACnBlO,MAAO,CAAEoE,UAAW,cAActD,OAAaM,YAEjDf,EAAAA,EAAAA,KAAA,OACE4H,UAAW7B,EAAQ+H,aACnBnO,MAAO,CAAEoE,UAAW,cAAcxD,OAAapB,YAEhD8O,GACCjO,EAAAA,EAAAA,KAACkO,EAAmB,CAClBrM,OAAQoM,EACRzN,EAAGE,EAAUH,EACbF,EAAGM,EAAUF,IAEb,OAGV,E","sources":["../../../plugins/variants/src/MultiLinearVariantMatrixDisplay/components/VariantDisplayComponent.tsx","../../../plugins/variants/src/shared/components/RectBg.tsx","../../../plugins/variants/src/shared/components/MultiVariantColorLegend.tsx","../../../plugins/variants/src/shared/components/MultiVariantLegendBarWrapper.tsx","../../../plugins/variants/src/shared/components/MultiVariantLegendBar.tsx","../../../plugins/variants/src/shared/hooks/useMouseTracking.ts","../../../plugins/variants/src/MultiLinearVariantMatrixDisplay/components/LinesConnectingMatrixToGenomicPosition.tsx","../../../plugins/variants/src/shared/components/TreeSidebar.tsx","../../../plugins/variants/src/shared/components/ScrollableVariantContainer.tsx","../../../plugins/variants/src/shared/components/MultiVariantTooltip.tsx","../../../plugins/variants/src/shared/components/MultiVariantCrosshairs.tsx"],"sourcesContent":["import { useRef } from 'react'\n\nimport { observer } from 'mobx-react'\n\nimport LinesConnectingMatrixToGenomicPosition from './LinesConnectingMatrixToGenomicPosition.tsx'\nimport Crosshair from '../../shared/components/MultiVariantCrosshairs.tsx'\nimport ScrollableVariantContainer from '../../shared/components/ScrollableVariantContainer.tsx'\nimport { useMouseTracking } from '../../shared/hooks/useMouseTracking.ts'\n\nimport type { MultiLinearVariantMatrixDisplayModel } from '../model.ts'\n\nconst MultiLinearVariantMatrixDisplayComponent = observer(\n  function MultiLinearVariantMatrixDisplayComponent(props: {\n    model: MultiLinearVariantMatrixDisplayModel\n  }) {\n    const { model } = props\n    const { lineZoneHeight, height } = model\n    const ref = useRef<HTMLDivElement>(null)\n    const { mouseState, handleMouseMove, handleMouseLeave } =\n      useMouseTracking(ref)\n\n    return (\n      <div\n        ref={ref}\n        style={{ position: 'relative', height }}\n        onMouseMove={handleMouseMove}\n        onMouseLeave={handleMouseLeave}\n      >\n        {/* Connecting lines - fixed at top */}\n        <div data-testid=\"connecting-lines\">\n          <LinesConnectingMatrixToGenomicPosition model={model} />\n        </div>\n\n        <ScrollableVariantContainer\n          model={model}\n          topOffset={lineZoneHeight}\n          testId=\"matrix-display\"\n        />\n\n        {mouseState && mouseState.y > lineZoneHeight ? (\n          <Crosshair\n            mouseX={mouseState.x}\n            mouseY={mouseState.y}\n            offsetX={mouseState.offsetX}\n            offsetY={mouseState.offsetY}\n            model={model}\n          />\n        ) : null}\n      </div>\n    )\n  },\n)\nexport default MultiLinearVariantMatrixDisplayComponent\n","import { getFillProps } from '@jbrowse/core/util'\nimport { alpha, useTheme } from '@mui/material'\n\nconst RectBg = ({\n  x,\n  y,\n  width,\n  height,\n  color,\n}: {\n  x: number\n  y: number\n  width: number\n  height: number\n  color?: string\n}) => {\n  const theme = useTheme()\n  return (\n    <rect\n      pointerEvents=\"auto\"\n      x={x}\n      y={y}\n      width={width}\n      height={height}\n      {...getFillProps(color || alpha(theme.palette.background.paper, 0.8))}\n    />\n  )\n}\n\nexport default RectBg\n","import { useMemo } from 'react'\n\nimport { getFillProps } from '@jbrowse/core/util'\nimport { useTheme } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport RectBg from './RectBg.tsx'\n\nimport type { Source } from '../types.ts'\n\nconst LegendItem = function ({\n  source,\n  idx,\n  rowHeight,\n}: {\n  source: Source\n  idx: number\n  rowHeight: number\n}) {\n  const { color } = source\n  const colorBoxWidth = 15\n  return color ? (\n    <RectBg\n      y={idx * rowHeight}\n      x={0}\n      width={colorBoxWidth + 0.5}\n      height={rowHeight + 0.5}\n      color={color}\n    />\n  ) : null\n}\n\nconst LegendItemText = function ({\n  source,\n  idx,\n  rowHeight,\n  textFillProps,\n}: {\n  source: Source\n  idx: number\n  rowHeight: number\n  textFillProps: ReturnType<typeof getFillProps>\n}) {\n  const { color, name } = source\n  const svgFontSize = Math.min(rowHeight, 12)\n  const colorBoxWidth = 15\n  return (\n    <text\n      y={(idx + 0.5) * rowHeight}\n      x={color ? colorBoxWidth + 2 : 0}\n      fontSize={svgFontSize}\n      dominantBaseline=\"central\"\n      {...textFillProps}\n    >\n      {name}\n    </text>\n  )\n}\n\nconst MultiVariantColorLegend = observer(function MultiVariantColorLegend({\n  model,\n  labelWidth,\n}: {\n  model: {\n    canDisplayLabels: boolean\n    rowHeight: number\n    sources?: Source[]\n  }\n  labelWidth: number\n}) {\n  const { canDisplayLabels, rowHeight, sources } = model\n  const colorBoxWidth = 15\n  const theme = useTheme()\n\n  const hasColors = useMemo(\n    () => sources?.some(s => s.color) ?? false,\n    [sources],\n  )\n  const legendWidth = labelWidth + (hasColors ? colorBoxWidth + 5 : 0)\n\n  const textFillProps = useMemo(\n    () => getFillProps(theme.palette.text.primary),\n    [theme.palette.text.primary],\n  )\n\n  return sources ? (\n    <>\n      {canDisplayLabels ? (\n        <RectBg\n          y={0}\n          x={0}\n          width={legendWidth}\n          height={(sources.length + 0.25) * rowHeight}\n        />\n      ) : null}\n      {/* Render all background rectangles first */}\n      {sources.map((source, idx) => (\n        <LegendItem\n          key={`${source.name}-${idx}`}\n          source={source}\n          idx={idx}\n          rowHeight={rowHeight}\n        />\n      ))}\n      {/* Then render all text elements on top */}\n      {canDisplayLabels\n        ? sources.map((source, idx) => (\n            <LegendItemText\n              key={`${source.name}-text-${idx}`}\n              source={source}\n              idx={idx}\n              rowHeight={rowHeight}\n              textFillProps={textFillProps}\n            />\n          ))\n        : null}\n    </>\n  ) : null\n})\n\nexport default MultiVariantColorLegend\n","import { getContainingView } from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\n\nimport type { LegendBarModel } from './types.ts'\n\nconst MultiVariantLegendBarWrapper = observer(\n  function MultiVariantLegendBarWrapper({\n    children,\n    model,\n    exportSVG,\n  }: {\n    model: LegendBarModel\n    children: React.ReactNode\n    exportSVG?: boolean\n  }) {\n    const { id, scrollTop, height, hierarchy, treeAreaWidth, showTree } = model\n    const clipid = `legend-${typeof jest === 'undefined' ? id : 'test'}`\n    const leftOffset = hierarchy && showTree ? treeAreaWidth : 0\n    return exportSVG ? (\n      <>\n        <defs>\n          <clipPath id={clipid}>\n            <rect x={0} y={0} width={1000} height={height} />\n          </clipPath>\n        </defs>\n        <g clipPath={`url(#${clipid})`}>\n          <g transform={`translate(0,${-scrollTop})`}>{children}</g>\n        </g>\n      </>\n    ) : (\n      <svg\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: leftOffset,\n          zIndex: 100,\n          pointerEvents: 'none',\n          height: model.totalHeight,\n          width: getContainingView(model).width,\n        }}\n      >\n        {children}\n      </svg>\n    )\n  },\n)\n\nexport default MultiVariantLegendBarWrapper\n","import { useMemo } from 'react'\n\nimport { measureText } from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\n\nimport ColorLegend from './MultiVariantColorLegend.tsx'\nimport MultiVariantLegendBarWrapper from './MultiVariantLegendBarWrapper.tsx'\n\nimport type { LegendBarModel } from './types.ts'\n\nconst MultiVariantLegendBar = observer(function MultiVariantLegendBar(props: {\n  model: LegendBarModel\n  orientation?: string\n  exportSVG?: boolean\n}) {\n  const { model } = props\n  const { canDisplayLabels, rowHeight, sources } = model\n  const svgFontSize = Math.min(rowHeight, 12)\n\n  const labelWidth = useMemo(() => {\n    if (!sources) {\n      return 0\n    }\n    let maxWidth = 0\n    for (const s of sources) {\n      const width = canDisplayLabels\n        ? measureText(s.name, svgFontSize) + 10\n        : 20\n      if (width > maxWidth) {\n        maxWidth = width\n      }\n    }\n    return maxWidth\n  }, [sources, svgFontSize, canDisplayLabels])\n\n  return sources ? (\n    <MultiVariantLegendBarWrapper {...props}>\n      <ColorLegend model={model} labelWidth={labelWidth} />\n    </MultiVariantLegendBarWrapper>\n  ) : null\n})\n\nexport default MultiVariantLegendBar\n","import { useCallback, useRef, useState } from 'react'\n\nimport type { MouseState } from '../components/types.ts'\n\n/**\n * Hook for RAF-throttled mouse tracking within a container.\n * Returns mouse position relative to container and absolute screen offsets.\n */\nexport function useMouseTracking(ref: React.RefObject<HTMLDivElement | null>) {\n  const rafRef = useRef<ReturnType<typeof requestAnimationFrame> | undefined>(\n    undefined,\n  )\n  const [mouseState, setMouseState] = useState<MouseState>()\n\n  const handleMouseMove = useCallback(\n    (event: React.MouseEvent) => {\n      if (rafRef.current) {\n        cancelAnimationFrame(rafRef.current)\n      }\n      const clientX = event.clientX\n      const clientY = event.clientY\n      rafRef.current = requestAnimationFrame(() => {\n        const rect = ref.current?.getBoundingClientRect()\n        if (rect) {\n          setMouseState({\n            x: clientX - rect.left,\n            y: clientY - rect.top,\n            offsetX: rect.left,\n            offsetY: rect.top,\n          })\n        }\n      })\n    },\n    [ref],\n  )\n\n  const handleMouseLeave = useCallback(() => {\n    if (rafRef.current) {\n      cancelAnimationFrame(rafRef.current)\n    }\n    setMouseState(undefined)\n  }, [])\n\n  return {\n    mouseState,\n    handleMouseMove,\n    handleMouseLeave,\n  }\n}\n","import { forwardRef, isValidElement, useState } from 'react'\n\nimport { ResizeHandle, SanitizedHTML } from '@jbrowse/core/ui'\nimport BaseTooltip from '@jbrowse/core/ui/BaseTooltip'\nimport {\n  getContainingView,\n  getSession,\n  getStrokeProps,\n} from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { alpha, useTheme } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { Feature } from '@jbrowse/core/util'\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\nconst useStyles = makeStyles()(theme => ({\n  resizeHandle: {\n    height: 5,\n    boxSizing: 'border-box',\n    background: 'transparent',\n    '&:hover': {\n      background: theme.palette.divider,\n    },\n  },\n}))\n\ninterface MinimalModel {\n  setLineZoneHeight: (arg: number) => number\n  height: number\n  lineZoneHeight: number\n  featuresVolatile: Feature[] | undefined\n}\n\nconst Wrapper = observer(function Wrapper({\n  children,\n  model,\n  exportSVG,\n}: {\n  model: MinimalModel\n  children: React.ReactNode\n  exportSVG?: boolean\n}) {\n  const { height } = model\n  const { width, offsetPx } = getContainingView(model) as LinearGenomeViewModel\n  const left = Math.max(0, -offsetPx)\n  return exportSVG ? (\n    <g transform={`translate(${left})`}>{children}</g>\n  ) : (\n    <svg\n      style={{\n        position: 'absolute',\n        top: 0,\n        left,\n        height,\n        width,\n      }}\n    >\n      {children}\n    </svg>\n  )\n})\n\ninterface MouseOverLine {\n  f: Feature\n  idx: number\n  c: number\n}\n\nconst LinesConnectingMatrixToGenomicPosition = observer(\n  function LinesConnectingMatrixToGenomicPosition({\n    model,\n    exportSVG,\n  }: {\n    model: MinimalModel\n    exportSVG?: boolean\n  }) {\n    const { classes } = useStyles()\n    const { assemblyManager } = getSession(model)\n    const view = getContainingView(model) as LinearGenomeViewModel\n    const [mouseOverLine, setMouseOverLine] = useState<MouseOverLine>()\n    const { lineZoneHeight, featuresVolatile } = model\n    const { assemblyNames, dynamicBlocks } = view\n    const assembly = assemblyManager.get(assemblyNames[0]!)\n    const b0 = dynamicBlocks.contentBlocks[0]?.widthPx || 0\n    const w = b0 / (featuresVolatile?.length || 1)\n    return assembly && featuresVolatile ? (\n      <>\n        <Wrapper exportSVG={exportSVG} model={model}>\n          <AllLines model={model} setMouseOverLine={setMouseOverLine} />\n          {mouseOverLine ? (\n            <>\n              <line\n                stroke=\"#f00c\"\n                strokeWidth={2}\n                style={{\n                  pointerEvents: 'none',\n                }}\n                x1={mouseOverLine.idx * w + w / 2}\n                x2={mouseOverLine.c}\n                y1={lineZoneHeight}\n                y2={0}\n                onMouseLeave={() => {\n                  setMouseOverLine(undefined)\n                }}\n              />\n              <LineTooltip contents={mouseOverLine.f.get('name')} />\n            </>\n          ) : null}\n        </Wrapper>\n        {!exportSVG ? (\n          <ResizeHandle\n            style={{\n              position: 'absolute',\n              top: lineZoneHeight - 4,\n            }}\n            onDrag={n => model.setLineZoneHeight(lineZoneHeight + n)}\n            className={classes.resizeHandle}\n          />\n        ) : null}\n      </>\n    ) : null\n  },\n)\ninterface Props {\n  message: React.ReactNode | string\n}\nconst TooltipContents = forwardRef<HTMLDivElement, Props>(\n  function TooltipContents2({ message }, ref) {\n    return (\n      <div ref={ref}>\n        {isValidElement(message) ? (\n          message\n        ) : message ? (\n          <SanitizedHTML html={String(message)} />\n        ) : null}\n      </div>\n    )\n  },\n)\nconst LineTooltip = observer(function LineTooltip({\n  contents,\n}: {\n  contents?: string\n}) {\n  return contents ? (\n    <BaseTooltip>\n      <TooltipContents message={contents} />\n    </BaseTooltip>\n  ) : null\n})\n\nconst AllLines = observer(function AllLines({\n  model,\n  setMouseOverLine,\n}: {\n  model: MinimalModel\n  setMouseOverLine: (arg: any) => void\n}) {\n  const theme = useTheme()\n  const { assemblyManager } = getSession(model)\n  const view = getContainingView(model) as LinearGenomeViewModel\n  const { lineZoneHeight, featuresVolatile } = model\n  const { offsetPx, assemblyNames, dynamicBlocks } = view\n  const assembly = assemblyManager.get(assemblyNames[0]!)\n  const b0 = dynamicBlocks.contentBlocks[0]?.widthPx || 0\n  const w = b0 / (featuresVolatile?.length || 1)\n  const l = Math.max(offsetPx, 0)\n  const p = getStrokeProps(alpha(theme.palette.text.primary, 0.4))\n  return assembly && featuresVolatile ? (\n    <>\n      {featuresVolatile.map((f, i) => {\n        const ref = f.get('refName')\n        const c =\n          (view.bpToPx({\n            refName: assembly.getCanonicalRefName2(ref),\n            coord: f.get('start'),\n          })?.offsetPx || 0) - l\n        return (\n          <line\n            {...p}\n            strokeWidth={1}\n            key={f.id()}\n            x1={i * w + w / 2}\n            x2={c}\n            y1={lineZoneHeight}\n            y2={0}\n            onMouseEnter={() => {\n              setMouseOverLine({ f, idx: i, c })\n            }}\n            onMouseLeave={() => {\n              setMouseOverLine(undefined)\n            }}\n          />\n        )\n      })}\n    </>\n  ) : null\n})\n\nexport default LinesConnectingMatrixToGenomicPosition\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { ResizeHandle } from '@jbrowse/core/ui'\nimport { getContainingView } from '@jbrowse/core/util'\nimport Flatbush from '@jbrowse/core/util/flatbush'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { alpha } from '@mui/material'\nimport { autorun } from 'mobx'\nimport { observer } from 'mobx-react'\n\nimport type { ClusterHierarchyNode, TreeSidebarModel } from './types.ts'\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\nconst useStyles = makeStyles()(theme => ({\n  resizeHandle: {\n    position: 'absolute',\n    top: 0,\n    height: '100%',\n    width: 4,\n    zIndex: 101,\n    background: 'transparent',\n    '&:hover': {\n      background: theme.palette.divider,\n    },\n  },\n  treeBackground: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    background: alpha(theme.palette.background.paper, 0.8),\n  },\n}))\n\nfunction getDescendantNames(node: ClusterHierarchyNode): string[] {\n  if (!node.children?.length) {\n    return [node.data.name]\n  }\n  return node.children.flatMap(child => getDescendantNames(child))\n}\n\n/**\n * TreeSidebar renders a hierarchical cluster tree alongside the variant display.\n *\n * Architecture:\n * - treeCanvas: Draws the tree structure lines (via treeDrawingAutorun)\n * - mouseoverCanvas: Draws hover highlights spanning full width (via treeDrawingAutorun)\n * - interaction div: Captures mouse events over the tree area\n *\n * The sticky container keeps the tree visible when the parent scrolls.\n * The tree drawing uses translate(-scrollTop) to show the correct portion.\n */\nconst TreeSidebar = observer(function TreeSidebar({\n  model,\n}: {\n  model: TreeSidebarModel\n}) {\n  const { classes } = useStyles()\n  const { width: viewWidth } = getContainingView(model) as LinearGenomeViewModel\n  const [nodeIndex, setNodeIndex] = useState<Flatbush | null>(null)\n  const [nodeData, setNodeData] = useState<ClusterHierarchyNode[]>([])\n\n  const { hierarchy, treeAreaWidth, height, scrollTop, showTree, sources } =\n    model\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const treeCanvasRef = useCallback(\n    (ref: HTMLCanvasElement | null) => {\n      model.setTreeCanvasRef(ref)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, treeAreaWidth, height],\n  )\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const mouseoverCanvasRef = useCallback(\n    (ref: HTMLCanvasElement | null) => {\n      model.setMouseoverCanvasRef(ref)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, viewWidth, height],\n  )\n\n  // Build spatial index for tree branch nodes to enable hover detection\n  useEffect(() => {\n    return autorun(\n      function treeSpatialIndexAutorun() {\n        // it is required to access treeAreaWidth here for the autorun to respond\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { treeAreaWidth: _t, hierarchy: h, totalHeight: th } = model\n        // Access totalHeight to rebuild index when row height changes\n        void th\n        if (!h) {\n          setNodeIndex(null)\n          setNodeData([])\n          return\n        }\n\n        const nodes = h.descendants().filter(node => node.children?.length)\n\n        const index = new Flatbush(nodes.length)\n        const hitRadius = 8\n\n        for (const node of nodes) {\n          const x = node.y!\n          const y = node.x!\n          index.add(x - hitRadius, y - hitRadius, x + hitRadius, y + hitRadius)\n        }\n\n        index.finish()\n        setNodeIndex(index)\n        setNodeData(nodes)\n      },\n      { name: 'TreeSpatialIndex' },\n    )\n  }, [model])\n\n  const handleMouseMove = useCallback(\n    (event: React.MouseEvent) => {\n      if (!hierarchy || !nodeIndex) {\n        return\n      }\n      const rect = event.currentTarget.getBoundingClientRect()\n      const x = event.clientX - rect.left\n      const y = event.clientY - rect.top + scrollTop\n\n      const results = nodeIndex.search(x, y, x, y)\n      const node = results.length > 0 ? nodeData[results[0]!] : undefined\n      if (node) {\n        model.setHoveredTreeNode({\n          node,\n          descendantNames: getDescendantNames(node),\n        })\n      } else {\n        model.setHoveredTreeNode(undefined)\n      }\n    },\n    [hierarchy, nodeIndex, nodeData, scrollTop, model],\n  )\n\n  const handleMouseLeave = useCallback(() => {\n    model.setHoveredTreeNode(undefined)\n  }, [model])\n\n  if (!hierarchy || !showTree || !sources?.length) {\n    return null\n  }\n\n  return (\n    <>\n      {/* Sticky container keeps tree visible when parent scrolls */}\n      <div\n        style={{\n          position: 'sticky',\n          top: 0,\n          left: 0,\n          height: 0,\n          zIndex: 100,\n        }}\n      >\n        {/* Tree area background */}\n        <div\n          className={classes.treeBackground}\n          style={{\n            width: treeAreaWidth,\n            height,\n          }}\n        />\n        {/* Tree structure canvas - draws lines via treeDrawingAutorun */}\n        <canvas\n          ref={treeCanvasRef}\n          width={treeAreaWidth * 2}\n          height={height * 2}\n          style={{\n            width: treeAreaWidth,\n            height,\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            pointerEvents: 'none',\n          }}\n        />\n        {/* Highlight canvas - draws hover highlights via treeDrawingAutorun */}\n        <canvas\n          ref={mouseoverCanvasRef}\n          width={viewWidth}\n          height={height}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            zIndex: 1,\n            pointerEvents: 'none',\n          }}\n        />\n        {/* Interaction area - captures mouse events over tree */}\n        <div\n          onMouseMove={handleMouseMove}\n          onMouseLeave={handleMouseLeave}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: treeAreaWidth,\n            height,\n            zIndex: 2,\n            cursor: 'pointer',\n          }}\n        />\n      </div>\n      <ResizeHandle\n        onDrag={distance => {\n          model.setTreeAreaWidth(Math.max(50, treeAreaWidth + distance))\n          return undefined\n        }}\n        className={classes.resizeHandle}\n        style={{\n          left: treeAreaWidth,\n        }}\n        vertical\n      />\n    </>\n  )\n})\n\nexport default TreeSidebar\n","import { BaseLinearDisplayComponent } from '@jbrowse/plugin-linear-genome-view'\nimport { observer } from 'mobx-react'\n\nimport LegendBar from './MultiVariantLegendBar.tsx'\nimport TreeSidebar from './TreeSidebar.tsx'\n\nimport type { MultiVariantBaseModel } from '../MultiVariantBaseModel.ts'\n\ninterface ScrollableVariantContainerProps {\n  model: MultiVariantBaseModel\n  topOffset?: number\n  testId?: string\n}\n\nconst ScrollableVariantContainer = observer(\n  function ScrollableVariantContainer({\n    model,\n    topOffset = 0,\n    testId,\n  }: ScrollableVariantContainerProps) {\n    const { setScrollTop, autoHeight, availableHeight } = model\n\n    return (\n      <div\n        data-testid={testId}\n        style={{\n          position: 'absolute',\n          top: topOffset,\n          height: availableHeight,\n          width: '100%',\n          overflowY: autoHeight ? 'hidden' : 'auto',\n          overflowX: 'hidden',\n        }}\n        onScroll={evt => {\n          setScrollTop(evt.currentTarget.scrollTop)\n        }}\n      >\n        <TreeSidebar model={model} />\n        <LegendBar model={model} />\n        <div\n          style={{\n            position: 'absolute',\n            left: 0,\n            width: '100%',\n          }}\n        >\n          <BaseLinearDisplayComponent model={model} />\n        </div>\n      </div>\n    )\n  },\n)\n\nexport default ScrollableVariantContainer\n","import { memo } from 'react'\n\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Portal, alpha } from '@mui/material'\n\nconst useStyles = makeStyles()(theme => ({\n  tooltip: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    backgroundColor: alpha(theme.palette.grey[700], 0.9),\n    borderRadius: theme.shape.borderRadius,\n    color: theme.palette.common.white,\n    fontFamily: theme.typography.fontFamily,\n    padding: '4px 8px',\n    fontSize: theme.typography.fontSize,\n    maxWidth: 300,\n    wordWrap: 'break-word',\n    zIndex: 100000,\n  },\n  row: {\n    whiteSpace: 'nowrap',\n  },\n  colorBox: {\n    width: 10,\n    height: 10,\n    display: 'inline-block',\n    marginRight: 4,\n  },\n}))\n\nconst EXCLUDE_KEYS = new Set(['color', 'HP', 'name', 'baseName', 'id'])\n\nconst MultiVariantTooltip = memo(function MultiVariantTooltip({\n  source,\n  x,\n  y,\n}: {\n  source: {\n    color?: string\n    name?: string\n    [key: string]: unknown\n  }\n  x: number\n  y: number\n}) {\n  const { classes } = useStyles()\n\n  return (\n    <Portal>\n      <div\n        className={classes.tooltip}\n        style={{ transform: `translate(${x + 10}px, ${y + 10}px)` }}\n      >\n        {source.color ? (\n          <div\n            className={classes.colorBox}\n            style={{ backgroundColor: source.color }}\n          />\n        ) : null}\n        {source.name ? <div className={classes.row}>{source.name}</div> : null}\n        {Object.entries(source).map(([key, value]) =>\n          !EXCLUDE_KEYS.has(key) && value !== undefined ? (\n            <div key={key} className={classes.row}>\n              {key}: {String(value)}\n            </div>\n          ) : null,\n        )}\n      </div>\n    </Portal>\n  )\n})\n\nexport default MultiVariantTooltip\n","import { useMemo } from 'react'\n\nimport { getContainingView } from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { observer } from 'mobx-react'\n\nimport MultiVariantTooltip from './MultiVariantTooltip.tsx'\n\nimport type { MultiVariantBaseModel } from '../MultiVariantBaseModel.ts'\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\nconst useStyles = makeStyles()(theme => ({\n  container: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    zIndex: 800,\n  },\n  horizontalLine: {\n    position: 'absolute',\n    left: 0,\n    height: 1,\n    backgroundColor: theme.palette.text.primary,\n    pointerEvents: 'none',\n  },\n  verticalLine: {\n    position: 'absolute',\n    top: 0,\n    width: 1,\n    backgroundColor: theme.palette.text.primary,\n    pointerEvents: 'none',\n  },\n}))\n\nconst MultiVariantCrosshairs = observer(function MultiVariantCrosshairs({\n  mouseX,\n  mouseY,\n  model,\n  offsetX,\n  offsetY,\n}: {\n  mouseX: number\n  mouseY: number\n  model: MultiVariantBaseModel\n  offsetX: number\n  offsetY: number\n}) {\n  const { classes } = useStyles()\n  const { hoveredGenotype, height, sourceMap } = model\n  const { width } = getContainingView(model) as LinearGenomeViewModel\n\n  const tooltipSource = useMemo(() => {\n    if (!hoveredGenotype) {\n      return undefined\n    }\n    const source = sourceMap?.[hoveredGenotype.name]\n    return source ? { ...source, ...hoveredGenotype } : undefined\n  }, [hoveredGenotype, sourceMap])\n\n  return (\n    <div className={classes.container} style={{ width, height }}>\n      <div\n        className={classes.horizontalLine}\n        style={{ transform: `translateY(${mouseY}px)`, width }}\n      />\n      <div\n        className={classes.verticalLine}\n        style={{ transform: `translateX(${mouseX}px)`, height }}\n      />\n      {tooltipSource ? (\n        <MultiVariantTooltip\n          source={tooltipSource}\n          x={offsetX + mouseX}\n          y={offsetY + mouseY}\n        />\n      ) : null}\n    </div>\n  )\n})\n\nexport default MultiVariantCrosshairs\n"],"names":["observer","props","model","lineZoneHeight","height","ref","useRef","mouseState","handleMouseMove","handleMouseLeave","useMouseTracking","_jsxs","style","position","onMouseMove","onMouseLeave","children","_jsx","LinesConnectingMatrixToGenomicPosition","ScrollableVariantContainer","topOffset","testId","y","Crosshair","mouseX","x","mouseY","offsetX","offsetY","t0","$","_c","width","color","theme","useTheme","t1","t2","t3","alpha","palette","background","paper","getFillProps","pointerEvents","LegendItem","source","idx","rowHeight","RectBg","LegendItemText","textFillProps","name","svgFontSize","Math","min","dominantBaseline","labelWidth","canDisplayLabels","sources","legendWidth","useMemo","some","s","colorBoxWidth","text","primary","_Fragment","length","map","exportSVG","id","scrollTop","hierarchy","treeAreaWidth","showTree","clipid","jest","leftOffset","clipPath","transform","top","left","zIndex","totalHeight","getContainingView","maxWidth","measureText","MultiVariantLegendBarWrapper","ColorLegend","rafRef","undefined","setMouseState","useState","event","current","cancelAnimationFrame","clientX","clientY","requestAnimationFrame","rect","getBoundingClientRect","Symbol","for","useStyles","makeStyles","resizeHandle","boxSizing","divider","Wrapper","offsetPx","max","classes","assemblyManager","getSession","view","mouseOverLine","setMouseOverLine","featuresVolatile","assemblyNames","dynamicBlocks","assembly","get","w","contentBlocks","widthPx","AllLines","stroke","strokeWidth","x1","x2","c","y1","y2","LineTooltip","contents","f","ResizeHandle","onDrag","n","setLineZoneHeight","className","TooltipContents","forwardRef","message","isValidElement","SanitizedHTML","html","String","BaseTooltip","l","p","getStrokeProps","i","bpToPx","refName","getCanonicalRefName2","coord","_createElement","key","onMouseEnter","treeBackground","getDescendantNames","node","flatMap","child","data","viewWidth","nodeIndex","setNodeIndex","nodeData","setNodeData","treeCanvasRef","useCallback","setTreeCanvasRef","mouseoverCanvasRef","setMouseoverCanvasRef","useEffect","autorun","_t","h","th","nodes","descendants","filter","index","Flatbush","add","finish","currentTarget","results","search","setHoveredTreeNode","descendantNames","cursor","distance","setTreeAreaWidth","vertical","setScrollTop","autoHeight","availableHeight","overflowY","overflowX","onScroll","evt","TreeSidebar","LegendBar","BaseLinearDisplayComponent","tooltip","backgroundColor","grey","borderRadius","shape","common","white","fontFamily","typography","padding","fontSize","wordWrap","row","whiteSpace","colorBox","display","marginRight","EXCLUDE_KEYS","Set","memo","t4","t5","t6","t7","Object","entries","value","has","Portal","container","horizontalLine","verticalLine","hoveredGenotype","sourceMap","tooltipSource","MultiVariantTooltip"],"ignoreList":[],"sourceRoot":""}