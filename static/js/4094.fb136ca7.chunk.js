"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[4094],{74094:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var a=n(7552),r=n(49823),o=n(99546),s=n(31892),i=n(7720),l=n(74893),d=n(69500);const c=(0,l.A)((0,d.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var u=n(36715),m=n(5401),p=n(1343),g=n(93117),A=n(61723),v=n(63011),b=n(41578),f=n(68446),h=n(36422),y=n(75785),x=n(58181),E=n(92516),S=n(30157),w=n(79698),C=n(89003),M=n(13197);const I=(0,a.lazy)((()=>n.e(8556).then(n.bind(n,78556)))),R=(0,y.n9)()((()=>({lockedPluginTooltip:{marginRight:"0.5rem"}})));function N(){const{classes:e}=R();return a.createElement(C.A,{className:e.lockedPluginTooltip,title:"This plugin was installed by an administrator, you cannot remove it."},a.createElement(w.A,null))}const j=(0,f.observer)((function({plugin:e,model:t}){const{pluginManager:n}=(0,o.getEnv)(t),r=(0,o.getSession)(t),{jbrowse:s,adminMode:i}=r,l=!!(0,E.zA)(r)&&r.sessionPlugins.some((t=>n.pluginMetadata[e.name]?.url===t.url));return a.createElement(M.Ay,{key:e.name},i||l?a.createElement(A.A,{"data-testid":`removePlugin-${e.name}`,onClick:()=>{r.queueDialog((t=>[I,{plugin:e.name,onClose:a=>{if(a){const t=n.pluginMetadata[e.name];i?s.removePlugin(t):(0,E.zA)(r)&&r.removeSessionPlugin(t)}t()}}]))}},a.createElement(S.A,null)):a.createElement(N,null),a.createElement(u.A,null,e.name))})),k=(0,f.observer)((function({pluginManager:e,model:t}){const{plugins:n}=e,{filterText:r}=t,o=n.filter((t=>!e.pluginMetadata[t.name]?.isCore));return a.createElement(x.A,null,o.length>0?o.filter((e=>e.name.toLowerCase().includes(r.toLowerCase()))).map((e=>a.createElement(j,{key:e.name,plugin:e,model:t}))):a.createElement(u.A,null,"No plugins currently installed"))}));var P=n(374);const G=(0,l.A)((0,d.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),L=(0,l.A)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var T=n(1773),$=n(25355),z=n(87731),V=n(71379);const F=(0,y.n9)()({card:{margin:"0.5em"},icon:{marginLeft:"0.5em",marginRight:"0.5em"},bold:{fontWeight:600},dataField:{display:"flex",alignItems:"center"},mr:{marginRight:"0.5em"}}),B=(0,f.observer)((function({plugin:e,model:t}){const{classes:n}=F(),r=(0,o.getSession)(t),{pluginManager:s}=(0,o.getEnv)(t),{runtimePluginDefinitions:i}=s,l=i.some((t=>"url"in t&&t.url===e.url)),[d,c]=(0,a.useState)(!1),{adminMode:p,jbrowse:g}=r,{name:A,authors:v,description:b}=e;return a.createElement(T.A,{variant:"outlined",key:A,className:n.card},a.createElement($.A,null,a.createElement(u.A,{variant:"h5"},a.createElement(z.A,{href:`${e.location}#readme`,target:"_blank",rel:"noopener"},e.name)),a.createElement("div",{className:n.dataField},a.createElement(L,{className:n.mr}),a.createElement(u.A,null,v.join(", "))),a.createElement(u.A,{className:n.bold},"Description:"),a.createElement(u.A,null,b)),a.createElement(V.A,null,a.createElement(m.A,{variant:"contained",disabled:l||d,startIcon:l?a.createElement(G,null):a.createElement(P.A,null),onClick:()=>{p?g.addPlugin(e):(0,E.zA)(r)?r.addSessionPlugin(e):r.notify("No way to install plugin"),c(!0)}},l?"Installed":"Install")))})),W=(0,a.lazy)((()=>n.e(4755).then(n.bind(n,54755)))),_=(0,y.n9)()((e=>({expandIcon:{color:e.palette.tertiary.contrastText},adminBadge:{borderRadius:3,backgroundColor:e.palette.quaternary.main,padding:"1em",display:"flex",alignContent:"center"},customPluginButton:{margin:"1em auto",display:"flex"},mr:{marginRight:"0.3em"},m:{margin:"1em"}}))),D=(0,f.observer)((function({model:e}){const{classes:t}=_(),{plugins:n,error:l}=function(){const[e,t]=(0,a.useState)(),[n,r]=(0,a.useState)();return(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("https://jbrowse.org/plugin-store/plugins.json");if(!e.ok){const t=await e.text();throw new Error(`HTTP ${e.status} fetching plugins: ${t}`)}const n=await e.json();t(n.plugins)}catch(e){console.error(e),r(e)}})()}),[]),{plugins:e,error:n}}(),d=(0,o.getSession)(e),{adminMode:f}=d,{pluginManager:y}=(0,h.getEnv)(e);return a.createElement("div",null,f&&a.createElement(a.Fragment,null,!o.isElectron&&a.createElement("div",{className:t.adminBadge},a.createElement(c,{className:t.mr}),a.createElement(u.A,null,"You are using the ",a.createElement("code",null,"admin-server"),". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.")),a.createElement(m.A,{className:t.customPluginButton,variant:"contained",onClick:()=>{d.queueDialog((t=>[W,{model:e,onClose:t}]))}},"Add custom plugin")),a.createElement(p.A,{label:"Filter plugins",value:e.filterText,onChange:t=>{e.setFilterText(t.target.value)},fullWidth:!0,slotProps:{input:{endAdornment:a.createElement(g.A,{position:"end"},a.createElement(A.A,{onClick:()=>{e.clearFilterText()}},a.createElement(s.A,null)))}}}),a.createElement(v.A,{defaultExpanded:!0},a.createElement(b.A,{expandIcon:a.createElement(i.A,{className:t.expandIcon})},a.createElement(u.A,{variant:"h5"},"Installed plugins")),a.createElement("div",{className:t.m},a.createElement(k,{pluginManager:y,model:e}))),a.createElement(v.A,{defaultExpanded:!0},a.createElement(b.A,{expandIcon:a.createElement(i.A,{className:t.expandIcon})},a.createElement(u.A,{variant:"h5"},"Available plugins")),l?a.createElement(u.A,{color:"error"},`${l}`):n?n.filter((t=>!(o.isElectron&&t.cjsUrl)&&t.name.toLowerCase().includes(e.filterText.toLowerCase()))).map((t=>a.createElement(B,{key:t.name,plugin:t,model:e}))):a.createElement(r.LoadingEllipses,null)))}))},31892:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(74893),r=n(69500);const o=(0,a.A)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},7720:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(74893),r=n(69500);const o=(0,a.A)((0,r.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},79698:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(74893),r=n(69500);const o=(0,a.A)((0,r.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock")},41578:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(7552),r=n(93878),o=n(70799),s=n(51148),i=n(84893),l=n(4785),d=n(48054),c=n(51132),u=n(33761),m=n(85693);function p(e){return(0,m.Ay)("MuiAccordionSummary",e)}const g=(0,u.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]);var A=n(69500);const v=(0,s.Ay)(d.A,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((0,i.A)((({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${g.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${g.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${g.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${g.expanded}`]:{minHeight:64}}}]}}))),b=(0,s.Ay)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((0,i.A)((({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${g.expanded}`]:{margin:"20px 0"}}}]})))),f=(0,s.Ay)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((0,i.A)((({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${g.expanded}`]:{transform:"rotate(180deg)"}})))),h=a.forwardRef((function(e,t){const n=(0,l.b)({props:e,name:"MuiAccordionSummary"}),{children:s,className:i,expandIcon:d,focusVisibleClassName:u,onClick:m,...g}=n,{disabled:h=!1,disableGutters:y,expanded:x,toggle:E}=a.useContext(c.A),S={...n,expanded:x,disabled:h,disableGutters:y},w=(e=>{const{classes:t,expanded:n,disabled:a,disableGutters:r}=e,s={root:["root",n&&"expanded",a&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,o.A)(s,p,t)})(S);return(0,A.jsxs)(v,{focusRipple:!1,disableRipple:!0,disabled:h,component:"div","aria-expanded":x,className:(0,r.A)(w.root,i),focusVisibleClassName:(0,r.A)(w.focusVisible,u),onClick:e=>{E&&E(e),m&&m(e)},ref:t,ownerState:S,...g,children:[(0,A.jsx)(b,{className:w.content,ownerState:S,children:s}),d&&(0,A.jsx)(f,{className:w.expandIconWrapper,ownerState:S,children:d})]})}))},1773:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(7552),r=n(93878),o=n(70799),s=n(51148),i=n(4785),l=n(943),d=n(50885),c=n(69500);const u=(0,s.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),m=a.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCard"}),{className:a,raised:s=!1,...l}=n,m={...n,raised:s},p=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},d.T,t)})(m);return(0,c.jsx)(u,{className:(0,r.A)(p.root,a),elevation:s?8:void 0,ref:t,ownerState:m,...l})}))},50885:(e,t,n)=>{n.d(t,{A:()=>s,T:()=>o});var a=n(33761),r=n(85693);function o(e){return(0,r.Ay)("MuiCard",e)}const s=(0,a.A)("MuiCard",["root"])},71379:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(7552),r=n(93878),o=n(70799),s=n(51148),i=n(4785),l=n(93863),d=n(69500);const c=(0,s.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),u=a.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCardActions"}),{disableSpacing:a=!1,className:s,...u}=n,m={...n,disableSpacing:a},p=(e=>{const{classes:t,disableSpacing:n}=e,a={root:["root",!n&&"spacing"]};return(0,o.A)(a,l.E,t)})(m);return(0,d.jsx)(c,{className:(0,r.A)(p.root,s),ownerState:m,ref:t,...u})}))},93863:(e,t,n)=>{n.d(t,{A:()=>s,E:()=>o});var a=n(33761),r=n(85693);function o(e){return(0,r.Ay)("MuiCardActions",e)}const s=(0,a.A)("MuiCardActions",["root","spacing"])},25355:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(7552),r=n(93878),o=n(70799),s=n(51148),i=n(4785),l=n(61823),d=n(69500);const c=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),u=a.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCardContent"}),{className:a,component:s="div",...u}=n,m={...n,component:s},p=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},l.h,t)})(m);return(0,d.jsx)(c,{as:s,className:(0,r.A)(p.root,a),ownerState:m,ref:t,...u})}))},61823:(e,t,n)=>{n.d(t,{A:()=>s,h:()=>o});var a=n(33761),r=n(85693);function o(e){return(0,r.Ay)("MuiCardContent",e)}const s=(0,a.A)("MuiCardContent",["root"])},13197:(e,t,n)=>{n.d(t,{Ay:()=>h});var a=n(7552),r=n(93878),o=n(70799),s=n(23879),i=n(51148),l=n(84893),d=n(4785),c=n(3755),u=n(51584),m=n(57406),p=n(74823);const g=(0,n(33761).A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var A=n(77999),v=n(69500);const b=(0,i.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})((0,l.A)((({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${g.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]})))),f=(0,i.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),h=a.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiListItem"}),{alignItems:i="center",children:l,className:g,component:h,components:y={},componentsProps:x={},ContainerComponent:E="li",ContainerProps:{className:S,...w}={},dense:C=!1,disableGutters:M=!1,disablePadding:I=!1,divider:R=!1,secondaryAction:N,slotProps:j={},slots:k={},...P}=n,G=a.useContext(m.A),L=a.useMemo((()=>({dense:C||G.dense||!1,alignItems:i,disableGutters:M})),[i,G.dense,C,M]),T=a.useRef(null),$=a.Children.toArray(l),z=$.length&&(0,c.A)($[$.length-1],["ListItemSecondaryAction"]),V={...n,alignItems:i,dense:L.dense,disableGutters:M,disablePadding:I,divider:R,hasSecondaryAction:z},F=(e=>{const{alignItems:t,classes:n,dense:a,disableGutters:r,disablePadding:s,divider:i,hasSecondaryAction:l}=e,d={root:["root",a&&"dense",!r&&"gutters",!s&&"padding",i&&"divider","flex-start"===t&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]};return(0,o.A)(d,p._,n)})(V),B=(0,u.A)(T,t),W=k.root||y.Root||b,_=j.root||x.root||{},D={className:(0,r.A)(F.root,_.className,g),...P};let H=h||"li";return z?(H=D.component||h?H:"div","li"===E&&("li"===H?H="div":"li"===D.component&&(D.component="div")),(0,v.jsx)(m.A.Provider,{value:L,children:(0,v.jsxs)(f,{as:E,className:(0,r.A)(F.container,S),ref:B,ownerState:V,...w,children:[(0,v.jsx)(W,{..._,...!(0,s.A)(W)&&{as:H,ownerState:{...V,..._.ownerState}},...D,children:$}),$.pop()]})})):(0,v.jsx)(m.A.Provider,{value:L,children:(0,v.jsxs)(W,{..._,as:H,ref:B,...!(0,s.A)(W)&&{ownerState:{...V,..._.ownerState}},...D,children:[$,N&&(0,v.jsx)(A.A,{children:N})]})})}))},74823:(e,t,n)=>{n.d(t,{A:()=>s,_:()=>o});var a=n(33761),r=n(85693);function o(e){return(0,r.Ay)("MuiListItem",e)}const s=(0,a.A)("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"])},77999:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(7552),r=n(93878),o=n(70799),s=n(51148),i=n(4785),l=n(57406),d=n(87739),c=n(69500);const u=(0,s.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),m=a.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:s,...m}=n,p=a.useContext(l.A),g={...n,disableGutters:p.disableGutters},A=(e=>{const{disableGutters:t,classes:n}=e,a={root:["root",t&&"disableGutters"]};return(0,o.A)(a,d.g,n)})(g);return(0,c.jsx)(u,{className:(0,r.A)(A.root,s),ownerState:g,ref:t,...m})}));m.muiName="ListItemSecondaryAction";const p=m},87739:(e,t,n)=>{n.d(t,{A:()=>s,g:()=>o});var a=n(33761),r=n(85693);function o(e){return(0,r.Ay)("MuiListItemSecondaryAction",e)}const s=(0,a.A)("MuiListItemSecondaryAction",["root","disableGutters"])}}]);
//# sourceMappingURL=4094.fb136ca7.chunk.js.map