"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[8946],{6569(e,t,n){n.d(t,{A:()=>d});var o=n(55614),s=n(30128),l=n(49328),a=n(77819),c=n(59705),r=n(23149),i=n(44460);function d(e){const t=(0,o.c)(17),{value:n,onChange:d,label:h,className:u}=e,[m,g]=(0,s.useState)(n),[,k]=(0,s.useTransition)();let b,f,p,x,v,C,y;return t[0]!==n?(b=()=>{""===n&&g("")},f=[n],t[0]=n,t[1]=b,t[2]=f):(b=t[1],f=t[2]),(0,s.useEffect)(b,f),t[3]!==d||t[4]!==k?(p=e=>{const t=e.target.value;g(t),k(()=>{d(t)})},t[3]=d,t[4]=k,t[5]=p):p=t[5],t[6]!==d?(x=()=>{g(""),d("")},t[6]=d,t[7]=x):x=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(v=(0,i.jsx)(l.A,{}),t[8]=v):v=t[8],t[9]!==x?(C={input:{endAdornment:(0,i.jsx)(a.A,{position:"end",children:(0,i.jsx)(c.A,{onClick:x,children:v})})}},t[9]=x,t[10]=C):C=t[10],t[11]!==u||t[12]!==h||t[13]!==m||t[14]!==p||t[15]!==C?(y=(0,i.jsx)(r.A,{className:u,label:h,value:m,onChange:p,fullWidth:!0,slotProps:C}),t[11]=u,t[12]=h,t[13]=m,t[14]=p,t[15]=C,t[16]=y):y=t[16],y}},48946(e,t,n){n.r(t),n.d(t,{default:()=>me});var o=n(55614),s=n(30128),l=n(69566),a=n(44460);function c(e){const t=(0,o.c)(10),{children:n,disableWidth:l}=e,c=(0,s.useRef)(null),[r,i]=(0,s.useState)(0);let d,h;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{const e=c.current?.parentElement;if(!e)return;const t=new ResizeObserver(()=>{const t=window.getComputedStyle(e),n=e.getBoundingClientRect();i(n.height-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom))});return t.observe(e),()=>{t.disconnect()}},h=[],t[0]=d,t[1]=h):(d=t[0],h=t[1]),(0,s.useEffect)(d,h);const u=l?0:void 0;let m,g,k;return t[2]!==u?(m={height:u,overflow:"visible"},t[2]=u,t[3]=m):m=t[3],t[4]!==n||t[5]!==r?(g=r>0?n({height:r,width:0}):null,t[4]=n,t[5]=r,t[6]=g):g=t[6],t[7]!==m||t[8]!==g?(k=(0,a.jsx)("div",{ref:c,style:m,children:g}),t[7]=m,t[8]=g,t[9]=k):k=t[9],k}var r=n(23886),i=n(16640),d=n(46625),h=n(11218),u=n(92633),m=n(68673),g=n(79291);const k=(0,d.n)()(e=>({fab:{position:"absolute",bottom:e.spacing(6),right:e.spacing(6)}})),b=(0,l.observer)(function({model:e}){const{classes:t}=k(),n=(0,r.getSession)(e),[o,l]=(0,s.useState)(null);function c(){l(null)}const d=(0,i.BY)(n),b=(0,i.QW)(n);return b||d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{color:"secondary",className:t.fab,onClick:e=>{l(e.currentTarget)},children:(0,a.jsx)(h.A,{})}),(0,a.jsxs)(m.A,{anchorEl:o,open:Boolean(o),onClose:()=>{l(null)},children:[d?(0,a.jsx)(g.A,{onClick:()=>{c(),(0,i.lO)(n)&&n.showWidget(n.addWidget("AddConnectionWidget","addConnectionWidget"))},children:"Add connection"}):null,b?(0,a.jsx)(g.A,{onClick:()=>{c(),(0,i.lO)(n)&&n.showWidget(n.addWidget("AddTrackWidget","addTrackWidget",{view:e.view.id}))},children:"Add track"}):null]})]}):null});var f=n(6569),p=n(51138),x=n(52062),v=n(30097),C=n(97772),y=n(9378),j=n(37472),A=n(19608),T=n(55679);const w=(0,l.observer)(function({model:e,tracks:t,extraMenuItems:n,children:o,onClick:l}){const{view:c}=e,[i,d]=(0,s.useState)(!1),h=(0,r.getSession)(e);return c?(0,a.jsx)(y.A,{closeAfterItemClick:!1,onClick:l,menuItems:[...t.map(t=>({type:"checkbox",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{html:(0,A.getTrackName)(t,h)})," ",(0,a.jsx)(T.A,{id:t.trackId,model:e,conf:t,setOpen:d,stopPropagation:!0})]}),checked:c.tracks.some(e=>e.configuration===t),onClick:()=>{i||e.view.toggleTrack(t.trackId)&&e.addToRecentlyUsed(t.trackId)}})),...n],children:o}):null}),S=(0,d.n)()({smallBadge:{height:14},margin:{marginRight:10}}),I={vertical:"bottom",horizontal:"right"};function L({hasTracks:e,clearLabel:t,emptyLabel:n,onClear:o}){return e?[{type:"divider"},{label:t,onClick:o}]:[{label:n,onClick:()=>{}}]}const N=(0,l.observer)(function({model:e}){const{classes:t}=S(),{view:n,favoriteTracks:o,favoritesCounter:s}=e;return n?(0,a.jsx)(w,{onClick:()=>{e.setFavoritesCounter(0)},tracks:o,model:e,extraMenuItems:L({hasTracks:o.length>0,clearLabel:"Clear favorites",emptyLabel:"No favorite tracks yet",onClear:()=>{e.clearFavorites()}}),children:(0,a.jsx)(v.A,{title:"Favorite tracks",children:(0,a.jsx)(C.A,{classes:{badge:t.smallBadge},color:"secondary",anchorOrigin:I,className:t.margin,badgeContent:s,children:(0,a.jsx)(x.A,{})})})}):null});var W=n(17378),F=n(9614);const M=(0,s.lazy)(()=>Promise.all([n.e(5754),n.e(7993),n.e(7529),n.e(9186),n.e(2574)]).then(n.bind(n,17710))),O=(0,s.lazy)(()=>n.e(6411).then(n.bind(n,88792))),R=(0,s.lazy)(()=>n.e(8979).then(n.bind(n,38979))),E=(0,s.lazy)(()=>n.e(4376).then(n.bind(n,24376))),B=(0,s.lazy)(()=>n.e(2423).then(n.bind(n,12423))),_=(0,l.observer)(function({model:e}){const t=(0,r.getSession)(e),[n,o]=(0,s.useState)(),[l,c]=(0,s.useState)(),[d,h]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[g,k]=(0,s.useState)(!1);function b(e,n){const s=(0,W.QZ)(e,"name"),l=t.prepareToBreakConnection?.(e);if(l){const[t,n]=l;Object.keys(n).length>0?o({connectionConf:e,safelyBreakConnection:t,dereferenceTypeCount:n,name:s}):t()}n&&c({name:s,connectionConf:e})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{menuItems:[{label:"Open faceted track selector",onClick:()=>{k(!0)}},...(0,i.QW)(t)?[{label:"Add track...",onClick:()=>{(0,i.lO)(t)&&t.showWidget(t.addWidget("AddTrackWidget","addTrackWidget",{view:e.view.id}))}}]:[],{label:"Connections...",subMenu:[...(0,i.BY)(t)?[{label:"Turn on/off connections...",onClick:()=>{h(!0)}}]:[],...(0,i.gx)(t)?[{label:"Add connection...",onClick:()=>{(0,i.lO)(t)&&t.showWidget(t.addWidget("AddConnectionWidget","addConnectionWidget"))}},{label:"Delete connections...",onClick:()=>{m(!0)}}]:[]]},{label:"Sort...",type:"subMenu",subMenu:[{label:"Sort tracks by name",type:"checkbox",checked:e.activeSortTrackNames,onClick:()=>{e.setSortTrackNames(!e.activeSortTrackNames)}},{label:"Sort categories by name",type:"checkbox",checked:e.activeSortCategories,onClick:()=>{e.setSortCategories(!e.activeSortCategories)}}]},{label:"Collapse...",type:"subMenu",subMenu:[...e.hasAnySubcategories?[{label:"Collapse subcategories",onClick:()=>{e.collapseSubCategories()}}]:[],{label:"Collapse top-level categories",onClick:()=>{e.collapseTopLevelCategories()}},{label:"Expand all categories",onClick:()=>{e.expandAllCategories()}}]}],children:(0,a.jsx)(F.A,{})}),(0,a.jsxs)(s.Suspense,{fallback:null,children:[n?(0,a.jsx)(O,{modalInfo:n,onClose:()=>{o(void 0)}}):null,l?(0,a.jsx)(R,{handleClose:()=>{c(void 0)},deleteDialogDetails:l,session:t}):null,u?(0,a.jsx)(E,{handleClose:()=>{m(!1)},breakConnection:b,session:t}):null,d?(0,a.jsx)(B,{handleClose:()=>{h(!1)},session:t,breakConnection:b}):null,g?(0,a.jsx)(M,{handleClose:()=>{k(!1)},model:e}):null]})]})});var H=n(5077);const z=(0,l.observer)(function({model:e}){const{classes:t}=S(),{view:n,recentlyUsedTracks:o,recentlyUsedCounter:s}=e;return n?(0,a.jsx)(w,{onClick:()=>{e.setRecentlyUsedCounter(0)},tracks:o,model:e,extraMenuItems:L({hasTracks:o.length>0,clearLabel:"Clear recently used",emptyLabel:"No recently used",onClear:()=>{e.clearRecentlyUsed()}}),children:(0,a.jsx)(v.A,{title:"Recently used tracks",children:(0,a.jsx)(C.A,{classes:{badge:t.smallBadge},color:"secondary",anchorOrigin:I,badgeContent:s,children:(0,a.jsx)(H.A,{})})})}):null}),D=(0,d.n)()(e=>({searchBox:{margin:e.spacing(2)}})),P=(0,l.observer)(function({model:e,setHeaderHeight:t}){const{classes:n}=D();return(0,a.jsx)("div",{ref:e=>{t(e?.getBoundingClientRect().height||0)},"data-testid":"hierarchical_track_selector",children:(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(_,{model:e}),(0,a.jsx)(p.A,{model:e}),(0,a.jsx)(f.A,{className:n.searchBox,label:"Filter tracks",value:e.filterText,onChange:t=>{e.setFilterText(t)}}),(0,a.jsx)(z,{model:e}),(0,a.jsx)(N,{model:e})]})})});var U=n(77065),Q=n(23992),$=n(55064),Y=n(54825);function K(e){return"category"===e?.type?e.children.flatMap(e=>"category"===e.type?K(e):e.conf):[]}const Z=(0,d.n)()(e=>({contrastColor:{color:e.palette.tertiary.contrastText},accordionText:{margin:"auto 0",width:"100%"}}));function q(e){const t=[];for(const n of e.children)"category"===n.type&&t.push(n.id,...q(n));return t}function G(e){return e.children.filter(e=>"track"===e.type).map(e=>e.trackId)}const J=(0,l.observer)(function({item:e,model:t}){const{classes:n}=Z(),[o,l]=(0,s.useState)(!1),{name:c,id:r}=e,i=!t.collapsed.get(r),d=(0,s.useCallback)(()=>{const n=q(e);return[{label:"Add to selection",onClick:()=>{t.addToSelection(K(e))},helpText:"Add all tracks in this category to the current selection. This allows you to perform bulk operations on multiple tracks at once, such as configuring settings or exporting track configurations."},{label:"Remove from selection",onClick:()=>{t.removeFromSelection(K(e))},helpText:"Remove all tracks in this category from the current selection. Use this to deselect tracks that were previously added to your selection."},{label:"Show all",onClick:()=>{for(const n of G(e))t.view.showTrack(n)},helpText:"Display all tracks in this category on the current view. This is useful when you want to visualize multiple related tracks simultaneously to compare their data."},{label:"Hide all",onClick:()=>{for(const n of G(e))t.view.hideTrack(n)},helpText:"Hide all tracks in this category from the current view. This helps declutter your view by removing tracks you are not currently analyzing."},...n.length>0?[{label:"Collapse all subcategories",onClick:()=>{for(const e of n)t.setCategoryCollapsed(e,!0)},helpText:"Collapse all nested subcategories within this category. This provides a cleaner, more compact view of the track hierarchy by hiding the detailed contents of subcategories."},{label:"Expand all subcategories",onClick:()=>{for(const e of n)t.setCategoryCollapsed(e,!1)},helpText:"Expand all nested subcategories within this category. This reveals all tracks and subcategories at once, making it easier to browse and select tracks from the entire hierarchy."}]:[]]},[e,t]);return(0,a.jsx)("div",{className:n.accordionText,onClick:()=>{o||t.toggleCategory(r)},children:(0,a.jsxs)(Y.A,{"data-testid":`htsCategory-${c}`,children:[i?(0,a.jsx)(U.A,{}):(0,a.jsx)(Q.A,{}),(0,a.jsx)(j.A,{html:c}),(0,a.jsx)(y.A,{menuItems:d,className:n.contrastColor,stopPropagation:!0,setOpen:l,children:(0,a.jsx)($.A,{})})]})})});var V=n(42700),X=n(78921);const ee=(0,d.n)()(e=>({compactCheckbox:{padding:0},checkboxLabel:{marginRight:0,"&:hover":{backgroundColor:e.palette.action.selected}},selected:{background:"#cccc"}})),te=(0,s.memo)(function(e){const t=(0,o.c)(8),{checked:n,onChange:s,id:l,disabled:c,className:r}=e,i=`htsTrackEntry-${l}`;let d,h;return t[0]!==i?(d={input:{"data-testid":i}},t[0]=i,t[1]=d):d=t[1],t[2]!==n||t[3]!==r||t[4]!==c||t[5]!==s||t[6]!==d?(h=(0,a.jsx)(V.A,{className:r,checked:n,onChange:s,disabled:c,slotProps:d}),t[2]=n,t[3]=r,t[4]=c,t[5]=s,t[6]=d,t[7]=h):h=t[7],h}),ne=(0,l.observer)(function({model:e,conf:t,id:n,name:o,selectedClass:s}){const l=e.selectionSet.has(t);return(0,a.jsx)("div",{"data-testid":`htsTrackLabel-${n}`,className:l?s:void 0,children:(0,a.jsx)(j.A,{html:o})})}),oe=(0,s.memo)(function(e){const t=(0,o.c)(38),{model:n,item:s,checked:l}=e,{classes:c}=ee(),{drawerPosition:i}=(0,r.getSession)(n),{id:d,name:h,conf:u,trackId:m}=s;let g;t[0]!==u?(g=(0,W.QZ)(u,"description"),t[0]=u,t[1]=g):g=t[1];const k=g;let b;t[2]!==n.view||t[3]!==m?(b=()=>{n.view.toggleTrack(m)},t[2]=n.view,t[3]=m,t[4]=b):b=t[4];const f=b,p="left"===i?"right":"left",x=c.checkboxLabel;let C,y,j,A,w,S,I,L;return t[5]!==u||t[6]!==n?(C=e=>{(e.ctrlKey||e.metaKey)&&(n.selectionSet.has(u)?n.removeFromSelection([u]):n.addToSelection([u]),e.preventDefault())},t[5]=u,t[6]=n,t[7]=C):C=t[7],t[8]!==h?(y=function(e=""){return e.endsWith("(Unsupported)")||e.endsWith("(Unknown)")}(h),t[8]=h,t[9]=y):y=t[9],t[10]!==l||t[11]!==c.compactCheckbox||t[12]!==d||t[13]!==f||t[14]!==y?(j=(0,a.jsx)(te,{checked:l,onChange:f,id:d,disabled:y,className:c.compactCheckbox}),t[10]=l,t[11]=c.compactCheckbox,t[12]=d,t[13]=f,t[14]=y,t[15]=j):j=t[15],t[16]!==c.selected||t[17]!==u||t[18]!==d||t[19]!==n||t[20]!==h?(A=(0,a.jsx)(ne,{model:n,conf:u,id:d,name:h,selectedClass:c.selected}),t[16]=c.selected,t[17]=u,t[18]=d,t[19]=n,t[20]=h,t[21]=A):A=t[21],t[22]!==c.checkboxLabel||t[23]!==C||t[24]!==j||t[25]!==A?(w=(0,a.jsx)(X.A,{className:x,onClick:C,control:j,label:A}),t[22]=c.checkboxLabel,t[23]=C,t[24]=j,t[25]=A,t[26]=w):w=t[26],t[27]!==k||t[28]!==p||t[29]!==w?(S=(0,a.jsx)(v.A,{title:k,placement:p,children:w}),t[27]=k,t[28]=p,t[29]=w,t[30]=S):S=t[30],t[31]!==u||t[32]!==d||t[33]!==n?(I=(0,a.jsx)(T.A,{model:n,id:d,conf:u}),t[31]=u,t[32]=d,t[33]=n,t[34]=I):I=t[34],t[35]!==S||t[36]!==I?(L=(0,a.jsxs)(a.Fragment,{children:[S,I]}),t[35]=S,t[36]=I,t[37]=L):L=t[37],L});var se=n(34036);const le=(0,d.n)()(e=>({nestingLevelMarker:{position:"absolute",borderLeft:"1.5px solid #555"},accordionCard:{padding:3,cursor:"pointer",display:"flex"},accordionColor:{background:e.palette.tertiary.main,color:e.palette.tertiary.contrastText,width:"100%",display:"flex",paddingLeft:5}})),ae=(0,s.memo)(function(e){const t=(0,o.c)(9),{nestingLevel:n,height:s,className:l}=e;let c;if(t[0]!==l||t[1]!==s||t[2]!==n){let e;t[4]!==l||t[5]!==s?(e=(e,t)=>(0,a.jsx)("div",{style:{left:10*t+4,height:s},className:l},t),t[4]=l,t[5]=s,t[6]=e):e=t[6],c=Array.from({length:n},e),t[0]=l,t[1]=s,t[2]=n,t[3]=c}else c=t[3];const r=c;let i;return t[7]!==r?(i=(0,a.jsx)(a.Fragment,{children:r}),t[7]=r,t[8]=i):i=t[8],i}),ce=(0,s.memo)(function(e){const t=(0,o.c)(27),{item:n,model:s,top:l,checked:c}=e,{classes:r}=le(),i="category"===n.type,{nestingLevel:d}=n;let h;t[0]!==n?(h=(0,se.L)(n),t[0]=n,t[1]=h):h=t[1];const u=h,m=10*d+(i?0:10);let g,k;t[2]!==u||t[3]!==l?(g={position:"absolute",width:"100%",display:"flex",cursor:"pointer",height:u,top:l},t[2]=u,t[3]=l,t[4]=g):g=t[4],t[5]!==r.nestingLevelMarker||t[6]!==u||t[7]!==d?(k=(0,a.jsx)(ae,{nestingLevel:d,height:u,className:r.nestingLevelMarker}),t[5]=r.nestingLevelMarker,t[6]=u,t[7]=d,t[8]=k):k=t[8];const b=i?r.accordionCard:void 0;let f;t[9]!==m?(f={marginLeft:m,whiteSpace:"nowrap",flex:1},t[9]=m,t[10]=f):f=t[10];const p=i?r.accordionColor:void 0;let x,v,C,y;return t[11]!==c||t[12]!==i||t[13]!==n||t[14]!==s?(x=i?(0,a.jsx)(J,{model:s,item:n}):(0,a.jsx)(oe,{model:s,item:n,checked:c}),t[11]=c,t[12]=i,t[13]=n,t[14]=s,t[15]=x):x=t[15],t[16]!==p||t[17]!==x?(v=(0,a.jsx)("div",{className:p,children:x}),t[16]=p,t[17]=x,t[18]=v):v=t[18],t[19]!==b||t[20]!==f||t[21]!==v?(C=(0,a.jsx)("div",{className:b,style:f,children:v}),t[19]=b,t[20]=f,t[21]=v,t[22]=C):C=t[22],t[23]!==g||t[24]!==k||t[25]!==C?(y=(0,a.jsxs)("div",{style:g,children:[k,C]}),t[23]=g,t[24]=k,t[25]=C,t[26]=y):y=t[26],y}),re=(0,l.observer)(function({height:e,model:t}){const{flattenedItems:n,shownTrackIds:o}=t,l=(0,s.useRef)(null),[c,r]=(0,s.useState)(0),{startIndex:i,endIndex:d,totalHeight:h,itemOffsets:u}=t.itemOffsets(e,c);return(0,s.useEffect)(()=>{const n=l.current;if(!n)return;const o=()=>{const o=n.scrollTop;r(n=>{const{startIndex:s,endIndex:l}=t.itemOffsets(e,n),{startIndex:a,endIndex:c}=t.itemOffsets(e,o);return s===a&&l===c?n:o})};return n.addEventListener("scroll",o,{passive:!0}),()=>{n.removeEventListener("scroll",o)}},[e,t]),(0,a.jsx)("div",{ref:l,style:{height:e,overflowY:"auto"},children:(0,a.jsx)("div",{style:{height:h,width:"100%",position:"relative"},children:Array.from({length:d-i+1},(e,s)=>{const l=i+s,c=n[l];return c?(0,a.jsx)(ce,{model:t,item:c,top:u[l],checked:"track"===c.type?o.has(c.trackId):void 0},c.id):null})})})}),ie=e=>{const t=(0,o.c)(3),{model:n,offset:s}=e;let l;return t[0]!==n||t[1]!==s?(l="undefined"==typeof jest?(0,a.jsx)(c,{disableWidth:!0,children:e=>(0,a.jsx)(re,{height:(e.height||s)-s,model:n})}):(0,a.jsx)(re,{height:9e3,model:n}),t[0]=n,t[1]=s,t[2]=l):l=t[2],l},de=e=>{const t=(0,o.c)(3),{overrideDimensions:n,children:s}=e;let l;return t[0]!==s||t[1]!==n?(l=n?(0,a.jsx)("div",{style:{...n},children:s}):s,t[0]=s,t[1]=n,t[2]=l):l=t[2],l},he=(0,l.observer)(function({model:e,toolbarHeight:t,overrideDimensions:n}){return(0,a.jsxs)(de,{overrideDimensions:n,children:[(0,a.jsx)(ue,{model:e,toolbarHeight:t}),(0,a.jsx)(b,{model:e})]})}),ue=(0,l.observer)(function({model:e,toolbarHeight:t=0}){const[n,o]=(0,s.useState)(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{model:e,setHeaderHeight:o}),(0,a.jsx)(ie,{model:e,offset:t+n})]})}),me=he},51138(e,t,n){n.d(t,{A:()=>i});var o=n(9378),s=n(23886),l=n(35635),a=n(97772),c=n(69566),r=n(44460);const i=(0,c.observer)(function({model:e}){const t=(0,s.getSession)(e),{selection:n}=e,{pluginManager:c}=(0,s.getEnv)(e),{adminMode:i,sessionTracks:d}=t,h=new Set(d?.map(e=>e.trackId)),u=c.evaluateExtensionPoint("TrackSelector-multiTrackMenuItems",[],{session:t});return n.length?(0,r.jsx)(o.A,{menuItems:[{label:"Clear selection",onClick:()=>{e.clearSelection()}},...n.filter(e=>!!e).every(e=>{return t=e.trackId,i||h.has(t);var t})?[{label:"Delete tracks",onClick:()=>{for(const e of n)t.deleteTrackConf?.(e)}}]:[],...u.map(t=>({...t,..."onClick"in t?{onClick:()=>{t.onClick(e)}}:{}}))],children:(0,r.jsx)(a.A,{badgeContent:n.length,color:"primary",children:(0,r.jsx)(l.A,{})})}):null})},55679(e,t,n){n.d(t,{A:()=>u});var o=n(55614),s=(n(30128),n(9378)),l=n(23886),a=n(46625),c=n(55064),r=n(38173),i=n(89009),d=n(44460);const h=(0,a.n)()({cascadingStyle:{padding:0}}),u=function(e){const t=(0,o.c)(11),{id:n,stopPropagation:a,model:u,setOpen:m,conf:g}=e,{classes:k}=h(),b=g.trackId;let f;t[0]!==g||t[1]!==u||t[2]!==b?(f=()=>{const e=(0,l.getSession)(u);return[...e.getTrackListMenuItems?.(g)||[],u.isFavorite(b)?{label:"Remove from favorites",onClick:()=>{u.removeFromFavorites(b)},icon:i.A}:{label:"Add to favorites",onClick:()=>{u.addToFavorites(b)},icon:r.A},{label:"Add to selection",onClick:()=>{u.addToSelection([g])}},...u.isSelected(g)?[{label:"Remove from selection",onClick:()=>{u.removeFromSelection([g])}}]:[]]},t[0]=g,t[1]=u,t[2]=b,t[3]=f):f=t[3];const p=f,x=`htsTrackEntryMenu-${n}`;let v,C;return t[4]===Symbol.for("react.memo_cache_sentinel")?(v=(0,d.jsx)(c.A,{}),t[4]=v):v=t[4],t[5]!==k.cascadingStyle||t[6]!==p||t[7]!==m||t[8]!==a||t[9]!==x?(C=(0,d.jsx)(s.A,{className:k.cascadingStyle,stopPropagation:a,setOpen:m,"data-testid":x,menuItems:p,children:v}),t[5]=k.cascadingStyle,t[6]=p,t[7]=m,t[8]=a,t[9]=x,t[10]=C):C=t[10],C}}}]);
//# sourceMappingURL=8946.276c44b4.chunk.js.map