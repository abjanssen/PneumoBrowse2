"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1547,7105],{5690:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(7552),o=a(93878),r=a(75100),i=a(80317),s=a(21928),l=a(50864),c=a(69112),d=a(69500);const p=(0,i.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableGutters&&t.gutters,t[a.variant]]}})((0,s.A)((({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]})))),m=n.forwardRef((function(e,t){const a=(0,l.b)({props:e,name:"MuiToolbar"}),{className:n,component:i="div",disableGutters:s=!1,variant:m="regular",...g}=a,h={...a,component:i,disableGutters:s,variant:m},u=(e=>{const{classes:t,disableGutters:a,variant:n}=e,o={root:["root",!a&&"gutters",n]};return(0,r.A)(o,c.U,t)})(h);return(0,d.jsx)(p,{as:i,className:(0,o.A)(u.root,n),ref:t,ownerState:h,...g})}))},26167:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var n=a(7552),o=a(67112),r=a(68446),i=a(93062),s=a(10240),l=a(28194),c=a(76218),d=a(30698),p=a(69092),m=a(69500);const g=(0,r.observer)((function({adapterSelection:e,setAdapterSelection:t,adapterTypes:a}){return(0,m.jsx)(i.A,{value:e,variant:"outlined",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:e=>{t(e.target.value)},children:a.map((e=>(0,m.jsx)(s.A,{value:e,children:e},e)))})})),h=(0,r.observer)((function({fastaLocation:e,setFastaLocation:t}){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.A,{severity:"warning",style:{margin:30},children:"Note: use only relatively small files for this type, it is loaded into memory"}),(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{t(e)}})})]})})),u=(0,r.observer)((function({fastaLocation:e,faiLocation:t,setFaiLocation:a,setFastaLocation:n}){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{n(e)}})}),(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"faiLocation",location:t,setLocation:e=>{a(e)}})})]})})),v=(0,r.observer)((function({fastaLocation:e,faiLocation:t,gziLocation:a,setFaiLocation:n,setGziLocation:r,setFastaLocation:i}){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{i(e)}})}),(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"faiLocation",location:t,setLocation:e=>{n(e)}})}),(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"gziLocation",location:a,setLocation:e=>{r(e)}})})]})})),f=(0,r.observer)((function({twoBitLocation:e,chromSizesLocation:t,setTwoBitLocation:a,setChromSizesLocation:n}){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"twoBitLocation",location:e,setLocation:e=>{a(e)}})}),(0,m.jsx)("div",{children:(0,m.jsx)(o.FileSelector,{inline:!0,name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:t,setLocation:e=>{n(e)}})})]})})),b={uri:""},x=["IndexedFastaAdapter","BgzipFastaAdapter","UnindexedFastaAdapter","TwoBitAdapter"],A=(0,r.observer)((function({session:e,onClose:t}){const[a,o]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),[l,A]=(0,n.useState)(x[0]),[y,j]=(0,n.useState)(b),[L,O]=(0,n.useState)(b),[C,S]=(0,n.useState)(b),[w,F]=(0,n.useState)(b),[z,T]=(0,n.useState)(b);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(c.A,{children:[(0,m.jsx)(i.A,{id:"assembly-name",label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:a,onChange:e=>{o(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-name"}}}),(0,m.jsx)(i.A,{id:"assembly-name",label:"Assembly display name",helperText:'(optional) A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:r,onChange:e=>{s(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-display-name"}}}),(0,m.jsx)(g,{adapterSelection:l,adapterTypes:x,setAdapterSelection:A}),"IndexedFastaAdapter"===l?(0,m.jsx)(u,{fastaLocation:y,faiLocation:L,setFaiLocation:O,setFastaLocation:j}):"UnindexedFastaAdapter"===l?(0,m.jsx)(h,{fastaLocation:y,setFastaLocation:j}):"TwoBitAdapter"===l?(0,m.jsx)(f,{twoBitLocation:w,chromSizesLocation:z,setTwoBitLocation:F,setChromSizesLocation:T}):(0,m.jsx)(v,{fastaLocation:y,gziLocation:C,faiLocation:L,setFaiLocation:O,setGziLocation:S,setFastaLocation:j})]}),(0,m.jsxs)(d.A,{children:[(0,m.jsx)(p.A,{variant:"contained",color:"primary",onClick:()=>{""===a?e.notify("Can't create an assembly without a name"):(t(),e.addAssembly({name:a,displayName:r,sequence:{type:"ReferenceSequenceTrack",trackId:`${a}-${performance.now()}`,adapter:"IndexedFastaAdapter"===l?{type:"IndexedFastaAdapter",fastaLocation:y,faiLocation:L}:"BgzipFastaAdapter"===l?{type:"BgzipFastaAdapter",fastaLocation:y,faiLocation:L,gziLocation:C}:"UnindexedFastaAdapter"===l?{type:"UnindexedFastaAdapter",fastaLocation:y}:{type:"TwoBitAdapter",twoBitLocation:w,chromSizesLocation:z}}}),e.notify(`Added "${a}"`,"success"))},children:"Submit"}),(0,m.jsx)(p.A,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})}));var y=a(59099);const j=(0,a(75785).n9)()({container:{overflow:"auto",maxHeight:600}}),L=(0,r.observer)((function({assembly:e,onClose:t}){const{classes:a}=j();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.A,{children:(0,m.jsx)("div",{className:a.container,children:e?(0,m.jsx)(y.S,{model:{target:e}}):(0,m.jsx)("div",{children:"No assembly"})})}),(0,m.jsx)(d.A,{children:(0,m.jsx)(p.A,{variant:"contained",onClick:()=>{t()},children:"Back"})})]})}));var O=a(68584),C=a(62162),S=a(18423);const w=(0,a(29772).A)((0,m.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var F=a(74281),z=a(89870),T=a(46275);const B=(0,r.observer)((function({onEditAssembly:e,onAddAssembly:t,onClose:a,session:n}){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.A,{children:(0,m.jsx)(C.A,{children:(0,m.jsx)(T.z,{rowHeight:25,columnHeaderHeight:35,hideFooter:n.assemblies.length<25,rows:n.assemblies.map((e=>({id:(0,O.readConfObject)(e,"name"),name:(0,O.readConfObject)(e,"name"),displayName:(0,O.readConfObject)(e,"displayName"),aliases:(0,O.readConfObject)(e,"aliases"),assembly:e}))),columns:[{field:"name"},{field:"displayName"},{field:"aliases"},{field:"actions",renderCell:({row:t})=>{const{assembly:a,name:o}=t,r=!!n.sessionAssemblies.includes(a)||n.adminMode;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(z.A,{disabled:!r,onClick:()=>{e(a)},children:(0,m.jsx)(w,{})}),(0,m.jsx)(z.A,{"data-testid":`${o}-delete`,disabled:!r,onClick:()=>{r&&(n.removeAssembly?n.removeAssembly(o):n.notify("Unable to find removeAssembly function"))},children:(0,m.jsx)(F.A,{})})]})}}]})})}),(0,m.jsxs)(d.A,{children:[(0,m.jsx)(p.A,{color:"secondary",variant:"contained",onClick:()=>{a()},children:"Close"}),(0,m.jsx)(p.A,{variant:"contained",startIcon:(0,m.jsx)(S.A,{}),onClick:()=>{t()},children:"Add new assembly"})]})]})})),R=(0,r.observer)((function({session:e,onClose:t}){const[a,r]=(0,n.useState)(!1),[i,s]=(0,n.useState)();return(0,m.jsx)(o.Dialog,{open:!0,title:"Assembly manager",onClose:()=>{t()},children:i?(0,m.jsx)(L,{assembly:i,onClose:()=>{s(void 0)}}):a?(0,m.jsx)(A,{session:e,onClose:()=>{r(!1)}}):(0,m.jsx)(B,{session:e,onClose:()=>{t()},onAddAssembly:()=>{r(!0)},onEditAssembly:e=>{s(e)}})})}))},43816:(e,t,a)=>{a.d(t,{A:()=>i,w:()=>r});var n=a(51062),o=a(2958);function r(e){return(0,o.Ay)("MuiBadge",e)}const i=(0,n.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"])},62162:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(67758),o=a(75785),r=a(69500);const i=(0,o.n9)()({flexContainer:{display:"flex",flexDirection:"column"}});function s(e){const t=(0,n.c)(3),{children:a}=e,{classes:o}=i();let s;return t[0]!==a||t[1]!==o.flexContainer?(s=(0,r.jsx)("div",{className:o.flexContainer,children:a}),t[0]=a,t[1]=o.flexContainer,t[2]=s):s=t[2],s}},69112:(e,t,a)=>{a.d(t,{A:()=>i,U:()=>r});var n=a(51062),o=a(2958);function r(e){return(0,o.Ay)("MuiToolbar",e)}const i=(0,n.A)("MuiToolbar",["root","gutters","regular","dense"])},74281:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(29772),o=a(69500);const r=(0,n.A)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},85877:(e,t,a)=>{a.d(t,{A:()=>b});var n=a(7552),o=a(93878),r=a(48908),i=a(75100);var s=a(80317),l=a(21928),c=a(20535),d=a(50864),p=a(74325),m=a(43816),g=a(22020),h=a(69500);const u=(0,s.Ay)("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),v=(0,s.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.badge,t[a.variant],t[`anchorOrigin${(0,p.A)(a.anchorOrigin.vertical)}${(0,p.A)(a.anchorOrigin.horizontal)}${(0,p.A)(a.overlap)}`],"default"!==a.color&&t[`color${(0,p.A)(a.color)}`],a.invisible&&t.invisible]}})((0,l.A)((({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter((0,c.A)(["contrastText"])).map((([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${m.A.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}))));function f(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const b=n.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiBadge"}),{anchorOrigin:n,className:s,classes:l,component:c,components:b={},componentsProps:x={},children:A,overlap:y="rectangular",color:j="default",invisible:L=!1,max:O=99,badgeContent:C,slots:S,slotProps:w,showZero:F=!1,variant:z="standard",...T}=a,{badgeContent:B,invisible:R,max:$,displayValue:k}=function(e){const{badgeContent:t,invisible:a=!1,max:n=99,showZero:o=!1}=e,i=(0,r.A)({badgeContent:t,max:n});let s=a;!1!==a||0!==t||o||(s=!0);const{badgeContent:l,max:c=n}=s?i:e;return{badgeContent:l,invisible:s,max:c,displayValue:l&&Number(l)>c?`${c}+`:l}}({max:O,invisible:L,badgeContent:C,showZero:F}),M=(0,r.A)({anchorOrigin:f(n),color:j,overlap:y,variant:z,badgeContent:C}),I=R||null==B&&"dot"!==z,{color:N=j,overlap:H=y,anchorOrigin:P,variant:G=z}=I?M:a,U=f(P),W="dot"!==G?k:void 0,V={...a,badgeContent:B,invisible:I,max:$,displayValue:W,showZero:F,anchorOrigin:U,color:N,overlap:H,variant:G},D=(e=>{const{color:t,anchorOrigin:a,invisible:n,overlap:o,variant:r,classes:s={}}=e,l={root:["root"],badge:["badge",r,n&&"invisible",`anchorOrigin${(0,p.A)(a.vertical)}${(0,p.A)(a.horizontal)}`,`anchorOrigin${(0,p.A)(a.vertical)}${(0,p.A)(a.horizontal)}${(0,p.A)(o)}`,`overlap${(0,p.A)(o)}`,"default"!==t&&`color${(0,p.A)(t)}`]};return(0,i.A)(l,m.w,s)})(V),Z={slots:{root:S?.root??b.Root,badge:S?.badge??b.Badge},slotProps:{root:w?.root??x.root,badge:w?.badge??x.badge}},[_,E]=(0,g.A)("root",{elementType:u,externalForwardedProps:{...Z,...T},ownerState:V,className:(0,o.A)(D.root,s),ref:t,additionalProps:{as:c}}),[q,J]=(0,g.A)("badge",{elementType:v,externalForwardedProps:Z,ownerState:V,className:D.badge});return(0,h.jsxs)(_,{...E,children:[A,(0,h.jsx)(q,{...J,children:W})]})}))},98930:(e,t,a)=>{a.d(t,{A:()=>n});const n=(0,a(70770).Ay)()}}]);
//# sourceMappingURL=1547.aa024ea7.chunk.js.map