"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[6621],{66621:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var n=t(68120),r=t(9502),i=t(46377),s=t(99834),c=t(66885),o=t(54702);class u extends i.BaseFeatureDataAdapter{async configurePre(){const e=this.pluginManager,a=this.getConf("vcfGzLocation"),t=this.getConf(["index","location"]),i=this.getConf(["index","indexType"]),c=(0,s.openLocation)(a,e),o="CSI"===i,u=new n.wD({filehandle:c,csiFilehandle:o?(0,s.openLocation)(t,e):void 0,tbiFilehandle:o?void 0:(0,s.openLocation)(t,e),chunkCacheSize:52428800}),g=await u.getHeader();return{vcf:u,parser:new r.A({header:g})}}async configure(){return this.configured||(this.configured=this.configurePre().catch((e=>{throw this.configured=void 0,e}))),this.configured}async getRefNames(e={}){const{vcf:a}=await this.configure();return a.getReferenceSequenceNames(e)}async getHeader(){const{vcf:e}=await this.configure();return e.getHeader()}async getMetadata(){const{parser:e}=await this.configure();return e.getMetadata()}getFeatures(e,a={}){return(0,c.ObservableCreate)((async t=>{const{refName:n,start:r,end:i}=e,{vcf:s,parser:c}=await this.configure();await s.getLines(n,r,i,{lineCallback:(e,a)=>{t.next(new o.A({variant:c.parseLine(e),parser:c,id:`${this.id}-vcf-${a}`}))},...a}),t.complete()}),a.stopToken)}async getSources(){const{parser:e}=await this.configure();return e.samples.map((e=>({name:e})))}freeResources(){}}}}]);
//# sourceMappingURL=6621.9640c3dd.chunk.js.map