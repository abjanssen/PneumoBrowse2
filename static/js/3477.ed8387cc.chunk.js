"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[3477],{63477(e,t,r){r.r(t),r.d(t,{default:()=>h});var n=r(55614),s=r(30128),o=r(17378),c=r(23886),i=r(69566),l=r(44460);const a=(0,s.lazy)(()=>r.e(3040).then(r.bind(r,33040)));function u(e,t,r,n){const s=(n-90)*Math.PI/180;return{x:e+r*Math.cos(s),y:t+r*Math.sin(s)}}function d(e){const t=(0,n.c)(67),{selectedFeatureId:r,region:i,bpPerPx:d,config:h,displayHeight:x,feature:f,semicircle:p,onFeatureClick:b}=e,[g,k]=(0,s.useState)(!1);let y;t[0]!==d||t[1]!==f||t[2]!==i?(y=(0,c.bpSpanPx)(f.get("start"),f.get("end"),i,d),t[0]=d,t[1]=f,t[2]=i,t[3]=y):y=t[3];const[m,$]=y;let j;t[4]!==f?(j=f.id(),t[4]=f,t[5]=j):j=t[5];const C=j,M=r===C;let P,w,_,v,S,F,Q,Z,I,Y,H,T,W,z;if(t[6]!==h||t[7]!==x||t[8]!==f||t[9]!==m||t[10]!==$||t[11]!==M||t[12]!==p){const e=M?"red":(0,o.QZ)(h,"color",{feature:f});let r,n,s;Q=M?"red":"black",t[21]!==h||t[22]!==f?(r=(0,o.QZ)(h,"label",{feature:f}),t[21]=h,t[22]=f,t[23]=r):r=t[23],v=r,t[24]!==h||t[25]!==f?(n=(0,o.QZ)(h,"caption",{feature:f}),t[24]=h,t[25]=f,t[26]=n):n=t[26],P=n,t[27]!==h||t[28]!==f?(s=(0,o.QZ)(h,"thickness",{feature:f})||2,t[27]=h,t[28]=f,t[29]=s):s=t[29],S=s,w=m+($-m)/2;const i=($-m)/2;let l;t[30]!==w||t[31]!==h||t[32]!==x||t[33]!==f||t[34]!==m||t[35]!==i||t[36]!==$||t[37]!==p?(l=p?function(e,t){const r=u(e,0,t,270),n=u(e,0,t,90);return{d:`M ${r.x} ${r.y} A ${t} ${t} 0 0 0 ${n.x} ${n.y}`,textYCoord:t}}(w,i):function(e,t,r,n,s){const c=Math.min((0,o.QZ)(r,"height",{feature:n})||100,s);return{d:`M ${e} 0 C ${e} ${c}, ${t} ${c}, ${t} 0`,textYCoord:.5*c*.75+.375*c}}(m,$,h,f,x),t[30]=w,t[31]=h,t[32]=x,t[33]=f,t[34]=m,t[35]=i,t[36]=$,t[37]=p,t[38]=l):l=t[38],({d:_,textYCoord:Z}=l),F=(0,c.getStrokeProps)(e),t[6]=h,t[7]=x,t[8]=f,t[9]=m,t[10]=$,t[11]=M,t[12]=p,t[13]=P,t[14]=w,t[15]=_,t[16]=v,t[17]=S,t[18]=F,t[19]=Q,t[20]=Z}else P=t[13],w=t[14],_=t[15],v=t[16],S=t[17],F=t[18],Q=t[19],Z=t[20];t[39]===Symbol.for("react.memo_cache_sentinel")?(I={cursor:"pointer"},t[39]=I):I=t[39],t[40]!==C||t[41]!==b?(Y=e=>{b(e,C)},t[40]=C,t[41]=b,t[42]=Y):Y=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{k(!0)},T=()=>{k(!1)},t[43]=H,t[44]=T):(H=t[43],T=t[44]),t[45]!==_||t[46]!==S||t[47]!==F||t[48]!==Y?(W=(0,l.jsx)("path",{...F,d:_,strokeWidth:S,fill:"transparent",style:I,onClick:Y,onMouseOver:H,onMouseLeave:T,pointerEvents:"stroke"}),t[45]=_,t[46]=S,t[47]=F,t[48]=Y,t[49]=W):W=t[49],t[50]!==P||t[51]!==g?(z=g?(0,l.jsx)(s.Suspense,{fallback:null,children:(0,l.jsx)(a,{contents:P})}):null,t[50]=P,t[51]=g,t[52]=z):z=t[52];const A=Z+3;let E;t[53]!==w||t[54]!==v||t[55]!==A?(E=(0,l.jsx)("text",{x:w,y:A,stroke:"white",strokeWidth:"0.6em",children:v}),t[53]=w,t[54]=v,t[55]=A,t[56]=E):E=t[56];const G=Z+3;let L,O;return t[57]!==w||t[58]!==v||t[59]!==G||t[60]!==Q?(L=(0,l.jsx)("text",{x:w,y:G,stroke:Q,children:v}),t[57]=w,t[58]=v,t[59]=G,t[60]=Q,t[61]=L):L=t[61],t[62]!==E||t[63]!==L||t[64]!==W||t[65]!==z?(O=(0,l.jsxs)("g",{children:[W,z,E,L]}),t[62]=E,t[63]=L,t[64]=W,t[65]=z,t[66]=O):O=t[66],O}const h=(0,i.observer)(function({features:e,config:t,regions:r,bpPerPx:n,height:s,exportSVG:c,displayModel:i,onFeatureClick:a}){const u=r[0],h=(u.end-u.start)/n,x="semicircles"===(0,o.QZ)(t,"displayMode"),{selectedFeatureId:f}=i||{},p=[...e.values()].map(e=>(0,l.jsx)(d,{displayHeight:s,config:t,region:u,bpPerPx:n,selectedFeatureId:f,onFeatureClick:a,feature:e,semicircle:x},e.id()));return c?p:(0,l.jsx)("svg",{width:h,height:s,children:p})})}}]);
//# sourceMappingURL=3477.ed8387cc.chunk.js.map