"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[6736],{96736(e,t,s){s.d(t,{executeClusterGenotypeMatrix:()=>p});var a=s(63678),n=s(36028),o=s(21455),r=s(38433),l=s(52901),i=s(96852),c=s(10596),u=s(95067);async function p({pluginManager:e,args:t}){const{renderingMode:s,sampleInfo:p}=t,g="phased"===s&&p?await async function({pluginManager:e,args:t}){const{sources:s,minorAlleleFrequencyFilter:a,regions:n,adapterConfig:o,sessionId:p,lengthCutoffFilter:g,stopToken:f,sampleInfo:d}=t,b=(0,l.jL)(f),h=(await(0,r.cK)(e,p,o)).dataAdapter,w={},k={};for(const{name:e}of s){const t=d[e],s=t?.maxPloidy??2;for(let t=0;t<s;t++)w[`${e} HP${t}`]=[]}const m=(0,u.Cg)({minorAlleleFrequencyFilter:a,lengthCutoffFilter:g,lastCheck:b,splitCache:k,features:await(0,i._)(h.getFeaturesInMultipleRegions(n,t).pipe((0,c.$)()))});for(const{feature:e}of m){const t=e.get("genotypes");for(const{name:e}of s){const s=t[e],a=d[e],n=a?.maxPloidy??2;if(s.includes("|")){const t=k[s]??(k[s]=s.split("|"));for(let s=0;s<n;s++){const a=t[s],n="."===a||void 0===a?-1:+a;w[`${e} HP${s}`].push(n)}}else for(let t=0;t<n;t++)w[`${e} HP${t}`].push(-1)}(0,l.As)(b)}return w}({pluginManager:e,args:{...t,sampleInfo:p}}):await(0,o.v)({pluginManager:e,args:t}),f=Object.keys(g),d=await(0,a.D)({data:Object.values(g),sampleLabels:f,stopToken:t.stopToken,onProgress:t.statusCallback});return{order:d.order,tree:(0,n.B3)(d.tree)}}}}]);
//# sourceMappingURL=6736.27b8989e.chunk.js.map