"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[2820],{12820:(t,e,n)=>{n.r(e),n.d(e,{default:()=>l});var s=n(99834),o=n(7706),i=n(99546),a=n(35904);const c="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;class l extends a.default{async setupPre(t){const e=(0,s.openLocation)(this.getConf("deltaLocation"),this.pluginManager),n=await e.readFile(t);return function(t){let e="",n="",s=0,o=0,i=0,a=0,l=0,h=0,r=[],u=0,f=0,p=!1;const d=[],g=new RegExp(/^>(\S+)\s+(\S+)\s+(\d+)\s+(\d+)/);let w=0,b=0;for(;w<t.length;){const m=t.indexOf("\n",w);if(-1===m)break;const x=t.subarray(w,m),M=(c?.decode(x)||x.toString()).trim();if(w=m+1,b++,M){const t=g.exec(M);if(null!==t){e=t[1],n=t[2],p=!0;continue}if(!p)continue;const c=M.split(" ");if(7===c.length){const t=+c[0],e=+c[1],n=+c[2],p=+c[3],d=+c[4];l=t<e&&n<p||t>e&&n>p?1:-1,i=+Math.min(t,e)-1,a=+Math.max(e,t),s=+Math.min(n,p)-1,o=+Math.max(p,n),u=f=0,h=d,r=[]}else if(1===c.length){const t=+c[0];if(0===t){let t=0;const c=[];if(a-i-u!=o-s-f)throw new Error(`inconsistent alignment on line ${b}`);r.push(a-i-u<<4);for(const e of r){const n=e>>4;t+=n,c.push(n+"MID".charAt(15&r[b]))}d.push({qname:n,qstart:s,qend:o,tname:e,tstart:i,tend:a,strand:l,extra:{numMatches:t-h,blockLen:t,mappingQual:0,NM:h,cg:c.join("")}})}else if(t>0){const e=t-1;u+=e+1,f+=e,e>0&&r.push(e<<4),r.length>0&&2==(15&r[r.length-1])?r[r.length-1]+=16:r.push(18)}else{const e=-t-1;u+=e,f+=e+1,e>0&&r.push(e<<4),r.length>0&&1==(15&r[r.length-1])?r[r.length-1]+=16:r.push(17)}}}}return d}((0,i.isGzip)(n)?await(0,o.unzip)(n):n)}}}}]);
//# sourceMappingURL=2820.a8b83aeb.chunk.js.map