{"version":3,"file":"static/js/2968.4d90773a.chunk.js","mappings":"iRAWA,MAAMA,GAAYC,EAAAA,EAAAA,KAAAA,EAAaC,IAAS,CACtCC,MAAO,CACLC,SAAU,OACVC,SAAU,KAEZC,YAAa,CACXC,SAAU,WACVC,MAAON,EAAMO,QAAQ,GACrBC,IAAKR,EAAMO,QAAQ,GACnBE,MAAOT,EAAMU,QAAQC,KAAK,UAIxBC,GAAeC,EAAAA,EAAAA,WAAS,UAAsB,QAClDC,EAAO,QACPC,IAKA,MAAM,QAAEC,GAAYlB,KACd,cAAEmB,GAAkBH,GACpB,cAAEI,IAAkBC,EAAAA,EAAAA,QAAOL,GAEjC,IAAKG,EACH,OAAO,KAET,MAAM,iBAAEG,EAAgB,QAAEC,GAAYH,EAAcI,cAClDL,EAAcM,MAGhB,OACEC,EAAAA,cAACC,EAAAA,EAAM,CAACpB,SAAS,UACfmB,EAAAA,cAACE,EAAAA,EAAO,KACLN,EACCI,EAAAA,cAACJ,EAAgB,CAACO,MAAOV,IAEzBO,EAAAA,cAACI,EAAAA,EAAU,CAACC,QAAQ,MAAMR,IAG9BG,EAAAA,cAACM,EAAAA,EAAU,CAACC,UAAWf,EAAQZ,YAAa4B,QAASjB,GACnDS,EAAAA,cAACS,EAAAA,EAAS,OAIlB,IAmDA,GAjDoBpB,EAAAA,EAAAA,WAAS,UAAU,QACrCC,EAAO,QACPC,IAKA,MAAM,QAAEC,GAAYlB,KACd,cAAEmB,GAAkBH,GACpB,cAAEI,IAAkBC,EAAAA,EAAAA,QAAOL,GAEjC,IAAKG,EACH,OAAO,KAET,MAAM,eAAEiB,GAAmBhB,EAAcI,cAAcL,EAAcM,MAC/DY,EAAYjB,EAAckB,uBAC9B,qBACAF,EACA,CACEpB,UACAa,MAAOV,IAGX,OACEO,EAAAA,cAACa,EAAAA,OAAM,CACLC,MAAI,EACJvB,QAASA,EACTwB,SAAS,KACTC,OAAQhB,EAAAA,cAACZ,EAAY,CAACG,QAASA,EAASD,QAASA,KAEhDqB,EACCX,EAAAA,cAACiB,EAAAA,SAAQ,CAACC,SAAUlB,EAAAA,cAAA,WAAK,eACvBA,EAAAA,cAACmB,EAAAA,EAAK,CAACZ,UAAWf,EAAQf,OACxBuB,EAAAA,cAACW,EAAS,CACRR,MAAOV,EACPH,QAASA,EACT8B,OAAO,EACPC,mBAAoB,CAClBC,OAA8B,EAArBC,OAAOC,YAAmB,EACnCC,MAAO,SAKb,KAGV,G","sources":["../../../packages/app-core/src/ui/App/ModalWidget.tsx"],"sourcesContent":["import React, { Suspense } from 'react'\nimport { AppBar, IconButton, Paper, Toolbar, Typography } from '@mui/material'\nimport { Dialog } from '@jbrowse/core/ui'\nimport { makeStyles } from 'tss-react/mui'\nimport { observer } from 'mobx-react'\nimport { getEnv } from 'mobx-state-tree'\nimport { SessionWithWidgets } from '@jbrowse/core/util'\n\n// icons\nimport CloseIcon from '@mui/icons-material/Close'\n\nconst useStyles = makeStyles()(theme => ({\n  paper: {\n    overflow: 'auto',\n    minWidth: 800,\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n}))\n\nconst DrawerAppBar = observer(function DrawerAppBar({\n  session,\n  onClose,\n}: {\n  session: SessionWithWidgets\n  onClose: () => void\n}) {\n  const { classes } = useStyles()\n  const { visibleWidget } = session\n  const { pluginManager } = getEnv(session)\n\n  if (!visibleWidget) {\n    return null\n  }\n  const { HeadingComponent, heading } = pluginManager.getWidgetType(\n    visibleWidget.type,\n  )\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        {HeadingComponent ? (\n          <HeadingComponent model={visibleWidget} />\n        ) : (\n          <Typography variant=\"h6\">{heading}</Typography>\n        )}\n      </Toolbar>\n      <IconButton className={classes.closeButton} onClick={onClose}>\n        <CloseIcon />\n      </IconButton>\n    </AppBar>\n  )\n})\n\nconst ModalWidget = observer(function ({\n  session,\n  onClose,\n}: {\n  session: SessionWithWidgets\n  onClose: () => void\n}) {\n  const { classes } = useStyles()\n  const { visibleWidget } = session\n  const { pluginManager } = getEnv(session)\n\n  if (!visibleWidget) {\n    return null\n  }\n  const { ReactComponent } = pluginManager.getWidgetType(visibleWidget.type)\n  const Component = pluginManager.evaluateExtensionPoint(\n    'Core-replaceWidget',\n    ReactComponent,\n    {\n      session,\n      model: visibleWidget,\n    },\n  ) as React.FC<any> | undefined\n  return (\n    <Dialog\n      open\n      onClose={onClose}\n      maxWidth=\"xl\"\n      header={<DrawerAppBar onClose={onClose} session={session} />}\n    >\n      {Component ? (\n        <Suspense fallback={<div>Loading...</div>}>\n          <Paper className={classes.paper}>\n            <Component\n              model={visibleWidget}\n              session={session}\n              modal={true}\n              overrideDimensions={{\n                height: (window.innerHeight * 5) / 8,\n                width: 800,\n              }}\n            />\n          </Paper>\n        </Suspense>\n      ) : null}\n    </Dialog>\n  )\n})\n\nexport default ModalWidget\n"],"names":["useStyles","makeStyles","theme","paper","overflow","minWidth","closeButton","position","right","spacing","top","color","palette","grey","DrawerAppBar","observer","session","onClose","classes","visibleWidget","pluginManager","getEnv","HeadingComponent","heading","getWidgetType","type","React","AppBar","Toolbar","model","Typography","variant","IconButton","className","onClick","CloseIcon","ReactComponent","Component","evaluateExtensionPoint","Dialog","open","maxWidth","header","Suspense","fallback","Paper","modal","overrideDimensions","height","window","innerHeight","width"],"sourceRoot":""}