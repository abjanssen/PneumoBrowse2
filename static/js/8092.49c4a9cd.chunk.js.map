{"version":3,"file":"static/js/8092.49c4a9cd.chunk.js","mappings":"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","sources":["../../../plugins/breakpoint-split-view/src/BreakpointSplitView/components/BreakpointSplitViewOverlay.tsx","../../../plugins/breakpoint-split-view/src/BreakpointSplitView/components/HeaderSearchBoxes.tsx","../../../plugins/breakpoint-split-view/src/BreakpointSplitView/components/Header.tsx","../../../plugins/breakpoint-split-view/src/BreakpointSplitView/components/BreakpointSplitView.tsx"],"sourcesContent":["import { useRef } from 'react'\n\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport Overlay from './Overlay'\n\nimport type { BreakpointViewModel } from '../model'\n\nconst useStyles = makeStyles()({\n  overlay: {\n    display: 'flex',\n    width: '100%',\n    gridArea: '1/1',\n    '& path': {\n      cursor: 'crosshair',\n      fill: 'none',\n    },\n  },\n  base: {\n    // we set pointerEvents:none here but individual overlays can add\n    // pointerEvents:'auto' to retoggle it back on for a single e.g. svg line\n    pointerEvents: 'none',\n    width: '100%',\n    zIndex: 100,\n  },\n})\n\nconst BreakpointSplitViewOverlay = observer(function ({\n  model,\n}: {\n  model: BreakpointViewModel\n}) {\n  const { classes } = useStyles()\n  const { matchedTracks } = model\n  const ref = useRef(null)\n  return (\n    <div className={classes.overlay}>\n      <svg ref={ref} className={classes.base}>\n        {matchedTracks.map(track => (\n          // note: we must pass ref down, because:\n          //\n          // 1. the child component needs to getBoundingClientRect on the this\n          // components SVG, and...\n          //\n          // 2. we cannot rely on using getBoundingClientRect in this component\n          // to make sure this works because if it gets shifted around by\n          // another element, this will not re-render necessarily\n          <Overlay\n            parentRef={ref}\n            key={track.configuration.trackId}\n            model={model}\n            trackId={track.configuration.trackId}\n          />\n        ))}\n      </svg>\n    </div>\n  )\n})\n\nexport default BreakpointSplitViewOverlay\n","import { getBpDisplayStr } from '@jbrowse/core/util'\nimport { SearchBox } from '@jbrowse/plugin-linear-genome-view'\nimport { Typography } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\nconst useStyles = makeStyles()(() => ({\n  bp: {\n    display: 'flex',\n    alignItems: 'center',\n    marginLeft: 10,\n  },\n  searchBox: {\n    display: 'flex',\n  },\n}))\n\nconst HeaderSearchBoxes = observer(function ({\n  view,\n}: {\n  view: LinearGenomeViewModel\n}) {\n  const { classes } = useStyles()\n  const { assemblyDisplayNames, coarseTotalBp } = view\n  return (\n    <span className={classes.searchBox}>\n      <SearchBox model={view} showHelp={false} />\n      <Typography variant=\"body2\" color=\"textSecondary\" className={classes.bp}>\n        {assemblyDisplayNames.join(',')} {getBpDisplayStr(coarseTotalBp)}\n      </Typography>\n    </span>\n  )\n})\n\nexport default HeaderSearchBoxes\n","import { useState } from 'react'\n\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport MoreVertIcon from '@mui/icons-material/MoreVert'\nimport SearchIcon from '@mui/icons-material/Search'\nimport { FormGroup } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport HeaderSearchBoxes from './HeaderSearchBoxes'\n\nimport type { BreakpointViewModel } from '../model'\n\nconst useStyles = makeStyles()({\n  inline: {\n    display: 'inline-flex',\n  },\n})\n\nconst Header = observer(function ({ model }: { model: BreakpointViewModel }) {\n  const { classes } = useStyles()\n  const { views } = model\n  const [showSearchBoxes, setShowSearchBoxes] = useState(views.length <= 3)\n  const [sideBySide, setSideBySide] = useState(views.length <= 3)\n  return (\n    <FormGroup row>\n      <CascadingMenuButton menuItems={model.menuItems()}>\n        <MoreVertIcon />\n      </CascadingMenuButton>\n      <CascadingMenuButton\n        menuItems={[\n          {\n            label: 'Show search boxes',\n            type: 'checkbox',\n            checked: showSearchBoxes,\n            onClick: () => {\n              setShowSearchBoxes(!showSearchBoxes)\n            },\n          },\n\n          {\n            label: 'Orientation - Side-by-side',\n            type: 'radio',\n            checked: sideBySide,\n            onClick: () => {\n              setSideBySide(!sideBySide)\n            },\n          },\n          {\n            label: 'Orientation - Vertical',\n            type: 'radio',\n            checked: !sideBySide,\n            onClick: () => {\n              setSideBySide(!sideBySide)\n            },\n          },\n        ]}\n      >\n        <SearchIcon />\n      </CascadingMenuButton>\n\n      {showSearchBoxes ? (\n        <span className={sideBySide ? classes.inline : undefined}>\n          {views.map(view => (\n            <HeaderSearchBoxes key={view.id} view={view} />\n          ))}\n        </span>\n      ) : null}\n    </FormGroup>\n  )\n})\nexport default Header\n","import { getEnv } from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport BreakpointSplitViewOverlay from './BreakpointSplitViewOverlay'\nimport Header from './Header'\n\nimport type { BreakpointViewModel } from '../model'\n\nconst useStyles = makeStyles()(theme => ({\n  viewDivider: {\n    background: theme.palette.secondary.main,\n    height: 3,\n  },\n  container: {\n    display: 'grid',\n  },\n  content: {\n    gridArea: '1/1',\n  },\n  rel: {\n    position: 'relative',\n  },\n}))\n\nconst BreakpointSplitViewLevels = observer(function ({\n  model,\n}: {\n  model: BreakpointViewModel\n}) {\n  const { classes } = useStyles()\n  const { views } = model\n  const { pluginManager } = getEnv(model)\n  return (\n    <div className={classes.content}>\n      <div className={classes.rel}>\n        {views.map((view, idx) => {\n          const { ReactComponent } = pluginManager.getViewType(view.type)!\n          const viewComponent = <ReactComponent key={view.id} model={view} />\n          return idx === views.length - 1\n            ? viewComponent\n            : [\n                viewComponent,\n                <div\n                  key={`${view.id}-divider`}\n                  className={classes.viewDivider}\n                />,\n              ]\n        })}\n      </div>\n    </div>\n  )\n})\n\nconst BreakpointSplitView = observer(function ({\n  model,\n}: {\n  model: BreakpointViewModel\n}) {\n  const { classes } = useStyles()\n  return (\n    <div>\n      {model.showHeader ? <Header model={model} /> : null}\n      <div className={classes.container}>\n        <BreakpointSplitViewLevels model={model} />\n        <BreakpointSplitViewOverlay model={model} />\n      </div>\n    </div>\n  )\n})\n\nexport default BreakpointSplitView\n"],"names":["useStyles","makeStyles","overlay","display","width","gridArea","cursor","fill","base","pointerEvents","zIndex","observer","model","classes","matchedTracks","ref","useRef","_jsx","className","children","map","track","Overlay","parentRef","trackId","configuration","bp","alignItems","marginLeft","searchBox","view","assemblyDisplayNames","coarseTotalBp","_jsxs","SearchBox","showHelp","Typography","variant","color","join","getBpDisplayStr","inline","views","showSearchBoxes","setShowSearchBoxes","useState","length","sideBySide","setSideBySide","FormGroup","row","CascadingMenuButton","menuItems","MoreVertIcon","label","type","checked","onClick","SearchIcon","undefined","HeaderSearchBoxes","id","theme","viewDivider","background","palette","secondary","main","height","container","content","rel","position","BreakpointSplitViewLevels","pluginManager","getEnv","idx","ReactComponent","getViewType","viewComponent","showHeader","Header","BreakpointSplitViewOverlay"],"sourceRoot":""}