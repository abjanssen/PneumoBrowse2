"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[6551,8187],{86551(e,t,n){n.r(t),n.d(t,{default:()=>p});var o=n(55614),s=n(28508),a=n(54825),r=n(51691),i=n(56483),c=n(58705),l=n(46625),d=n(44460);const u=(0,l.n)()(e=>({expansionPanelDetails:{display:"block",padding:e.spacing(1)},icon:{color:e.palette.tertiary.contrastText||"#fff"}}));function p(e){const t=(0,o.c)(14),{children:n,title:l,defaultExpanded:p}=e,f=void 0===p||p,{classes:m}=u();let x,g,A,b,h;return t[0]!==m.icon?(x=(0,d.jsx)(s.A,{className:m.icon}),t[0]=m.icon,t[1]=x):x=t[1],t[2]!==l?(g=(0,d.jsx)(a.A,{variant:"button",children:l}),t[2]=l,t[3]=g):g=t[3],t[4]!==x||t[5]!==g?(A=(0,d.jsx)(r.A,{expandIcon:x,children:g}),t[4]=x,t[5]=g,t[6]=A):A=t[6],t[7]!==n||t[8]!==m.expansionPanelDetails?(b=(0,d.jsx)(i.A,{className:m.expansionPanelDetails,children:n}),t[7]=n,t[8]=m.expansionPanelDetails,t[9]=b):b=t[9],t[10]!==f||t[11]!==A||t[12]!==b?(h=(0,d.jsxs)(c.A,{defaultExpanded:f,children:[A,b]}),t[10]=f,t[11]=A,t[12]=b,t[13]=h):h=t[13],h}},88187(e,t,n){n.r(t),n.d(t,{default:()=>k});var o=n(55614),s=n(28910),a=n(23886),r=n(19608),i=n(30128),c=n(16569),l=n(86551),d=n(17378),u=n(46625),p=n(10533),f=n(69566),m=n(62088),x=n(51049);function g(e,t){for(const n in e)n===t?delete e[n]:"object"==typeof e[n]&&g(e[n],t);return e}function A(e,t){if((0,p.isStateTreeNode)(e))return t?(0,d.QZ)(e,t):(0,p.getSnapshot)(e);if(!t)return e;if("string"==typeof t)return e[t];let n=e;for(const e of t)n=n?.[e];return n}var b=n(44460);function h(e){const t=(0,o.c)(13),{config:n,session:s}=e,[a,r]=(0,i.useState)(),[d,u]=(0,i.useState)(),{rpcManager:p}=s;let f;t[0]!==n?(f=A(n,"trackId"),t[0]=n,t[1]=f):f=t[1];const g=f;let h,y,j;t[2]!==n||t[3]!==p||t[4]!==g?(h=()=>{(async()=>{try{const e=A(n,"adapter"),t=await p.call(g,"CoreGetInfo",{adapterConfig:e});u(t)}catch(e){const t=e;console.error(t),r(t)}})()},y=[n,p,g],t[2]=n,t[3]=p,t[4]=g,t[5]=h,t[6]=y):(h=t[5],y=t[6]),(0,i.useEffect)(h,y),t[7]!==d?(j="string"==typeof d?{header:`<pre>${d.replaceAll("<","&lt;").replaceAll(">","&gt;")}</pre>`}:d||{},t[7]=d,t[8]=j):j=t[8];const v=j;let C;return t[9]!==v||t[10]!==a||t[11]!==d?(C=(0,b.jsx)(l.default,{title:"File info",children:a?(0,b.jsx)(m.A,{error:a}):void 0===d?(0,b.jsx)(x.A,{message:"Loading file data"}):(0,b.jsx)(c.default,{attributes:v})}),t[9]=v,t[10]=a,t[11]=d,t[12]=C):C=t[12],C}var y=n(35703);const j=(0,u.n)()({button:{float:"right"}}),v=function({conf:e,setShowRefNames:t}){const[o,s]=(0,i.useState)(!1),{classes:a}=j();return(0,b.jsxs)("span",{className:a.button,children:[(0,b.jsx)(y.A,{variant:"contained",color:"secondary",onClick:()=>{t(!0)},children:"Show ref names"}),(0,b.jsx)(y.A,{variant:"contained",onClick:async()=>{const{default:t}=await n.e(2899).then(n.t.bind(n,72899,23)),o=g(structuredClone(e),"baseUri");t(JSON.stringify(o,null,2)),s(!0),setTimeout(()=>{s(!1)},1e3)},children:o?"Copied to clipboard!":"Copy config"})]})};var C=n(63209);const w=(0,u.n)()(e=>({container:{minWidth:800},refNames:{maxHeight:300,overflow:"auto",flexGrow:1,background:e.palette.background.default}})),N=(0,f.observer)(function({config:e,session:t,onClose:o}){const{classes:a}=w(),[r,c]=(0,i.useState)(),[l,d]=(0,i.useState)(),[u,p]=(0,i.useState)(!1),{rpcManager:f}=t,g=A(e,"trackId"),h=A(e,"assemblyNames");(0,i.useEffect)(()=>{(async()=>{try{const t=await Promise.all([...new Set(h)].map(async t=>{const n=A(e,"adapter");return[t,await f.call(g,"CoreGetRefNames",{adapterConfig:n,regions:[{assemblyName:t}]})]}));d(Object.fromEntries(t))}catch(e){console.error(e),c(e)}})()},[e,f,g,h]);const j=l?Object.entries(l):[],v=j.flatMap(([e,t])=>[`--- ${e} ---`,...t.slice(0,1e4),t.length>1e4?`\nToo many refNames to show in browser for ${e}, use "Copy ref names" button to copy to clipboard`:""]).filter(e=>!!e).join("\n");return(0,b.jsx)(s.A,{open:!0,title:"Reference sequence names used in track",onClose:o,maxWidth:"xl",children:(0,b.jsx)(C.A,{className:a.container,children:r?(0,b.jsx)(m.A,{error:r}):void 0===l?(0,b.jsx)(x.A,{message:"Loading refNames"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.A,{variant:"contained",onClick:async()=>{const{default:e}=await n.e(2899).then(n.t.bind(n,72899,23));e(j.flatMap(([e,t])=>[`--- ${e} ---`,...t]).filter(e=>!!e).join("\n")),p(!0),setTimeout(()=>{p(!1)},1e3)},children:u?"Copied to clipboard!":"Copy ref names"}),(0,b.jsx)("pre",{className:a.refNames,children:v})]})})})}),S=(0,u.n)()({content:{minWidth:800}}),M=(0,f.observer)(function({config:e,session:t}){const n=(0,p.isStateTreeNode)(e)?(0,p.getSnapshot)(e):e,{classes:o}=S(),[s,r]=(0,i.useState)(!1),u=(0,d.FI)(t,["formatAbout","hideUris"])||A(e,["formatAbout","hideUris"]),{pluginManager:f}=(0,a.getEnv)(t),m=function({config:e,session:t,pluginManager:n}){const o=(0,p.isStateTreeNode)(e)?(0,d.QZ)(e):e,s=A(e,["formatAbout","config"])||{};return n.evaluateExtensionPoint("Core-customizeAbout",{config:{...o,...(0,d.FI)(t,["formatAbout","config"],{config:o}),...s}},{session:t,config:e})}({config:e,session:t,pluginManager:f}),x=f.evaluateExtensionPoint("Core-extraAboutPanel",null,{session:t,config:e}),g=["displays","baseUri","refNames","formatAbout"];return(0,b.jsxs)("div",{className:o.content,children:[(0,b.jsxs)(l.default,{title:"Configuration",children:[u?null:(0,b.jsx)(v,{conf:n,setShowRefNames:r}),(0,b.jsx)(c.default,{attributes:m.config,omit:[...g,"metadata"],hideUris:u})]}),m.config.metadata?(0,b.jsx)(l.default,{title:"Metadata",children:(0,b.jsx)(c.default,{attributes:m.config.metadata,omit:g,hideUris:u})}):null,x?(0,b.jsx)(l.default,{title:x.name,children:(0,b.jsx)(x.Component,{config:e})}):null,(0,b.jsx)(h,{config:e,session:t}),s?(0,b.jsx)(N,{session:t,config:e,onClose:()=>{r(!1)}}):null]})});function k(e){const t=(0,o.c)(14),{config:n,session:i,handleClose:c}=e;let l;t[0]!==n||t[1]!==i?(l=(0,r.getTrackName)(n,i),t[0]=n,t[1]=i,t[2]=l):l=t[2];const d=l;let u;if(t[3]!==n||t[4]!==i){const{pluginManager:e}=(0,a.getEnv)(i);u=e.evaluateExtensionPoint("Core-replaceAbout",M,{session:i,config:n}),t[3]=n,t[4]=i,t[5]=u}else u=t[5];const p=u;let f,m;return t[6]!==p||t[7]!==n||t[8]!==i?(f=(0,b.jsx)(p,{config:n,session:i}),t[6]=p,t[7]=n,t[8]=i,t[9]=f):f=t[9],t[10]!==c||t[11]!==f||t[12]!==d?(m=(0,b.jsx)(s.A,{open:!0,onClose:c,title:d,maxWidth:"xl",children:f}),t[10]=c,t[11]=f,t[12]=d,t[13]=m):m=t[13],m}},28508(e,t,n){n.d(t,{A:()=>a});var o=n(91383),s=n(44460);const a=(0,o.A)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},56483(e,t,n){n.d(t,{A:()=>p});var o=n(30128),s=n(21227),a=n(74533),r=n(80638),i=n(39104),c=n(45639),l=n(73847),d=n(44460);const u=(0,r.Ay)("div",{name:"MuiAccordionDetails",slot:"Root"})((0,i.A)(({theme:e})=>({padding:e.spacing(1,2,2)}))),p=o.forwardRef(function(e,t){const n=(0,c.b)({props:e,name:"MuiAccordionDetails"}),{className:o,...r}=n,i=n,p=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},l.n,t)})(i);return(0,d.jsx)(u,{className:(0,s.A)(p.root,o),ref:t,ownerState:i,...r})})},73847(e,t,n){n.d(t,{A:()=>r,n:()=>a});var o=n(26743),s=n(2395);function a(e){return(0,s.Ay)("MuiAccordionDetails",e)}const r=(0,o.A)("MuiAccordionDetails",["root"])},51691(e,t,n){n.d(t,{A:()=>A});var o=n(30128),s=n(21227),a=n(74533),r=n(80638),i=n(39104),c=n(45639),l=n(51164),d=n(17786),u=n(63180),p=n(30787),f=n(44460);const m=(0,r.Ay)(l.A,{name:"MuiAccordionSummary",slot:"Root"})((0,i.A)(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${u.A.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${u.A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${u.A.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${u.A.expanded}`]:{minHeight:64}}}]}})),x=(0,r.Ay)("span",{name:"MuiAccordionSummary",slot:"Content"})((0,i.A)(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${u.A.expanded}`]:{margin:"20px 0"}}}]}))),g=(0,r.Ay)("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})((0,i.A)(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${u.A.expanded}`]:{transform:"rotate(180deg)"}}))),A=o.forwardRef(function(e,t){const n=(0,c.b)({props:e,name:"MuiAccordionSummary"}),{children:r,className:i,expandIcon:l,focusVisibleClassName:A,onClick:b,slots:h,slotProps:y,...j}=n,{disabled:v=!1,disableGutters:C,expanded:w,toggle:N}=o.useContext(d.A),S={...n,expanded:w,disabled:v,disableGutters:C},M=(e=>{const{classes:t,expanded:n,disabled:o,disableGutters:s}=e,r={root:["root",n&&"expanded",o&&"disabled",!s&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!s&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,a.A)(r,u.T,t)})(S),k={slots:h,slotProps:y},[P,T]=(0,p.A)("root",{ref:t,shouldForwardComponentProp:!0,className:(0,s.A)(M.root,i),elementType:m,externalForwardedProps:{...k,...j},ownerState:S,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:v,"aria-expanded":w,focusVisibleClassName:(0,s.A)(M.focusVisible,A)},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),(e=>{N&&N(e),b&&b(e)})(t)}})}),[I,E]=(0,p.A)("content",{className:M.content,elementType:x,externalForwardedProps:k,ownerState:S}),[G,R]=(0,p.A)("expandIconWrapper",{className:M.expandIconWrapper,elementType:g,externalForwardedProps:k,ownerState:S});return(0,f.jsxs)(P,{...T,children:[(0,f.jsx)(I,{...E,children:r}),l&&(0,f.jsx)(G,{...R,children:l})]})})},63180(e,t,n){n.d(t,{A:()=>r,T:()=>a});var o=n(26743),s=n(2395);function a(e){return(0,s.Ay)("MuiAccordionSummary",e)}const r=(0,o.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"])}}]);
//# sourceMappingURL=8187.0dc8b52a.chunk.js.map