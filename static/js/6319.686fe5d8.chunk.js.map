{"version":3,"file":"static/js/6319.686fe5d8.chunk.js","mappings":"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KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,KAAO,WAAW,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","sources":["../webpack/runtime/chunk loaded","../webpack/runtime/create fake namespace object","../webpack/runtime/startup chunk dependencies","../../../packages/product-core/src/Session/BaseSession.ts","workerPolyfill.js","../../../packages/core/src/PluginLoader.ts","rpcWorker.ts","../../../packages/product-core/src/rpcWorker.ts","../../../plugins/data-management/src/index.ts","../../../packages/core/src/ui/Icons.tsx","../../../packages/product-core/src/Session/MultipleViews.ts","../../../packages/core/src/util/index.ts","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/runtimeId","../webpack/runtime/publicPath","../webpack/runtime/css loading","../webpack/runtime/importScripts chunk loading","../webpack/runtime/nonce","../webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn Promise.all([9992,4540,1941].map(__webpack_require__.e, __webpack_require__)).then(next);\n};","import { ElementId } from '@jbrowse/core/util/types/mst'\nimport { getParent, isStateTreeNode, types } from '@jbrowse/mobx-state-tree'\n\nimport type { BaseRootModelType } from '../RootModel/BaseRootModel.ts'\nimport type PluginManager from '@jbrowse/core/PluginManager'\nimport type { BaseAssemblyConfigSchema } from '@jbrowse/core/assemblyManager'\nimport type { AnyConfigurationSchemaType } from '@jbrowse/core/configuration'\nimport type { IAnyStateTreeNode, Instance } from '@jbrowse/mobx-state-tree'\n\n/**\n * #stateModel BaseSessionModel\n *\n * base session shared by all JBrowse products. Be careful what you include\n * here, everything will use it.\n */\nexport function BaseSessionModel<\n  ROOT_MODEL_TYPE extends BaseRootModelType,\n  JB_CONFIG_SCHEMA extends AnyConfigurationSchemaType,\n>(_pluginManager: PluginManager) {\n  return types\n    .model({\n      /**\n       * #property\n       */\n      id: ElementId,\n      /**\n       * #property\n       */\n      name: types.string,\n      /**\n       * #property\n       */\n      margin: 0,\n    })\n    .volatile(() => ({\n      /**\n       * #volatile\n       * this is the globally \"selected\" object. can be anything. code that\n       * wants to deal with this should examine it to see what kind of thing it\n       * is.\n       */\n      selection: undefined as unknown,\n      /**\n       * #volatile\n       * this is the globally \"hovered\" object. can be anything. code that\n       * wants to deal with this should examine it to see what kind of thing it\n       * is.\n       */\n      hovered: undefined as unknown,\n    }))\n    .views(self => ({\n      /**\n       * #getter\n       */\n      get root() {\n        return getParent<ROOT_MODEL_TYPE>(self)\n      },\n    }))\n    .views(self => ({\n      /**\n       * #getter\n       */\n      get jbrowse() {\n        return self.root.jbrowse\n      },\n      /**\n       * #getter\n       */\n      get rpcManager() {\n        return self.root.rpcManager\n      },\n      /**\n       * #getter\n       */\n      get configuration(): Instance<JB_CONFIG_SCHEMA> {\n        return this.jbrowse.configuration\n      },\n      /**\n       * #getter\n       */\n      get adminMode() {\n        return self.root.adminMode\n      },\n\n      /**\n       * #getter\n       */\n      get textSearchManager() {\n        return self.root.textSearchManager\n      },\n    }))\n    .views(self => ({\n      /**\n       * #getter\n       */\n      get assemblies(): Instance<BaseAssemblyConfigSchema>[] {\n        return self.jbrowse.assemblies\n      },\n    }))\n    .actions(self => ({\n      /**\n       * #action\n       * set the global selection, i.e. the globally-selected object. can be a\n       * feature, a view, just about anything\n       */\n      setSelection(thing: unknown) {\n        self.selection = thing\n      },\n\n      /**\n       * #action\n       * clears the global selection\n       */\n      clearSelection() {\n        self.selection = undefined\n      },\n      /**\n       * #action\n       */\n      setHovered(thing: unknown) {\n        self.hovered = thing\n      },\n    }))\n    .postProcessSnapshot(snap => {\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!snap) {\n        return snap\n      }\n      const { margin, ...rest } = snap as Omit<typeof snap, symbol>\n      return {\n        ...rest,\n        ...(margin ? { margin } : {}),\n      } as typeof snap\n    })\n}\n\n/** Session mixin MST type for the most basic session */\nexport type BaseSessionType = ReturnType<typeof BaseSessionModel>\n\n/** Instance of the most basic possible session */\nexport type BaseSession = Instance<BaseSessionType>\n\n/** Type guard for BaseSession */\nexport function isBaseSession(thing: IAnyStateTreeNode): thing is BaseSession {\n  return 'id' in thing && 'name' in thing && 'root' in thing\n}\n\n/** Type guard for whether a thing is JBrowse session */\nexport function isSession(thing: unknown): thing is BaseSession {\n  return isStateTreeNode(thing) && isBaseSession(thing)\n}\n","// this is a little polyfill for running in workers that\n// contains just enough stubbing to make webpack style-loader\n// think that it is actually inserting styles into the DOM\n\nself.window = {\n  addEventListener() {},\n  fetch: self.fetch.bind(self),\n  location: self.location,\n  Date: self.Date,\n  removeEventListener() {},\n  requestIdleCallback: cb => {\n    cb()\n  },\n  cancelIdleCallback: () => {},\n  requestAnimationFrame: cb => {\n    cb()\n  },\n  cancelAnimationFrame: () => {},\n  navigator: {},\n}\nself.document = {\n  createTextNode() {},\n  addEventListener() {},\n  querySelector() {\n    return { appendChild() {} }\n  },\n  documentElement: {},\n  querySelectorAll: () => [],\n  createElement() {\n    return {\n      style: {},\n      setAttribute() {},\n      removeAttribute() {},\n      appendChild() {},\n    }\n  },\n}\n","import Plugin from './Plugin.ts'\nimport ReExports from './ReExports/index.ts'\nimport { isElectron } from './util/index.ts'\n\nimport type { PluginConstructor } from './Plugin.ts'\n\nexport interface UMDLocPluginDefinition {\n  umdLoc: {\n    uri: string\n    baseUri?: string\n  }\n  name: string\n}\n\nexport interface UMDUrlPluginDefinition {\n  umdUrl: string\n  name: string\n}\n\nexport interface LegacyUMDPluginDefinition {\n  url: string\n  name: string\n}\n\ntype UMDPluginDefinition = UMDLocPluginDefinition | UMDUrlPluginDefinition\n\nexport function isUMDPluginDefinition(\n  def: PluginDefinition,\n): def is UMDPluginDefinition | LegacyUMDPluginDefinition {\n  return (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    ((def as UMDUrlPluginDefinition).umdUrl !== undefined ||\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      (def as LegacyUMDPluginDefinition).url !== undefined ||\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      (def as UMDLocPluginDefinition).umdLoc !== undefined) &&\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    (def as LegacyUMDPluginDefinition | UMDPluginDefinition).name !== undefined\n  )\n}\n\nexport interface ESMLocPluginDefinition {\n  esmLoc: {\n    uri: string\n    baseUri?: string\n  }\n}\nexport interface ESMUrlPluginDefinition {\n  esmUrl: string\n}\n\nexport type ESMPluginDefinition =\n  | ESMLocPluginDefinition\n  | ESMUrlPluginDefinition\n\nexport function isESMPluginDefinition(\n  def: PluginDefinition,\n): def is ESMPluginDefinition {\n  return (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    (def as ESMUrlPluginDefinition).esmUrl !== undefined ||\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    (def as ESMLocPluginDefinition).esmLoc !== undefined\n  )\n}\n\nexport interface CJSPluginDefinition {\n  cjsUrl: string\n}\n\nfunction promisifiedLoadScript(src: string) {\n  return new Promise<string>((resolve, reject) => {\n    const script = document.createElement('script')\n    script.type = 'text/javascript'\n    script.async = true\n    script.src = src\n    script.onload = () => {\n      resolve(script.src)\n    }\n    script.onerror = () => {\n      reject(new Error(`Failed to load script: ${src}`))\n    }\n    document.head.append(script)\n  })\n}\n\nasync function loadScript(scriptUrl: string) {\n  if (!isInWebWorker()) {\n    return promisifiedLoadScript(scriptUrl)\n  }\n\n  // @ts-expect-error\n  if (globalThis.importScripts) {\n    // @ts-expect-error\n    await globalThis.importScripts(scriptUrl)\n    return\n  }\n  throw new Error(\n    'cannot figure out how to load external JS scripts in this environment',\n  )\n}\n\nexport function isCJSPluginDefinition(\n  def: PluginDefinition,\n): def is CJSPluginDefinition {\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  return (def as CJSPluginDefinition).cjsUrl !== undefined\n}\n\nexport type PluginDefinition =\n  | UMDUrlPluginDefinition\n  | UMDLocPluginDefinition\n  | LegacyUMDPluginDefinition\n  | ESMLocPluginDefinition\n  | ESMUrlPluginDefinition\n  | CJSPluginDefinition\n\nexport interface PluginRecord {\n  plugin: PluginConstructor\n  definition: PluginDefinition\n}\n\nexport interface LoadedPlugin {\n  default: PluginConstructor\n}\n\nexport function pluginDescriptionString(d: PluginDefinition) {\n  if (isUMDPluginDefinition(d)) {\n    return `UMD plugin ${d.name}`\n  } else if (isESMPluginDefinition(d)) {\n    return `ESM plugin ${\n      (d as ESMUrlPluginDefinition).esmUrl ||\n      (d as ESMLocPluginDefinition).esmLoc.uri\n    }`\n  } else if (isCJSPluginDefinition(d)) {\n    return `CJS plugin ${d.cjsUrl}`\n  } else {\n    return 'unknown plugin'\n  }\n}\nexport function pluginUrl(d: PluginDefinition) {\n  if (isUMDPluginDefinition(d)) {\n    // @ts-expect-error\n    return d.url ?? d.umdLoc?.uri ?? d.umdUrl\n  } else if (isESMPluginDefinition(d)) {\n    // @ts-expect-error\n    return d.esmUrl ?? d.esmUri ?? d.esmLoc?.uri\n  } else if (isCJSPluginDefinition(d)) {\n    // @ts-expect-error\n    return d.cjsUrl || d.cjsLoc.uri\n  } else {\n    return 'unknown url'\n  }\n}\n\nfunction isInWebWorker() {\n  return 'WorkerGlobalScope' in globalThis\n}\n\nfunction addCacheBuster(url: string) {\n  // @ts-expect-error\n  if (!globalThis.__jbrowseCacheBuster) {\n    return url\n  }\n  const u = new URL(url)\n  u.searchParams.set('_cb', Date.now().toString())\n  return u.href\n}\n\nexport default class PluginLoader {\n  definitions: PluginDefinition[] = []\n\n  fetchESM?: (url: string) => Promise<LoadedPlugin>\n  fetchCJS?: (url: string) => Promise<LoadedPlugin>\n\n  constructor(\n    defs: PluginDefinition[] = [],\n    args?: {\n      fetchESM?: (url: string) => Promise<LoadedPlugin>\n      fetchCJS?: (url: string) => Promise<LoadedPlugin>\n    },\n  ) {\n    this.fetchESM = args?.fetchESM\n    this.fetchCJS = args?.fetchCJS\n    this.definitions = JSON.parse(JSON.stringify(defs))\n  }\n\n  async loadCJSPlugin(def: CJSPluginDefinition, baseUri?: string) {\n    const parsedUrl = new URL(def.cjsUrl, baseUri)\n    if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n      throw new Error(\n        `Cannot load plugins using protocol \"${parsedUrl.protocol}\"`,\n      )\n    }\n    if (!this.fetchCJS) {\n      throw new Error('No fetchCJS callback provided')\n    }\n\n    return this.fetchCJS(parsedUrl.href)\n  }\n\n  async loadESMPlugin(def: ESMPluginDefinition, baseUri?: string) {\n    const parsedUrl =\n      'esmUrl' in def\n        ? new URL(def.esmUrl, baseUri)\n        : new URL(def.esmLoc.uri, def.esmLoc.baseUri)\n\n    if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n      throw new Error(\n        `cannot load plugins using protocol \"${parsedUrl.protocol}\"`,\n      )\n    }\n\n    if (!this.fetchESM) {\n      throw new Error('No ESM fetcher installed')\n    }\n    const plugin = await this.fetchESM(addCacheBuster(parsedUrl.href))\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (!plugin) {\n      throw new Error(`Could not load ESM plugin: ${parsedUrl}`)\n    }\n    return plugin\n  }\n\n  async loadUMDPlugin(\n    def: UMDPluginDefinition | LegacyUMDPluginDefinition,\n    baseUri?: string,\n  ) {\n    const parsedUrl =\n      'url' in def\n        ? new URL(def.url, baseUri)\n        : 'umdUrl' in def\n          ? new URL(def.umdUrl, baseUri)\n          : new URL(def.umdLoc.uri, def.umdLoc.baseUri)\n\n    if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n      throw new Error(\n        `cannot load plugins using protocol \"${parsedUrl.protocol}\"`,\n      )\n    }\n    const moduleName = def.name\n    const umdName = `JBrowsePlugin${moduleName}`\n    if (typeof jest === 'undefined') {\n      await loadScript(addCacheBuster(parsedUrl.href))\n    } else {\n      // @ts-expect-error\n      globalThis[umdName] = { default: Plugin }\n    }\n\n    // @ts-expect-error\n    const plugin = globalThis[umdName] as\n      | { default: PluginConstructor }\n      | undefined\n    if (!plugin) {\n      throw new Error(\n        `Failed to load UMD bundle for ${moduleName}, ${umdName} is undefined`,\n      )\n    }\n    return plugin\n  }\n\n  async loadPlugin(def: PluginDefinition, baseUri?: string) {\n    let plugin: LoadedPlugin\n    if (isElectron && isCJSPluginDefinition(def)) {\n      plugin = await this.loadCJSPlugin(def, baseUri)\n    } else if (isESMPluginDefinition(def)) {\n      plugin = await this.loadESMPlugin(def, baseUri)\n    } else if (isUMDPluginDefinition(def)) {\n      plugin = await this.loadUMDPlugin(def, baseUri)\n    } else if (!isElectron && isCJSPluginDefinition(def)) {\n      throw new Error(\n        `CommonJS plugin found, but not in a NodeJS environment: ${JSON.stringify(\n          def,\n        )}`,\n      )\n    } else {\n      throw new Error(`Could not determine plugin type: ${JSON.stringify(def)}`)\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (!plugin.default) {\n      throw new Error(\n        `${pluginDescriptionString(\n          def,\n        )} does not have a default export, cannot load`,\n      )\n    }\n    return plugin.default\n  }\n\n  installGlobalReExports(target: WindowOrWorkerGlobalScope) {\n    // @ts-expect-error\n    target.JBrowseExports = Object.fromEntries(\n      Object.entries(ReExports).map(([moduleName, module]) => {\n        return [moduleName, module]\n      }),\n    )\n    return this\n  }\n\n  async load(baseUri?: string) {\n    return Promise.all(\n      this.definitions.map(async definition => ({\n        plugin: await this.loadPlugin(definition, baseUri),\n        definition,\n      })),\n    )\n  }\n}\n","import './workerPolyfill.js'\nimport { initializeWorker } from '@jbrowse/product-core'\nimport { enableStaticRendering } from 'mobx-react'\n\nimport corePlugins from './corePlugins.ts'\n\n// static rendering is used for \"SSR\" style rendering which is done on the\n// worker\nenableStaticRendering(true)\n\n// eslint-disable-next-line @typescript-eslint/no-floating-promises\ninitializeWorker(corePlugins, {\n  fetchESM: url => import(/* webpackIgnore:true */ url),\n})\n\nexport default function doNothing() {\n  /* do nothing */\n}\n","import PluginLoader from '@jbrowse/core/PluginLoader'\nimport PluginManager from '@jbrowse/core/PluginManager'\nimport { RpcServer, serializeError } from '@jbrowse/core/util/librpc'\n\nimport type { PluginConstructor } from '@jbrowse/core/Plugin'\nimport type { LoadedPlugin, PluginDefinition } from '@jbrowse/core/PluginLoader'\n\ndeclare global {\n  interface Window {\n    rpcServer?: RpcServer\n  }\n}\n\ninterface WorkerConfiguration {\n  plugins: PluginDefinition[]\n  windowHref: string\n}\n\n// waits for a message from the main thread containing our configuration, which\n// must be sent on boot\nfunction receiveConfiguration() {\n  const configurationP = new Promise<WorkerConfiguration>(resolve => {\n    function listener(e: MessageEvent) {\n      if (e.data.message === 'config') {\n        resolve(e.data.config as WorkerConfiguration)\n        removeEventListener('message', listener)\n      }\n    }\n    self.addEventListener('message', listener)\n  })\n  postMessage({ message: 'readyForConfig' })\n  return configurationP\n}\n\nasync function getPluginManager(\n  corePlugins: PluginConstructor[],\n  opts: { fetchESM?: (url: string) => Promise<LoadedPlugin> },\n) {\n  // Load runtime plugins\n  const config = await receiveConfiguration()\n  const pluginLoader = new PluginLoader(\n    config.plugins,\n    opts,\n  ).installGlobalReExports(self)\n  return new PluginManager(\n    [\n      ...corePlugins.map(p => ({ plugin: p })),\n      ...(await pluginLoader.load(config.windowHref)),\n    ].map(P => new P.plugin()),\n  )\n    .createPluggableElements()\n    .configure()\n}\n\ninterface WrappedFuncArgs {\n  rpcDriverClassName: string\n  channel: string\n  [key: string]: unknown\n}\n\ntype RpcFunc = (args: unknown, rpcDriverClassName: string) => Promise<unknown>\n\nfunction wrapForRpc(func: RpcFunc) {\n  return (args: unknown) => {\n    const wrappedArgs = args as WrappedFuncArgs\n    const { channel, rpcDriverClassName } = wrappedArgs\n    return func(\n      {\n        ...wrappedArgs,\n        statusCallback: (message: string) => {\n          self.rpcServer?.emit(channel, message)\n        },\n      },\n      rpcDriverClassName,\n    )\n  }\n}\n\nexport async function initializeWorker(\n  corePlugins: PluginConstructor[],\n  opts: {\n    fetchESM?: (url: string) => Promise<LoadedPlugin>\n    fetchCJS?: (url: string) => Promise<LoadedPlugin>\n  },\n) {\n  // Add global error handler to catch uncaught errors in the worker\n  self.addEventListener('error', event => {\n    console.error('[Worker uncaught error]', event.error || event.message)\n  })\n  self.addEventListener('unhandledrejection', event => {\n    console.error('[Worker unhandled rejection]', event.reason)\n  })\n\n  try {\n    const pluginManager = await getPluginManager(corePlugins, opts)\n    const rpcConfig = Object.fromEntries(\n      pluginManager\n        .getRpcElements()\n        .map(e => [e.name, wrapForRpc(e.execute.bind(e))]),\n    )\n\n    self.rpcServer = new RpcServer(rpcConfig)\n    postMessage({ message: 'ready' })\n  } catch (e) {\n    postMessage({ message: 'error', error: serializeError(e) })\n  }\n  /* do nothing */\n}\n","import { lazy } from 'react'\n\nimport Plugin from '@jbrowse/core/Plugin'\n\nimport AddConnectionWidgetF from './AddConnectionWidget/index.ts'\nimport AddTrackWidgetF from './AddTrackWidget/index.ts'\nimport HierarchicalTrackSelectorWidgetF from './HierarchicalTrackSelectorWidget/index.ts'\nimport JB2TrackHubConnectionF from './JB2TrackHubConnection/index.ts'\nimport PluginStoreWidgetF from './PluginStoreWidget/index.ts'\nimport UCSCTrackHubConnectionF from './UCSCTrackHubConnection/index.ts'\n\nimport type PluginManager from '@jbrowse/core/PluginManager'\n\nconst AssemblyManager = lazy(() => import('./AssemblyManager/index.ts'))\n\nexport default class DataManagementPlugin extends Plugin {\n  name = 'DataManagementPlugin'\n\n  exports = {\n    AssemblyManager,\n  }\n\n  install(pluginManager: PluginManager) {\n    UCSCTrackHubConnectionF(pluginManager)\n    JB2TrackHubConnectionF(pluginManager)\n    AddTrackWidgetF(pluginManager)\n    HierarchicalTrackSelectorWidgetF(pluginManager)\n    AddConnectionWidgetF(pluginManager)\n    PluginStoreWidgetF(pluginManager)\n  }\n\n  configure(_pluginManager: PluginManager) {}\n}\n\nexport { AssemblyManager }\n\nexport type { AddTrackModel } from './AddTrackWidget/model.ts'\nexport type { HierarchicalTrackSelectorModel } from './HierarchicalTrackSelectorWidget/index.ts'\n","import SvgIcon from '@mui/material/SvgIcon'\n\nimport type { SvgIconProps } from '@mui/material/SvgIcon'\n\n// https://materialdesignicons.com/ text-search icon\nexport function Indexing(props: SvgIconProps) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M19.31 18.9L22.39 22L21 23.39L17.88 20.32C17.19 20.75 16.37 21 15.5 21C13 21 11 19 11 16.5C11 14 13 12 15.5 12C18 12 20 14 20 16.5C20 17.38 19.75 18.21 19.31 18.9M15.5 19C16.88 19 18 17.88 18 16.5C18 15.12 16.88 14 15.5 14C14.12 14 13 15.12 13 16.5C13 17.88 14.12 19 15.5 19M21 4V6H3V4H21M3 16V14H9V16H3M3 11V9H21V11H18.97C17.96 10.37 16.77 10 15.5 10C14.23 10 13.04 10.37 12.03 11H3Z\" />\n    </SvgIcon>\n  )\n}\n\n//  format-list-checkbox from https://materialdesignicons.com/\nexport function TrackSelector(props: SvgIconProps) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M21 19v-2H8v2h13m0-6v-2H8v2h13M8 7h13V5H8v2M4 5v2h2V5H4M3 5a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V5m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z\" />\n    </SvgIcon>\n  )\n}\n\n//  dna from https://materialdesignicons.com/\nexport function DNA(props: SvgIconProps) {\n  return (\n    <SvgIcon {...props}>\n      <path\n        fill=\"currentColor\"\n        d=\"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z\"\n      />\n    </SvgIcon>\n  )\n}\n\nexport function Cable(props: SvgIconProps) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z\" />\n    </SvgIcon>\n  )\n}\n","import {\n  localStorageGetBoolean,\n  localStorageSetBoolean,\n} from '@jbrowse/core/util'\nimport { addDisposer, cast, types } from '@jbrowse/mobx-state-tree'\nimport { autorun } from 'mobx'\n\nimport { BaseSessionModel, isBaseSession } from './BaseSession.ts'\nimport { DrawerWidgetSessionMixin } from './DrawerWidgets.ts'\n\nimport type PluginManager from '@jbrowse/core/PluginManager'\nimport type { IBaseViewModel } from '@jbrowse/core/pluggableElementTypes'\nimport type { IAnyStateTreeNode, Instance } from '@jbrowse/mobx-state-tree'\n\n/**\n * #stateModel MultipleViewsSessionMixin\n * composed of\n * - [BaseSessionModel](../basesessionmodel)\n * - [DrawerWidgetSessionMixin](../drawerwidgetsessionmixin)\n */\nexport function MultipleViewsSessionMixin(pluginManager: PluginManager) {\n  return types\n    .compose(\n      BaseSessionModel(pluginManager),\n      DrawerWidgetSessionMixin(pluginManager),\n      types.model({\n        /**\n         * #property\n         */\n        views: types.array(\n          pluginManager.pluggableMstType('view', 'stateModel'),\n        ),\n        /**\n         * #property\n         */\n        stickyViewHeaders: types.optional(types.boolean, () =>\n          localStorageGetBoolean('stickyViewHeaders', true),\n        ),\n        /**\n         * #property\n         * enables the dockview-based tabbed/tiled workspace layout\n         */\n        useWorkspaces: types.optional(types.boolean, () =>\n          localStorageGetBoolean('useWorkspaces', false),\n        ),\n      }),\n    )\n    .actions(self => ({\n      /**\n       * #action\n       */\n      moveViewDown(id: string) {\n        const idx = self.views.findIndex(v => v.id === id)\n        if (idx !== -1 && idx < self.views.length - 1) {\n          self.views.splice(idx, 2, self.views[idx + 1], self.views[idx])\n        }\n      },\n      /**\n       * #action\n       */\n      moveViewUp(id: string) {\n        const idx = self.views.findIndex(view => view.id === id)\n        if (idx > 0) {\n          self.views.splice(idx - 1, 2, self.views[idx], self.views[idx - 1])\n        }\n      },\n      /**\n       * #action\n       */\n      moveViewToTop(id: string) {\n        const idx = self.views.findIndex(view => view.id === id)\n        self.views = cast([\n          self.views[idx],\n          ...self.views.filter(view => view.id !== id),\n        ])\n      },\n\n      /**\n       * #action\n       */\n      moveViewToBottom(id: string) {\n        const idx = self.views.findIndex(view => view.id === id)\n        self.views = cast([\n          ...self.views.filter(view => view.id !== id),\n          self.views[idx],\n        ])\n      },\n\n      /**\n       * #action\n       */\n      addView(typeName: string, initialState = {}) {\n        const typeDefinition = pluginManager.getElementType('view', typeName)\n        if (!typeDefinition) {\n          throw new Error(`unknown view type ${typeName}`)\n        }\n\n        const length = self.views.push({\n          ...initialState,\n          type: typeName,\n        })\n        return self.views[length - 1]\n      },\n\n      /**\n       * #action\n       */\n      removeView(view: IBaseViewModel) {\n        for (const [, widget] of self.activeWidgets) {\n          if (widget.view?.id === view.id) {\n            self.hideWidget(widget)\n          }\n        }\n        self.views.remove(view)\n      },\n\n      /**\n       * #action\n       */\n      setStickyViewHeaders(sticky: boolean) {\n        self.stickyViewHeaders = sticky\n      },\n\n      /**\n       * #action\n       */\n      setUseWorkspaces(useWorkspaces: boolean) {\n        self.useWorkspaces = useWorkspaces\n      },\n\n      afterAttach() {\n        addDisposer(\n          self,\n          autorun(\n            function stickyViewHeadersAutorun() {\n              localStorageSetBoolean(\n                'stickyViewHeaders',\n                self.stickyViewHeaders,\n              )\n            },\n            { name: 'StickyViewHeaders' },\n          ),\n        )\n        addDisposer(\n          self,\n          autorun(\n            function useWorkspacesAutorun() {\n              localStorageSetBoolean('useWorkspaces', self.useWorkspaces)\n            },\n            { name: 'UseWorkspaces' },\n          ),\n        )\n      },\n    }))\n    .postProcessSnapshot(snap => {\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!snap) {\n        return snap\n      }\n      const { stickyViewHeaders, useWorkspaces, ...rest } = snap as Omit<\n        typeof snap,\n        symbol\n      >\n      return {\n        ...rest,\n        ...(!stickyViewHeaders ? { stickyViewHeaders } : {}),\n        ...(useWorkspaces ? { useWorkspaces } : {}),\n      } as typeof snap\n    })\n}\n\n/** Session mixin MST type for a session that manages multiple views */\nexport type SessionWithMultipleViewsType = ReturnType<\n  typeof MultipleViewsSessionMixin\n>\n\n/** Instance of a session with multiple views */\nexport type SessionWithMultipleViews = Instance<SessionWithMultipleViewsType>\n\n/** Type guard for SessionWithMultipleViews */\nexport function isSessionWithMultipleViews(\n  session: IAnyStateTreeNode,\n): session is SessionWithMultipleViews {\n  return isBaseSession(session) && 'views' in session\n}\n","import type React from 'react'\nimport { useEffect, useRef, useState } from 'react'\n\nimport { unzip } from '@gmod/bgzf-filehandle'\nimport useMeasure from '@jbrowse/core/util/useMeasure'\nimport {\n  getEnv as getEnvMST,\n  getParent,\n  getSnapshot,\n  hasParent,\n  isAlive,\n  isStateTreeNode,\n} from '@jbrowse/mobx-state-tree'\nimport { flushSync } from 'react-dom'\nimport { createRoot } from 'react-dom/client'\n\nimport { coarseStripHTML } from './coarseStripHTML.ts'\nimport { colord } from './colord.ts'\nimport { parseLocString } from './locString.ts'\nimport { checkStopToken } from './stopToken.ts'\nimport {\n  isDisplayModel,\n  isSessionModel,\n  isTrackModel,\n  isUriLocation,\n  isViewModel,\n} from './types/index.ts'\n\nimport type { ParsedLocString } from './locString.ts'\nimport type PluginManager from '../PluginManager.ts'\nimport type { BaseBlock } from './blockTypes.ts'\nimport type { Feature } from './simpleFeature.ts'\nimport type { StopToken } from './stopToken.ts'\nimport type {\n  AbstractDisplayModel,\n  AbstractSessionModel,\n  AbstractTrackModel,\n  AbstractViewModel,\n  AssemblyManager,\n  Region,\n  TypeTestedByPredicate,\n} from './types/index.ts'\nimport type { Region as MUIRegion } from './types/mst.ts'\nimport type { BaseOptions } from '../data_adapters/BaseAdapter/index.ts'\nimport type {\n  IAnyStateTreeNode,\n  IStateTreeNode,\n  Instance,\n} from '@jbrowse/mobx-state-tree'\nimport type { GenericFilehandle } from 'generic-filehandle2'\n\nexport * from './types/index.ts'\nexport * from './when.ts'\nexport * from './range.ts'\nexport * from './dedupe.ts'\nexport * from './coarseStripHTML.ts'\n\nexport * from './offscreenCanvasPonyfill.tsx'\nexport * from './offscreenCanvasUtils.tsx'\nexport * from './rpc.ts'\nexport * from './crypto.ts'\n\n// WeakMap caches for containing model lookups to avoid repeated tree traversal\nconst containingDisplayCache = new WeakMap<\n  IAnyStateTreeNode,\n  AbstractDisplayModel\n>()\nconst containingTrackCache = new WeakMap<\n  IAnyStateTreeNode,\n  AbstractTrackModel\n>()\nconst containingViewCache = new WeakMap<IAnyStateTreeNode, AbstractViewModel>()\nconst sessionCache = new WeakMap<IAnyStateTreeNode, AbstractSessionModel>()\n\nexport function useDebounce<T>(value: T, delay: number) {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    const handle = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n    return () => {\n      clearTimeout(handle)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\n// used in ViewContainer files to get the width\nexport function useWidthSetter(\n  view: { setWidth: (arg: number) => void },\n  padding: string,\n) {\n  const [ref, { width }] = useMeasure()\n  useEffect(() => {\n    let token: ReturnType<typeof requestAnimationFrame>\n    if (width && isAlive(view)) {\n      // sets after a requestAnimationFrame\n      // https://stackoverflow.com/a/58701523/2129219\n      // avoids ResizeObserver loop error being shown during development\n      token = requestAnimationFrame(() => {\n        view.setWidth(width)\n      })\n    }\n\n    return () => {\n      if (token) {\n        cancelAnimationFrame(token)\n      }\n    }\n  }, [padding, view, width])\n  return ref\n}\n\ntype Timer = ReturnType<typeof setTimeout>\n\n// https://stackoverflow.com/questions/56283920/\nexport function useDebouncedCallback<T>(\n  callback: (...args: T[]) => void,\n  wait = 400,\n) {\n  // track args & timeout handle between calls\n  const argsRef = useRef<T[]>(null)\n  const timeout = useRef<Timer>(null)\n\n  // make sure our timeout gets cleared if our consuming component gets\n  // unmounted\n  useEffect(() => {\n    if (timeout.current) {\n      clearTimeout(timeout.current)\n    }\n  }, [])\n\n  return function debouncedCallback(...args: T[]) {\n    // capture latest args\n    argsRef.current = args\n\n    // clear debounce timer\n    if (timeout.current) {\n      clearTimeout(timeout.current)\n    }\n\n    // start waiting again\n    timeout.current = setTimeout(() => {\n      if (argsRef.current) {\n        callback(...argsRef.current)\n      }\n    }, wait)\n  }\n}\n\n/**\n * find the first node in the hierarchy that matches the given predicate\n */\nexport function findParentThat(\n  node: IAnyStateTreeNode,\n  predicate: (thing: IAnyStateTreeNode) => boolean,\n) {\n  if (!hasParent(node)) {\n    throw new Error('node does not have parent')\n  }\n  let currentNode = getParent<IAnyStateTreeNode>(node)\n\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  while (currentNode && isAlive(currentNode)) {\n    if (predicate(currentNode)) {\n      return currentNode\n    }\n    if (hasParent(currentNode)) {\n      currentNode = getParent<any>(currentNode)\n    } else {\n      break\n    }\n  }\n  throw new Error('no matching node found')\n}\n\ninterface Animation {\n  lastPosition: number\n  lastTime?: number\n  lastVelocity?: number\n}\n\n// based on https://github.com/react-spring/react-spring/blob/cd5548a987383b8023efd620f3726a981f9e18ea/src/animated/FrameLoop.ts\nexport function springAnimate(\n  fromValue: number,\n  toValue: number,\n  setValue: (value: number) => void,\n  onFinish = () => {},\n  precision = 0,\n  tension = 400,\n  friction = 20,\n  clamp = true,\n) {\n  const mass = 1\n  if (!precision) {\n    precision = Math.abs(toValue - fromValue) / 1000\n  }\n\n  let animationFrameId: number\n\n  function update(animation: Animation) {\n    const time = performance.now()\n    let position = animation.lastPosition\n    let lastTime = animation.lastTime || time\n    let velocity = animation.lastVelocity || 0\n    // If we lost a lot of frames just jump to the end.\n    if (time > lastTime + 64) {\n      lastTime = time\n    }\n    // http://gafferongames.com/game-physics/fix-your-timestep/\n    const numSteps = Math.floor(time - lastTime)\n    for (let i = 0; i < numSteps; ++i) {\n      const force = -tension * (position - toValue)\n      const damping = -friction * velocity\n      const acceleration = (force + damping) / mass\n      velocity += (acceleration * 1) / 1000\n      position += (velocity * 1) / 1000\n    }\n    const isVelocity = Math.abs(velocity) <= precision\n    const isDisplacement =\n      tension !== 0 ? Math.abs(toValue - position) <= precision : true\n    const isOvershooting =\n      clamp && tension !== 0\n        ? fromValue < toValue\n          ? position > toValue\n          : position < toValue\n        : false\n    const endOfAnimation = isOvershooting || (isVelocity && isDisplacement)\n    if (endOfAnimation) {\n      setValue(toValue)\n      onFinish()\n    } else {\n      setValue(position)\n      animationFrameId = requestAnimationFrame(() => {\n        update({\n          lastPosition: position,\n          lastTime: time,\n          lastVelocity: velocity,\n        })\n      })\n    }\n  }\n\n  return [\n    () => {\n      update({ lastPosition: fromValue })\n    },\n    () => {\n      cancelAnimationFrame(animationFrameId)\n    },\n  ]\n}\n\n/**\n * find the first node in the hierarchy that matches the given 'is' typescript\n * type guard predicate\n */\nexport function findParentThatIs<T extends (a: IAnyStateTreeNode) => boolean>(\n  node: IAnyStateTreeNode,\n  predicate: T,\n) {\n  return findParentThat(node, predicate) as TypeTestedByPredicate<T>\n}\n\n/**\n * get the current JBrowse session model, starting at any node in the state\n * tree. Results are cached for performance.\n */\nexport function getSession(node: IAnyStateTreeNode): AbstractSessionModel {\n  const cached = sessionCache.get(node)\n  if (cached && isAlive(cached)) {\n    return cached\n  }\n  try {\n    const result = findParentThatIs(node, isSessionModel)\n    sessionCache.set(node, result)\n    return result\n  } catch (e) {\n    throw new Error('no session model found!')\n  }\n}\n\n/**\n * get the state model of the view in the state tree that contains the given\n * node. Results are cached for performance.\n */\nexport function getContainingView(node: IAnyStateTreeNode): AbstractViewModel {\n  const cached = containingViewCache.get(node)\n  // Validate cached result is still alive (handles re-parenting edge cases)\n  if (cached && isAlive(cached)) {\n    return cached\n  }\n  try {\n    const result = findParentThatIs(node, isViewModel)\n    containingViewCache.set(node, result)\n    return result\n  } catch (e) {\n    throw new Error('no containing view found')\n  }\n}\n\n/**\n * get the state model of the track in the state tree that contains the given\n * node. Results are cached for performance.\n */\nexport function getContainingTrack(\n  node: IAnyStateTreeNode,\n): AbstractTrackModel {\n  const cached = containingTrackCache.get(node)\n  // Validate cached result is still alive (handles re-parenting edge cases)\n  if (cached && isAlive(cached)) {\n    return cached\n  }\n  try {\n    const result = findParentThatIs(node, isTrackModel)\n    containingTrackCache.set(node, result)\n    return result\n  } catch (e) {\n    throw new Error('no containing track found')\n  }\n}\n\n/**\n * get the state model of the display in the state tree that contains the given\n * node. Results are cached for performance.\n */\nexport function getContainingDisplay(\n  node: IAnyStateTreeNode,\n): AbstractDisplayModel {\n  const cached = containingDisplayCache.get(node)\n  // Validate cached result is still alive (handles re-parenting edge cases)\n  if (cached && isAlive(cached)) {\n    return cached\n  }\n  try {\n    const result = findParentThatIs(node, isDisplayModel)\n    containingDisplayCache.set(node, result)\n    return result\n  } catch (e) {\n    throw new Error('no containing display found')\n  }\n}\n\n/**\n * Assemble a 1-based \"locString\" from an interbase genomic location\n * @param region - Region\n * @example\n * ```ts\n * assembleLocString({ refName: 'chr1', start: 0, end: 100 })\n * //  'chr1:1..100'\n * ```\n * @example\n * ```ts\n * assembleLocString({ assemblyName: 'hg19', refName: 'chr1', start: 0, end: 100 })\n * //  '{hg19}chr1:1..100'\n * ```\n * @example\n * ```ts\n * assembleLocString({ refName: 'chr1' })\n * //  'chr1'\n * ```\n * @example\n * ```ts\n * assembleLocString({ refName: 'chr1', start: 0 })\n * //  'chr1:1..'\n * ```\n * @example\n * ```ts\n * assembleLocString({ refName: 'chr1', end: 100 })\n * //  'chr1:1..100'\n * ```\n * @example\n * ```ts\n * assembleLocString({ refName: 'chr1', start: 0, end: 1 })\n * //  'chr1:1'\n * ```\n */\nexport function assembleLocString(region: ParsedLocString) {\n  return assembleLocStringFast(region, toLocale)\n}\n\n// same as assembleLocString above, but does not perform toLocaleString which\n// can slow down the speed of block calculations which use assembleLocString\n// for block.key\nexport function assembleLocStringFast(\n  region: ParsedLocString,\n  cb = (n: number): string | number => n,\n) {\n  const { assemblyName, refName, start, end, reversed } = region\n  const assemblyNameString = assemblyName ? `{${assemblyName}}` : ''\n  let startString: string\n  if (start !== undefined) {\n    startString = `:${cb(start + 1)}`\n  } else if (end !== undefined) {\n    startString = ':1'\n  } else {\n    startString = ''\n  }\n  let endString: string\n  if (end !== undefined) {\n    endString = start !== undefined && start + 1 === end ? '' : `..${cb(end)}`\n  } else {\n    endString = start !== undefined ? '..' : ''\n  }\n  let rev = ''\n  if (reversed) {\n    rev = '[rev]'\n  }\n  return `${assemblyNameString}${refName}${startString}${endString}${rev}`\n}\nexport function compareLocs(locA: ParsedLocString, locB: ParsedLocString) {\n  const assemblyComp =\n    locA.assemblyName || locB.assemblyName\n      ? (locA.assemblyName || '').localeCompare(locB.assemblyName || '')\n      : 0\n  if (assemblyComp) {\n    return assemblyComp\n  }\n\n  const refComp =\n    locA.refName || locB.refName\n      ? (locA.refName || '').localeCompare(locB.refName || '')\n      : 0\n  if (refComp) {\n    return refComp\n  }\n\n  if (locA.start !== undefined && locB.start !== undefined) {\n    const startComp = locA.start - locB.start\n    if (startComp) {\n      return startComp\n    }\n  }\n  if (locA.end !== undefined && locB.end !== undefined) {\n    const endComp = locA.end - locB.end\n    if (endComp) {\n      return endComp\n    }\n  }\n  return 0\n}\n\nexport function compareLocStrings(\n  a: string,\n  b: string,\n  isValidRefName: (refName: string, assemblyName?: string) => boolean,\n) {\n  const locA = parseLocString(a, isValidRefName)\n  const locB = parseLocString(b, isValidRefName)\n  return compareLocs(locA, locB)\n}\n\n/**\n * Ensure that a number is at least min and at most max.\n *\n * @param num -\n * @param min -\n * @param  max -\n */\nexport function clamp(num: number, min: number, max: number) {\n  if (num < min) {\n    return min\n  }\n  if (num > max) {\n    return max\n  }\n  return num\n}\n\nfunction roundToNearestPointOne(num: number) {\n  return Math.round(num * 10) / 10\n}\n\n/**\n * @param bp -\n * @param region -\n * @param bpPerPx -\n */\nexport function bpToPx(\n  bp: number,\n  {\n    reversed,\n    end = 0,\n    start = 0,\n  }: { start?: number; end?: number; reversed?: boolean },\n  bpPerPx: number,\n) {\n  return roundToNearestPointOne((reversed ? end - bp : bp - start) / bpPerPx)\n}\n\nconst oneEightyOverPi = 180 / Math.PI\nconst piOverOneEighty = Math.PI / 180\nexport function radToDeg(radians: number) {\n  return (radians * oneEightyOverPi) % 360\n}\nexport function degToRad(degrees: number) {\n  return (degrees * piOverOneEighty) % (2 * Math.PI)\n}\n\n/**\n * @returns [x, y]\n */\nexport function polarToCartesian(rho: number, theta: number) {\n  return [rho * Math.cos(theta), rho * Math.sin(theta)] as [number, number]\n}\n\n/**\n * @param x - the x\n * @param y - the y\n * @returns [rho, theta]\n */\nexport function cartesianToPolar(x: number, y: number) {\n  const rho = Math.sqrt(x * x + y * y)\n  const theta = Math.atan(y / x)\n  return [rho, theta] as [number, number]\n}\ninterface MinimalRegion {\n  start: number\n  end: number\n  reversed?: boolean\n}\n\nexport function featureSpanPx(\n  feature: Feature,\n  region: MinimalRegion,\n  bpPerPx: number,\n) {\n  return bpSpanPx(feature.get('start'), feature.get('end'), region, bpPerPx)\n}\n\nexport function bpSpanPx(\n  leftBp: number,\n  rightBp: number,\n  region: MinimalRegion,\n  bpPerPx: number,\n) {\n  const start = bpToPx(leftBp, region, bpPerPx)\n  const end = bpToPx(rightBp, region, bpPerPx)\n  return region.reversed ? ([end, start] as const) : ([start, end] as const)\n}\n\n/**\n * Calculate layout bounds for a feature, accounting for reversed regions.\n *\n * When labels are wider than features, the layout needs extra space:\n * - Normal: extend towards higher genomic coords (visual right)\n * - Reversed: extend towards lower genomic coords (visual right when reversed)\n *\n * This ensures labels always extend towards visual right of the feature.\n *\n * @param featureStart - Feature's genomic start coordinate\n * @param featureEnd - Feature's genomic end coordinate\n * @param layoutWidthBp - Total layout width in base pairs (may include label space)\n * @param reversed - Whether the region is reversed\n * @returns [layoutStart, layoutEnd] in genomic coordinates\n */\nexport function calculateLayoutBounds(\n  featureStart: number,\n  featureEnd: number,\n  layoutWidthBp: number,\n  reversed?: boolean,\n): [number, number] {\n  const featureWidthBp = featureEnd - featureStart\n  const labelOverhangBp = Math.max(0, layoutWidthBp - featureWidthBp)\n\n  // When reversed, extend towards lower genomic coords (visual right when reversed)\n  // When normal, extend towards higher genomic coords (visual right when normal)\n  return reversed\n    ? [featureStart - labelOverhangBp, featureEnd]\n    : [featureStart, featureStart + layoutWidthBp]\n}\n\n// do an array map of an iterable\nexport function iterMap<T, U>(\n  iter: Iterable<T>,\n  func: (arg: T) => U,\n  sizeHint?: number,\n) {\n  const results = Array.from<U>({ length: sizeHint || 0 })\n  let counter = 0\n  for (const item of iter) {\n    results[counter] = func(item)\n    counter += 1\n  }\n  return results\n}\n\n/**\n * Returns the index of the last element in the array where predicate is true,\n * and -1 otherwise. Based on https://stackoverflow.com/a/53187807\n *\n * @param array - The source array to search in\n *\n * @param predicate - find calls predicate once for each element of the array, in\n * descending order, until it finds one where predicate returns true.\n *\n * @returns findLastIndex returns element index where predicate is true.\n * Otherwise, findLastIndex returns -1.\n */\nexport function findLastIndex<T>(\n  array: T[],\n  predicate: (value: T, index: number, obj: T[]) => boolean,\n) {\n  let l = array.length\n  while (l--) {\n    if (predicate(array[l]!, l, array)) {\n      return l\n    }\n  }\n  return -1\n}\n\nexport function findLast<T>(\n  array: T[],\n  predicate: (value: T, index: number, obj: T[]) => boolean,\n) {\n  let l = array.length\n  while (l--) {\n    if (predicate(array[l]!, l, array)) {\n      return array[l]\n    }\n  }\n  return undefined\n}\n\nexport function renameRegionIfNeeded(\n  refNameMap: Record<string, string> | undefined,\n  region: Region | Instance<typeof MUIRegion>,\n): Region & { originalRefName?: string } {\n  if (isStateTreeNode(region) && !isAlive(region)) {\n    return region\n  }\n\n  if (refNameMap?.[region.refName]) {\n    // clone the region so we don't modify it\n    region = isStateTreeNode(region)\n      ? { ...getSnapshot(region) }\n      : { ...region }\n\n    // modify it directly in the container\n    const newRef = refNameMap[region.refName]\n    if (newRef) {\n      return {\n        ...region,\n        refName: newRef,\n        originalRefName: region.refName,\n      }\n    }\n  }\n  return region\n}\n\nexport async function renameRegionsIfNeeded<\n  ARGTYPE extends {\n    assemblyName?: string\n    regions?: Region[]\n    stopToken?: string\n    adapterConfig: Record<string, unknown>\n    sessionId: string\n    statusCallback?: (arg: string) => void\n  },\n>(assemblyManager: AssemblyManager, args: ARGTYPE) {\n  const { regions = [], adapterConfig } = args\n  if (!args.sessionId) {\n    throw new Error('sessionId is required')\n  }\n\n  const assemblyNames = regions.map(region => region.assemblyName)\n  const assemblyMaps = Object.fromEntries(\n    await Promise.all(\n      [...new Set(assemblyNames)].map(async assemblyName => {\n        return [\n          assemblyName,\n          await assemblyManager.getRefNameMapForAdapter(\n            adapterConfig,\n            assemblyName,\n            args,\n          ),\n        ]\n      }),\n    ),\n  )\n\n  return {\n    ...args,\n    regions: regions.map((region, i) =>\n      // note: uses assemblyNames defined above since region could be dead now\n      renameRegionIfNeeded(assemblyMaps[assemblyNames[i]!], region),\n    ),\n  }\n}\n\nexport function minmax(a: number, b: number) {\n  return [Math.min(a, b), Math.max(a, b)] as const\n}\n\nexport function shorten(name: string, max = 70, short = 30) {\n  return name.length > max\n    ? `${name.slice(0, short)}...${name.slice(-short)}`\n    : name\n}\n\nexport function shorten2(name: string, max = 70) {\n  return name.length > max ? `${name.slice(0, max)}...` : name\n}\n\nexport function stringify(\n  {\n    refName,\n    coord,\n    assemblyName,\n    oob,\n  }: {\n    assemblyName?: string\n    coord: number\n    refName?: string\n    oob?: boolean\n  },\n  useAssemblyName?: boolean,\n) {\n  return [\n    assemblyName && useAssemblyName ? `{${assemblyName}}` : '',\n    refName\n      ? `${shorten(refName)}:${toLocale(coord)}${oob ? ' (out of bounds)' : ''}`\n      : '',\n  ].join('')\n}\n\n// this is recommended in a later comment in\n// https://github.com/electron/electron/issues/2288 for detecting electron in a\n// renderer process, which is the one that has node enabled for us\n//\n// const isElectron = process.versions.electron\n// const i2 = process.versions.hasOwnProperty('electron')\nexport const isElectron = /electron/i.test(\n  typeof navigator !== 'undefined' ? navigator.userAgent : '',\n)\n\n// from bioperl: tr/acgtrymkswhbvdnxACGTRYMKSWHBVDNX/tgcayrkmswdvbhnxTGCAYRKMSWDVBHNX/\n// generated with:\n// perl -MJSON -E '@l = split \"\",\"acgtrymkswhbvdnxACGTRYMKSWHBVDNX\"; print to_json({ map { my $in = $_; tr/acgtrymkswhbvdnxACGTRYMKSWHBVDNX/tgcayrkmswdvbhnxTGCAYRKMSWDVBHNX/; $in => $_ } @l})'\nexport const complementTable = {\n  S: 'S',\n  w: 'w',\n  T: 'A',\n  r: 'y',\n  a: 't',\n  N: 'N',\n  K: 'M',\n  x: 'x',\n  d: 'h',\n  Y: 'R',\n  V: 'B',\n  y: 'r',\n  M: 'K',\n  h: 'd',\n  k: 'm',\n  C: 'G',\n  g: 'c',\n  t: 'a',\n  A: 'T',\n  n: 'n',\n  W: 'W',\n  X: 'X',\n  m: 'k',\n  v: 'b',\n  B: 'V',\n  s: 's',\n  H: 'D',\n  c: 'g',\n  D: 'H',\n  b: 'v',\n  R: 'Y',\n  G: 'C',\n} as Record<string, string>\n\nexport function revcom(str: string) {\n  const revcomped = []\n  for (let i = str.length - 1; i >= 0; i--) {\n    revcomped.push(complementTable[str[i]!] ?? str[i])\n  }\n  return revcomped.join('')\n}\n\nexport function reverse(str: string) {\n  const reversed = []\n  for (let i = str.length - 1; i >= 0; i--) {\n    reversed.push(str[i]!)\n  }\n  return reversed.join('')\n}\n\nexport function complement(str: string) {\n  const comp = []\n  for (let i = 0, l = str.length; i < l; i++) {\n    comp.push(complementTable[str[i]!] ?? str[i]!)\n  }\n  return comp.join('')\n}\n\n// requires immediate execution in jest environment, because (hypothesis) it\n// otherwise listens for prerendered_canvas but reads empty pixels, and doesn't\n// get the contents of the canvas\nexport const rIC =\n  typeof jest === 'undefined'\n    ? // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      typeof window !== 'undefined' && window.requestIdleCallback\n      ? window.requestIdleCallback\n      : (cb: () => void) =>\n          setTimeout(() => {\n            cb()\n          }, 1)\n    : (cb: () => void) => {\n        cb()\n      }\n\n// prettier-ignore\nconst widths = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2796875,0.2765625,0.3546875,0.5546875,0.5546875,0.8890625,0.665625,0.190625,0.3328125,0.3328125,0.3890625,0.5828125,0.2765625,0.3328125,0.2765625,0.3015625,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.2765625,0.2765625,0.584375,0.5828125,0.584375,0.5546875,1.0140625,0.665625,0.665625,0.721875,0.721875,0.665625,0.609375,0.7765625,0.721875,0.2765625,0.5,0.665625,0.5546875,0.8328125,0.721875,0.7765625,0.665625,0.7765625,0.721875,0.665625,0.609375,0.721875,0.665625,0.94375,0.665625,0.665625,0.609375,0.2765625,0.3546875,0.2765625,0.4765625,0.5546875,0.3328125,0.5546875,0.5546875,0.5,0.5546875,0.5546875,0.2765625,0.5546875,0.5546875,0.221875,0.240625,0.5,0.221875,0.8328125,0.5546875,0.5546875,0.5546875,0.5546875,0.3328125,0.5,0.2765625,0.5546875,0.5,0.721875,0.5,0.5,0.5,0.3546875,0.259375,0.353125,0.5890625]\nconst avgWidth = 0.5279276315789471\n\n// xref https://gist.github.com/tophtucker/62f93a4658387bb61e4510c37e2e97cf\nexport function measureText(str: unknown, fontSize = 10) {\n  const s = String(str)\n  let total = 0\n  for (let i = 0, l = s.length; i < l; i++) {\n    total += widths[s.charCodeAt(i)] ?? avgWidth\n  }\n  return total * fontSize\n}\n\nexport type Frame = 1 | 2 | 3 | -1 | -2 | -3\n\nexport function getFrame(\n  start: number,\n  end: number,\n  strand: 1 | -1,\n  phase: 0 | 1 | 2,\n): Frame {\n  return strand === 1\n    ? ((((start + phase) % 3) + 1) as 1 | 2 | 3)\n    : ((-1 * ((end - phase) % 3) - 1) as -1 | -2 | -3)\n}\n\nexport const defaultStarts = ['ATG']\nexport const defaultStops = ['TAA', 'TAG', 'TGA']\nexport const defaultCodonTable = {\n  TCA: 'S',\n  TCC: 'S',\n  TCG: 'S',\n  TCT: 'S',\n  TTC: 'F',\n  TTT: 'F',\n  TTA: 'L',\n  TTG: 'L',\n  TAC: 'Y',\n  TAT: 'Y',\n  TAA: '*',\n  TAG: '*',\n  TGC: 'C',\n  TGT: 'C',\n  TGA: '*',\n  TGG: 'W',\n  CTA: 'L',\n  CTC: 'L',\n  CTG: 'L',\n  CTT: 'L',\n  CCA: 'P',\n  CCC: 'P',\n  CCG: 'P',\n  CCT: 'P',\n  CAC: 'H',\n  CAT: 'H',\n  CAA: 'Q',\n  CAG: 'Q',\n  CGA: 'R',\n  CGC: 'R',\n  CGG: 'R',\n  CGT: 'R',\n  ATA: 'I',\n  ATC: 'I',\n  ATT: 'I',\n  ATG: 'M',\n  ACA: 'T',\n  ACC: 'T',\n  ACG: 'T',\n  ACT: 'T',\n  AAC: 'N',\n  AAT: 'N',\n  AAA: 'K',\n  AAG: 'K',\n  AGC: 'S',\n  AGT: 'S',\n  AGA: 'R',\n  AGG: 'R',\n  GTA: 'V',\n  GTC: 'V',\n  GTG: 'V',\n  GTT: 'V',\n  GCA: 'A',\n  GCC: 'A',\n  GCG: 'A',\n  GCT: 'A',\n  GAC: 'D',\n  GAT: 'D',\n  GAA: 'E',\n  GAG: 'E',\n  GGA: 'G',\n  GGC: 'G',\n  GGG: 'G',\n  GGT: 'G',\n}\n\n/**\n * take CodonTable above and generate larger codon table that includes all\n * permutations of upper and lower case nucleotides\n */\nexport function generateCodonTable(table: any) {\n  const tempCodonTable: Record<string, string> = {}\n  for (const codon of Object.keys(table)) {\n    const aa = table[codon]\n    const nucs: string[][] = []\n    for (let i = 0; i < 3; i++) {\n      const nuc = codon.charAt(i)\n      nucs[i] = []\n      nucs[i]![0] = nuc.toUpperCase()\n      nucs[i]![1] = nuc.toLowerCase()\n    }\n    for (let i = 0; i < 2; i++) {\n      const n0 = nucs[0]![i]!\n      for (let j = 0; j < 2; j++) {\n        const n1 = nucs[1]![j]!\n        for (let k = 0; k < 2; k++) {\n          const n2 = nucs[2]![k]!\n          const triplet = n0 + n1 + n2\n          tempCodonTable[triplet] = aa\n        }\n      }\n    }\n  }\n  return tempCodonTable\n}\n\n// call statusCallback with current status and clear when finished\nexport async function updateStatus<U>(\n  msg: string,\n  cb: ((arg: string) => void) | undefined,\n  fn: () => U | Promise<U>,\n) {\n  cb?.(msg)\n  const res = await fn()\n  cb?.('')\n  return res\n}\n\n// call statusCallback with current status and clear when finished, and check\n// stopToken afterwards\nexport async function updateStatus2<U>(\n  msg: string,\n  cb: (arg: string) => void,\n  stopToken: StopToken | undefined,\n  fn: () => U | Promise<U>,\n) {\n  cb(msg)\n  const res = await fn()\n  checkStopToken(stopToken)\n  cb('')\n  return res\n}\n\nexport function hashCode(str: string) {\n  let hash = 0\n  if (str.length === 0) {\n    return hash\n  }\n  for (let i = 0; i < str.length; i++) {\n    const chr = str.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0 // Convert to 32bit integer\n  }\n  return hash\n}\n\nexport function objectHash(obj: Record<string, any>) {\n  return `${hashCode(JSON.stringify(obj))}`\n}\n\ninterface VirtualOffset {\n  blockPosition: number\n}\n\ninterface Block {\n  minv: VirtualOffset\n  maxv: VirtualOffset\n}\n\nexport async function bytesForRegions(\n  regions: Region[],\n  index: {\n    blocksForRange: (\n      ref: string,\n      start: number,\n      end: number,\n    ) => Promise<Block[]>\n  },\n) {\n  const blockResults = await Promise.all(\n    regions.map(r => index.blocksForRange(r.refName, r.start, r.end)),\n  )\n\n  return sum(\n    blockResults\n      .flat()\n      .map(\n        block => block.maxv.blockPosition + 65535 - block.minv.blockPosition,\n      ),\n  )\n}\n\nexport interface ViewSnap {\n  bpPerPx: number\n  interRegionPaddingWidth: number\n  minimumBlockWidth: number\n  width: number\n  offsetPx: number\n  staticBlocks: { contentBlocks: BaseBlock[]; blocks: BaseBlock[] }\n  displayedRegions: (IStateTreeNode & {\n    start: number\n    end: number\n    refName: string\n    reversed?: boolean\n    assemblyName: string\n  })[]\n}\n\n// Supported adapter types by text indexer ensure that this matches the method\n// found in @jbrowse/text-indexing/util\nexport function isSupportedIndexingAdapter(type = '') {\n  return [\n    'Gff3TabixAdapter',\n    'VcfTabixAdapter',\n    'Gff3Adapter',\n    'VcfAdapter',\n  ].includes(type)\n}\n\nexport function getBpDisplayStr(total: number) {\n  if (Math.floor(total / 1_000_000) > 0) {\n    return `${reducePrecision(total / 1_000_000)}Mbp`\n  } else if (Math.floor(total / 1_000) > 0) {\n    return `${reducePrecision(total / 1_000)}Kbp`\n  } else {\n    return `${Math.floor(total)}bp`\n  }\n}\n\nexport function reducePrecision(s: number, n = 3) {\n  return toLocale(Number.parseFloat(s.toPrecision(n)))\n}\n\nexport function getProgressDisplayStr(current: number, total: number) {\n  if (Math.floor(total / 1_000_000) > 0) {\n    return `${reducePrecision(current / 1_000_000)}/${reducePrecision(total / 1_000_000)}Mb`\n  } else if (Math.floor(total / 1_000) > 0) {\n    return `${reducePrecision(current / 1_000)}/${reducePrecision(total / 1_000)}Kb`\n  } else {\n    return `${reducePrecision(current)}/${reducePrecision(total)} bytes`\n  }\n}\n\n// Fast number formatter with thousand separators\n// Benchmarked at 5-67x faster than toLocaleString('en-US')\nexport function toLocale(n: number) {\n  if (n < 1000) {\n    return String(n)\n  }\n  const str = String(n)\n  const len = str.length\n  let result = ''\n  for (let i = 0; i < len; i++) {\n    if (i > 0 && (len - i) % 3 === 0) {\n      result += ','\n    }\n    result += str[i]\n  }\n  return result\n}\n\nexport function getTickDisplayStr(totalBp: number, bpPerPx: number) {\n  return Math.floor(bpPerPx / 1_000) > 0\n    ? `${toLocale(Number.parseFloat((totalBp / 1_000_000).toFixed(2)))}M`\n    : toLocale(Math.floor(totalBp))\n}\n\nexport function getLayoutId({\n  sessionId,\n  trackInstanceId,\n}: {\n  sessionId: string\n  trackInstanceId: string\n}) {\n  return `${sessionId}-${trackInstanceId}`\n}\n\nexport function getStatsId({\n  sessionId,\n  trackInstanceId,\n}: {\n  sessionId: string\n  trackInstanceId: string\n}) {\n  return `${sessionId}-${trackInstanceId}`\n}\n\n// Hook from https://usehooks.com/useLocalStorage/\nexport function useLocalStorage<T>(\n  key: string,\n  initialValue: T,\n  enabled = true,\n) {\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    if (typeof window === 'undefined' || !enabled) {\n      return initialValue\n    }\n    try {\n      const item = window.localStorage.getItem(key)\n      return item ? JSON.parse(item) : initialValue\n    } catch (error) {\n      console.error(error)\n      return initialValue\n    }\n  })\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      const valueToStore =\n        // eslint-disable-next-line unicorn/no-instanceof-builtins\n        value instanceof Function ? value(storedValue) : value\n      setStoredValue(valueToStore)\n      if (typeof window !== 'undefined' && enabled) {\n        window.localStorage.setItem(key, JSON.stringify(valueToStore))\n      }\n    } catch (error) {\n      console.error(error)\n    }\n  }\n  return [storedValue, setValue] as const\n}\n\nexport function getUriLink(value: { uri: string; baseUri?: string }) {\n  const { uri, baseUri = '' } = value\n  let href: string\n  try {\n    href = new URL(uri, baseUri).href\n  } catch (e) {\n    href = uri\n  }\n  return href\n}\n\nexport function getStr(obj: unknown) {\n  return isObject(obj)\n    ? isUriLocation(obj)\n      ? getUriLink(obj)\n      : JSON.stringify(obj)\n    : String(obj)\n}\n\n// based on autolink-js, license MIT\n// https://github.com/bryanwoods/autolink-js/blob/1418049970152c56ced73d43dcc62d80b320fb71/autolink.js#L9\nexport function linkify(s: string) {\n  const pattern =\n    /(^|[\\s\\n]|<[A-Za-z]*\\/?>)((?:https?|ftp):\\/\\/[-A-Z0-9+\\u0026\\u2019@#/%?=()~_|!:,.;]*[-A-Z0-9+\\u0026@#/%=~()_|])/gi\n  return s.replaceAll(pattern, '$1<a href=\\'$2\\' target=\"_blank\">$2</a>')\n}\n\n// heuristic measurement for a column of a @mui/x-data-grid, pass in\n// values from a column\nexport function measureGridWidth(\n  elements: unknown[],\n  args?: {\n    minWidth?: number\n    fontSize?: number\n    maxWidth?: number\n    padding?: number\n    stripHTML?: boolean\n  },\n) {\n  const {\n    padding = 30,\n    minWidth = 80,\n    fontSize = 12,\n    maxWidth = 1000,\n    stripHTML = false,\n  } = args || {}\n  return max(\n    elements\n      .map(element => getStr(element))\n      .map(str => (stripHTML ? coarseStripHTML(str) : str))\n      .map(str => measureText(str, fontSize))\n      .map(n => Math.min(Math.max(n + padding, minWidth), maxWidth)),\n  )\n}\n\nexport function getEnv(obj: any) {\n  return getEnvMST<{ pluginManager: PluginManager }>(obj)\n}\n\nexport function localStorageGetItem(item: string) {\n  return typeof localStorage !== 'undefined'\n    ? localStorage.getItem(item)\n    : undefined\n}\n\nexport function localStorageSetItem(str: string, item: string) {\n  if (typeof localStorage !== 'undefined') {\n    localStorage.setItem(str, item)\n  }\n}\n\nexport function max(arr: Iterable<number>, init = Number.NEGATIVE_INFINITY) {\n  let max = init\n  for (const entry of arr) {\n    max = Math.max(entry, max)\n  }\n  return max\n}\n\nexport function min(arr: Iterable<number>, init = Number.POSITIVE_INFINITY) {\n  let min = init\n  for (const entry of arr) {\n    min = Math.min(entry, min)\n  }\n  return min\n}\n\nexport function sum(arr: Iterable<number>) {\n  let sum = 0\n  for (const entry of arr) {\n    sum += entry\n  }\n  return sum\n}\n\nexport function avg(arr: number[]) {\n  return sum(arr) / arr.length\n}\n\nexport function groupBy<T>(array: Iterable<T>, predicate: (v: T) => string) {\n  const result = {} as Record<string, T[]>\n  for (const value of array) {\n    const t = predicate(value)\n    if (!result[t]) {\n      result[t] = []\n    }\n    result[t].push(value)\n  }\n  return result\n}\n\nexport function notEmpty<T>(value: T | null | undefined): value is T {\n  return value !== null && value !== undefined\n}\n\nexport function mergeIntervals<T extends { start: number; end: number }>(\n  intervals: T[],\n  w = 5000,\n) {\n  // test if there are at least 2 intervals\n  if (intervals.length <= 1) {\n    return intervals\n  }\n\n  const stack = [] as T[]\n  let top = null\n\n  // sort the intervals based on their start values\n  intervals = intervals.sort((a, b) => a.start - b.start)\n\n  // push the 1st interval into the stack\n  stack.push(intervals[0]!)\n\n  // start from the next interval and merge if needed\n  for (let i = 1; i < intervals.length; i++) {\n    // get the top element\n    top = stack.at(-1)!\n\n    // if the current interval doesn't overlap with the\n    // stack top element, push it to the stack\n    if (top.end + w < intervals[i]!.start - w) {\n      stack.push(intervals[i]!)\n    }\n    // otherwise update the end value of the top element\n    // if end of current interval is higher\n    else if (top.end < intervals[i]!.end) {\n      top.end = Math.max(top.end, intervals[i]!.end)\n      stack.pop()\n      stack.push(top)\n    }\n  }\n\n  return stack\n}\n\nexport interface BasicFeature {\n  end: number\n  start: number\n  refName: string\n}\n\n// returns new array non-overlapping features\nexport function gatherOverlaps<T extends BasicFeature>(regions: T[], w = 5000) {\n  const memo = {} as Record<string, T[]>\n  for (const x of regions) {\n    if (!memo[x.refName]) {\n      memo[x.refName] = []\n    }\n    memo[x.refName]!.push(x)\n  }\n\n  return Object.values(memo).flatMap(group =>\n    mergeIntervals(\n      group.sort((a, b) => a.start - b.start),\n      w,\n    ),\n  )\n}\n\nexport function stripAlpha(str: string) {\n  return colord(str).alpha(1).toHex()\n}\n\nexport function getStrokeProps(str: string) {\n  if (str) {\n    const c = colord(str)\n    return {\n      strokeOpacity: c.alpha(),\n      stroke: c.alpha(1).toHex(),\n    }\n  } else {\n    return {}\n  }\n}\n\nexport function getFillProps(str: string) {\n  if (str) {\n    const c = colord(str)\n    return {\n      fillOpacity: c.alpha(),\n      fill: c.alpha(1).toHex(),\n    }\n  } else {\n    return {}\n  }\n}\n\n// https://react.dev/reference/react-dom/server/renderToString#removing-rendertostring-from-the-client-code\nexport function renderToStaticMarkup(node: React.ReactElement) {\n  const div = document.createElement('div')\n  flushSync(() => {\n    createRoot(div).render(node)\n  })\n  return div.innerHTML.replaceAll(/\\brgba\\((.+?),[^,]+?\\)/g, 'rgb($1)')\n}\n\nexport function isGzip(buf: Uint8Array) {\n  return buf[0] === 31 && buf[1] === 139 && buf[2] === 8\n}\n\nexport async function fetchAndMaybeUnzip(\n  loc: GenericFilehandle,\n  opts: BaseOptions = {},\n) {\n  const { statusCallback = () => {} } = opts\n  const buf = await updateStatus(\n    'Downloading file',\n    statusCallback,\n    () => loc.readFile(opts) as Promise<Uint8Array>,\n  )\n  return isGzip(buf)\n    ? await updateStatus('Unzipping', statusCallback, () => unzip(buf))\n    : buf\n}\n\nexport async function fetchAndMaybeUnzipText(\n  loc: GenericFilehandle,\n  opts?: BaseOptions,\n) {\n  const buffer = await fetchAndMaybeUnzip(loc, opts)\n  // 512MB  max chrome string length is 512MB\n  if (buffer.length > 536_870_888) {\n    throw new Error('Data exceeds maximum string length (512MB)')\n  }\n  return new TextDecoder('utf8', { fatal: true }).decode(buffer)\n}\n\n// MIT https://github.com/inspect-js/is-object\nexport function isObject(\n  x: unknown,\n): x is Record<string | symbol | number, unknown> {\n  return typeof x === 'object' && x !== null\n}\n\nexport function localStorageGetNumber(key: string, defaultVal: number) {\n  return +(localStorageGetItem(key) ?? defaultVal)\n}\n\nexport function localStorageGetBoolean(key: string, defaultVal: boolean) {\n  return Boolean(\n    JSON.parse(localStorageGetItem(key) || JSON.stringify(defaultVal)),\n  )\n}\n\nexport function localStorageSetBoolean(key: string, value: boolean) {\n  localStorageSetItem(key, JSON.stringify(value))\n}\n\nexport function testAdapter(\n  fileName: string,\n  regex: RegExp,\n  adapterHint: string | undefined,\n  expected: string,\n) {\n  return (regex.test(fileName) && !adapterHint) || adapterHint === expected\n}\n\nexport {\n  type Feature,\n  type SimpleFeatureSerialized,\n  type SimpleFeatureSerializedNoId,\n  default as SimpleFeature,\n  isFeature,\n} from './simpleFeature.ts'\n\nexport { blobToDataURL } from './blobToDataURL.ts'\nexport { makeAbortableReaction } from './makeAbortableReaction.ts'\nexport * from './aborting.ts'\nexport * from './linkify.ts'\nexport * from './locString.ts'\nexport * from './stopToken.ts'\nexport * from './tracks.ts'\nexport * from './fileHandleStore.ts'\nexport { IntervalTree } from './IntervalTree.ts'\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [9992,4540,1941], () => (__webpack_require__(46800)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"7\":\"ac9b9679\",\"13\":\"d96e6194\",\"27\":\"ebf1d381\",\"36\":\"38534e8f\",\"90\":\"e2d46cb0\",\"91\":\"a2213c98\",\"107\":\"349ab71b\",\"122\":\"d1225a74\",\"139\":\"77cfdfc3\",\"167\":\"eb099860\",\"194\":\"120ebaa4\",\"210\":\"2f14a257\",\"353\":\"a89620ba\",\"356\":\"00898f98\",\"375\":\"f4e23ddb\",\"414\":\"65056e48\",\"421\":\"ce52ea6e\",\"423\":\"c5e1a216\",\"437\":\"4e1221ce\",\"450\":\"e2048ed8\",\"456\":\"23b900d0\",\"475\":\"9faeee99\",\"504\":\"87e45936\",\"505\":\"4945ec94\",\"564\":\"6620d268\",\"593\":\"01f6c2d9\",\"601\":\"b3965830\",\"625\":\"53844ca5\",\"633\":\"faf3f5cc\",\"648\":\"901d884d\",\"661\":\"849f7ffe\",\"677\":\"5dab01d5\",\"708\":\"8a404603\",\"781\":\"170f8ab5\",\"784\":\"93a54ecf\",\"815\":\"33d9ee02\",\"853\":\"8a7a1026\",\"871\":\"8d6ed43d\",\"903\":\"cae85000\",\"940\":\"573809e3\",\"947\":\"bc46c150\",\"1003\":\"740a7ac6\",\"1062\":\"6894b906\",\"1065\":\"3945344d\",\"1075\":\"da848732\",\"1080\":\"65289ce3\",\"1104\":\"668fa14c\",\"1242\":\"57eb827e\",\"1272\":\"051cf6e9\",\"1291\":\"5395272f\",\"1317\":\"074f5a64\",\"1326\":\"64d2d308\",\"1333\":\"c9b20278\",\"1436\":\"2fc82a48\",\"1456\":\"75a32de9\",\"1472\":\"5668d345\",\"1498\":\"31562fe6\",\"1526\":\"d4f00489\",\"1529\":\"ac76590d\",\"1564\":\"992ee888\",\"1571\":\"3c221539\",\"1577\":\"28cfafaa\",\"1628\":\"acd89527\",\"1657\":\"8b9a8a5d\",\"1703\":\"97144a4b\",\"1706\":\"385b9091\",\"1707\":\"a770630e\",\"1777\":\"cc49843d\",\"1789\":\"f48e3738\",\"1838\":\"41c37031\",\"1853\":\"ba894793\",\"1881\":\"51814bcf\",\"1912\":\"59d9cced\",\"1916\":\"f118bdbc\",\"1932\":\"e9eb2a59\",\"1941\":\"e5498c0f\",\"1994\":\"6e0ccd28\",\"2016\":\"7ce2994e\",\"2021\":\"b6a7bc71\",\"2046\":\"1e63d577\",\"2074\":\"84509ca0\",\"2134\":\"55080936\",\"2174\":\"6cdd7255\",\"2177\":\"7013ead4\",\"2179\":\"e903baa1\",\"2204\":\"3add68b5\",\"2254\":\"30ec867f\",\"2258\":\"1d9c62ad\",\"2267\":\"a7ddd823\",\"2272\":\"c2d8a78a\",\"2276\":\"9cecaeb8\",\"2277\":\"83e81f93\",\"2281\":\"1d5b1608\",\"2287\":\"d8e8c883\",\"2296\":\"72c9004c\",\"2297\":\"0d90fa4f\",\"2361\":\"6a9db473\",\"2372\":\"5cfaabc7\",\"2478\":\"64a5b11c\",\"2499\":\"3d4b7916\",\"2523\":\"0b399364\",\"2535\":\"c555e3d5\",\"2557\":\"44648b8b\",\"2576\":\"a440c5e4\",\"2583\":\"18866867\",\"2617\":\"e9cc1cfa\",\"2621\":\"6bf15795\",\"2672\":\"5703d8b9\",\"2673\":\"4de5fcc5\",\"2675\":\"3e605dc1\",\"2702\":\"470572c3\",\"2737\":\"54f33606\",\"2764\":\"0df4b9f6\",\"2789\":\"f91c0e11\",\"2856\":\"e78c5252\",\"2886\":\"89662b75\",\"2901\":\"576e076a\",\"3038\":\"30fc94c5\",\"3046\":\"5975460e\",\"3084\":\"47012e7e\",\"3137\":\"210858c9\",\"3178\":\"d13e8635\",\"3180\":\"555311cb\",\"3206\":\"013e3011\",\"3224\":\"a466390e\",\"3264\":\"a76ad30c\",\"3301\":\"4213ea3d\",\"3307\":\"02e825b1\",\"3348\":\"b54502d1\",\"3369\":\"3064763d\",\"3477\":\"75f97e74\",\"3541\":\"3d9efe61\",\"3603\":\"dba20212\",\"3633\":\"ed99e75f\",\"3637\":\"a0989b5f\",\"3678\":\"9a0510ec\",\"3693\":\"4c048b77\",\"3755\":\"9ec05cbf\",\"3769\":\"c41e423e\",\"3855\":\"5a77cf30\",\"3859\":\"a9c0870c\",\"3891\":\"3be4ea15\",\"3928\":\"c6daf3b0\",\"3958\":\"335fafdd\",\"3962\":\"2d339e53\",\"3967\":\"083bef91\",\"4096\":\"847a5832\",\"4144\":\"aef68ddf\",\"4147\":\"d7f8de1c\",\"4214\":\"10cf2559\",\"4247\":\"1de0b82c\",\"4283\":\"07b7b00d\",\"4322\":\"a75cd818\",\"4344\":\"ed0fb34d\",\"4385\":\"86c8f23e\",\"4395\":\"3d3d0bb3\",\"4423\":\"c402eb6a\",\"4441\":\"7b888fb5\",\"4456\":\"23e0fabb\",\"4488\":\"bfe5030a\",\"4540\":\"eea2c9c2\",\"4548\":\"6f78446c\",\"4552\":\"8ec89336\",\"4580\":\"25072f1e\",\"4627\":\"c34cd77d\",\"4628\":\"2b429937\",\"4689\":\"2e9be9c4\",\"4690\":\"04e6f713\",\"4733\":\"311c36ed\",\"4818\":\"8931fd2d\",\"4820\":\"cca78bda\",\"4827\":\"12a51434\",\"4834\":\"00c232f1\",\"4877\":\"b8753ce8\",\"4879\":\"574ccd2d\",\"4885\":\"895c2107\",\"4915\":\"79e7b303\",\"4974\":\"fbd11863\",\"5009\":\"c78c11b2\",\"5013\":\"e4b0c77d\",\"5015\":\"6cac866a\",\"5073\":\"f5f21c8b\",\"5102\":\"4969377c\",\"5248\":\"bda30a9c\",\"5277\":\"0a246d9b\",\"5347\":\"f762a45d\",\"5376\":\"ec9f44a1\",\"5405\":\"199ce970\",\"5423\":\"0c751d8d\",\"5424\":\"56b1cc81\",\"5457\":\"d43bdfcb\",\"5483\":\"6cd633d3\",\"5512\":\"45beb053\",\"5554\":\"dfa1f482\",\"5561\":\"ef1916b5\",\"5589\":\"a7302e9e\",\"5618\":\"8b365f5d\",\"5645\":\"69c004dd\",\"5661\":\"7a9145f2\",\"5680\":\"d824367e\",\"5750\":\"ac81e961\",\"5761\":\"7a3de4cb\",\"5784\":\"ac664f83\",\"5805\":\"c0c4579b\",\"5813\":\"ce1aaec3\",\"5828\":\"4caf23e4\",\"5829\":\"5f6d6805\",\"5833\":\"a5968835\",\"5889\":\"b1f927de\",\"5895\":\"f06b9ea0\",\"5913\":\"e7e0165e\",\"5929\":\"d8c28232\",\"5946\":\"9742733e\",\"5980\":\"8fff0cdb\",\"5993\":\"01470361\",\"6012\":\"7d8b934c\",\"6036\":\"9f46b78b\",\"6085\":\"7286c789\",\"6086\":\"58711426\",\"6094\":\"31ed2ce3\",\"6104\":\"e886bdfe\",\"6116\":\"ad4b856b\",\"6127\":\"a82a8ecf\",\"6128\":\"2c618d49\",\"6136\":\"7eee84bb\",\"6143\":\"f1ee7c3a\",\"6155\":\"cd8f863a\",\"6169\":\"012592c7\",\"6281\":\"bb884182\",\"6327\":\"9d8bc64f\",\"6344\":\"9af8fbec\",\"6372\":\"0c527d5e\",\"6421\":\"b9c545d9\",\"6432\":\"487a8c2f\",\"6479\":\"c658fae6\",\"6483\":\"212d3e84\",\"6532\":\"755e7e00\",\"6601\":\"cc0e0730\",\"6603\":\"480171a4\",\"6619\":\"4dc3cd12\",\"6646\":\"96b24b0a\",\"6651\":\"d02b337d\",\"6667\":\"ce7bdf18\",\"6736\":\"fd706df7\",\"6757\":\"aa2be184\",\"6785\":\"b03cd045\",\"6809\":\"46eb0386\",\"6892\":\"307c34b5\",\"6897\":\"bf2561e0\",\"6900\":\"35f74827\",\"6910\":\"e2368bd5\",\"6983\":\"b08412ad\",\"6993\":\"92cfc80e\",\"7021\":\"34728c3f\",\"7042\":\"a887a705\",\"7047\":\"96b64cea\",\"7185\":\"bd7f5e18\",\"7203\":\"e8da6203\",\"7231\":\"39ef7be9\",\"7250\":\"d7b94252\",\"7258\":\"0094e9f1\",\"7361\":\"cd1ef826\",\"7371\":\"265f3aa0\",\"7407\":\"f239d868\",\"7433\":\"7aa346bd\",\"7450\":\"c93177af\",\"7458\":\"f4be0eb4\",\"7482\":\"1122f0d8\",\"7486\":\"b600cc0c\",\"7504\":\"ef84b374\",\"7523\":\"cbcd8989\",\"7561\":\"21645972\",\"7586\":\"f3496fec\",\"7588\":\"ed668525\",\"7621\":\"7324b023\",\"7716\":\"24943749\",\"7728\":\"6789b9c0\",\"7733\":\"f8f1e659\",\"7745\":\"1f085c17\",\"7757\":\"5a715277\",\"7761\":\"98bfb8ec\",\"7785\":\"1e0fde79\",\"7794\":\"e00473e4\",\"7799\":\"5d788e16\",\"7815\":\"9af9bfd9\",\"7819\":\"6f619b69\",\"7874\":\"4a7e3820\",\"7882\":\"6ba386c7\",\"7891\":\"9430dac8\",\"7896\":\"fd6ced9c\",\"7910\":\"00de7395\",\"7968\":\"57de4e47\",\"8003\":\"194d015f\",\"8022\":\"6865f097\",\"8045\":\"e8b82727\",\"8068\":\"9bfe6ca9\",\"8072\":\"0aefbe8d\",\"8085\":\"9a1bb1d7\",\"8089\":\"907c4cba\",\"8099\":\"a3599079\",\"8104\":\"42d20f4b\",\"8123\":\"d1ede998\",\"8134\":\"389790ff\",\"8147\":\"6dfcaf06\",\"8183\":\"0af9c18d\",\"8185\":\"7cf4686e\",\"8203\":\"c6459eff\",\"8207\":\"9fd7b271\",\"8230\":\"542a5572\",\"8245\":\"5498deaa\",\"8258\":\"fe02c33a\",\"8267\":\"c4166296\",\"8277\":\"f7be04ed\",\"8284\":\"2d850496\",\"8407\":\"dd3803e9\",\"8462\":\"6b88a877\",\"8491\":\"1349aaca\",\"8494\":\"dcb2fb4f\",\"8501\":\"5f8f139d\",\"8503\":\"53fa3e04\",\"8514\":\"a9e099df\",\"8522\":\"f97a4475\",\"8524\":\"bd17f484\",\"8535\":\"5f6bf96c\",\"8546\":\"4ec3ba0e\",\"8550\":\"a3b4f2da\",\"8559\":\"1bda0ce1\",\"8579\":\"ee6bcb71\",\"8592\":\"0d0f941e\",\"8628\":\"aaf10b77\",\"8632\":\"71d0d18e\",\"8698\":\"413d5c66\",\"8701\":\"2220c755\",\"8711\":\"cd407228\",\"8718\":\"9b5ebea1\",\"8759\":\"d35f5014\",\"8769\":\"9dc07b38\",\"8770\":\"00d6c52a\",\"8781\":\"25b7f3ef\",\"8801\":\"263f994d\",\"8853\":\"d9e7a339\",\"8854\":\"3116b535\",\"8857\":\"697c3748\",\"8862\":\"e70ed809\",\"8875\":\"e5b99f38\",\"8885\":\"a1a07b70\",\"8898\":\"2d92e9dd\",\"8937\":\"fde3f3a5\",\"8938\":\"bc8d8966\",\"8942\":\"dfcb6ba8\",\"8955\":\"487ea7f8\",\"8979\":\"a6938d01\",\"8995\":\"b2c13503\",\"9011\":\"ecbcc4cf\",\"9038\":\"472cc3c9\",\"9044\":\"fb8c33a4\",\"9049\":\"be772fe1\",\"9079\":\"c4091966\",\"9095\":\"c24610ae\",\"9098\":\"73aa0dbb\",\"9112\":\"b632efcb\",\"9131\":\"6835a529\",\"9143\":\"6a33dbc9\",\"9169\":\"7f22339e\",\"9179\":\"9b488ba0\",\"9227\":\"6e8ad2e8\",\"9247\":\"8be4254b\",\"9260\":\"c3d052fd\",\"9272\":\"e5179428\",\"9286\":\"d47068c5\",\"9338\":\"3b028c83\",\"9347\":\"e6f8091b\",\"9348\":\"c68a99e3\",\"9364\":\"844a59bd\",\"9374\":\"988315cb\",\"9419\":\"cc997b9e\",\"9478\":\"d98a2ef2\",\"9484\":\"18298cdb\",\"9506\":\"f9e0c9bd\",\"9533\":\"3d4ec955\",\"9540\":\"ea78798f\",\"9545\":\"ab0ddb13\",\"9615\":\"66d44f1c\",\"9625\":\"4fe65e86\",\"9634\":\"201b76f6\",\"9637\":\"8256c3ec\",\"9718\":\"a3f82ef8\",\"9719\":\"a2a36b2c\",\"9752\":\"6306969a\",\"9755\":\"20879bb7\",\"9776\":\"ade4fb82\",\"9795\":\"282c6fac\",\"9820\":\"daedfd59\",\"9823\":\"c95588cc\",\"9836\":\"cc658b7d\",\"9865\":\"80812545\",\"9874\":\"48ec6635\",\"9876\":\"0df5798d\",\"9912\":\"f9697c88\",\"9939\":\"ea03e921\",\"9963\":\"fe3b7cad\",\"9990\":\"aa497e14\",\"9991\":\"2c552445\",\"9992\":\"6bab4795\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/css/\" + chunkId + \".\" + \"c106a5c5\" + \".chunk.css\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 6319;","var scriptUrl;\nif (globalThis.importScripts) scriptUrl = globalThis.location + \"\";\nvar document = globalThis.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../../\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t6319: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"9634\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t6319: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunk_jbrowse_web\"] = globalThis[\"webpackChunk_jbrowse_web\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","__webpack_require__.nc = undefined;","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","leafPrototypes","getProto","next","isBaseSession","thing","self","window","addEventListener","fetch","bind","location","Date","removeEventListener","requestIdleCallback","cb","cancelIdleCallback","requestAnimationFrame","cancelAnimationFrame","navigator","document","createTextNode","querySelector","appendChild","documentElement","querySelectorAll","createElement","style","setAttribute","removeAttribute","isUMDPluginDefinition","def","undefined","umdUrl","url","umdLoc","name","isESMPluginDefinition","esmUrl","esmLoc","isCJSPluginDefinition","cjsUrl","addCacheBuster","globalThis","__jbrowseCacheBuster","u","URL","searchParams","set","now","toString","href","PluginLoader","definitions","constructor","defs","args","this","fetchESM","fetchCJS","JSON","parse","stringify","loadCJSPlugin","baseUri","parsedUrl","protocol","Error","loadESMPlugin","uri","plugin","loadUMDPlugin","moduleName","umdName","jest","async","scriptUrl","src","Promise","resolve","reject","script","type","onload","onerror","head","append","importScripts","loadScript","default","Plugin","loadPlugin","isElectron","d","installGlobalReExports","target","JBrowseExports","Object","fromEntries","entries","ReExports","map","module","load","all","definition","enableStaticRendering","corePlugins","opts","event","console","error","message","reason","pluginManager","config","configurationP","listener","e","data","postMessage","receiveConfiguration","pluginLoader","plugins","PluginManager","p","windowHref","P","createPluggableElements","configure","getPluginManager","rpcConfig","getRpcElements","func","execute","wrappedArgs","channel","rpcDriverClassName","statusCallback","rpcServer","emit","RpcServer","serializeError","initializeWorker","import","AssemblyManager","lazy","DataManagementPlugin","exports","install","UCSCTrackHubConnectionF","JB2TrackHubConnectionF","AddTrackWidgetF","HierarchicalTrackSelectorWidgetF","AddConnectionWidgetF","PluginStoreWidgetF","_pluginManager","Indexing","props","$","_c","t0","t1","Symbol","for","_jsx","SvgIcon","children","TrackSelector","isSessionWithMultipleViews","session","containingDisplayCache","WeakMap","containingTrackCache","containingViewCache","sessionCache","useDebounce","value","delay","debouncedValue","setDebouncedValue","useState","handle","setTimeout","clearTimeout","useEffect","useWidthSetter","view","padding","ref","useMeasure","width","t2","token","isAlive","setWidth","useDebouncedCallback","callback","wait","argsRef","useRef","timeout","t3","current","t4","findParentThat","node","predicate","hasParent","currentNode","getParent","springAnimate","fromValue","toValue","setValue","onFinish","precision","tension","friction","clamp","animationFrameId","update","animation","time","performance","position","lastPosition","lastTime","velocity","lastVelocity","numSteps","Math","floor","i","isVelocity","abs","isDisplacement","findParentThatIs","getSession","cached","get","result","isSessionModel","getContainingView","isViewModel","getContainingTrack","isTrackModel","getContainingDisplay","isDisplayModel","assembleLocString","region","assembleLocStringFast","toLocale","n","assemblyName","refName","start","end","reversed","assemblyNameString","startString","endString","rev","compareLocs","locA","locB","assemblyComp","localeCompare","refComp","startComp","endComp","compareLocStrings","a","b","isValidRefName","parseLocString","num","min","max","bpToPx","bp","bpPerPx","round","oneEightyOverPi","PI","piOverOneEighty","radToDeg","radians","degToRad","degrees","polarToCartesian","rho","theta","cos","sin","cartesianToPolar","x","y","sqrt","atan","featureSpanPx","feature","bpSpanPx","leftBp","rightBp","calculateLayoutBounds","featureStart","featureEnd","layoutWidthBp","featureWidthBp","labelOverhangBp","iterMap","iter","sizeHint","results","Array","from","length","counter","item","findLastIndex","array","l","findLast","renameRegionIfNeeded","refNameMap","isStateTreeNode","newRef","getSnapshot","originalRefName","renameRegionsIfNeeded","assemblyManager","regions","adapterConfig","sessionId","assemblyNames","assemblyMaps","Set","getRefNameMapForAdapter","minmax","shorten","short","slice","shorten2","coord","oob","useAssemblyName","join","test","userAgent","complementTable","S","w","T","r","N","K","Y","V","M","h","k","C","g","t","A","W","X","m","v","B","s","H","c","D","R","G","revcom","str","revcomped","push","reverse","complement","comp","rIC","widths","measureText","fontSize","String","total","charCodeAt","getFrame","strand","phase","defaultStarts","defaultStops","defaultCodonTable","TCA","TCC","TCG","TCT","TTC","TTT","TTA","TTG","TAC","TAT","TAA","TAG","TGC","TGT","TGA","TGG","CTA","CTC","CTG","CTT","CCA","CCC","CCG","CCT","CAC","CAT","CAA","CAG","CGA","CGC","CGG","CGT","ATA","ATC","ATT","ATG","ACA","ACC","ACG","ACT","AAC","AAT","AAA","AAG","AGC","AGT","AGA","AGG","GTA","GTC","GTG","GTT","GCA","GCC","GCG","GCT","GAC","GAT","GAA","GAG","GGA","GGC","GGG","GGT","generateCodonTable","table","tempCodonTable","codon","keys","aa","nucs","nuc","charAt","toUpperCase","toLowerCase","n0","j","n1","updateStatus","msg","fn","res","updateStatus2","stopToken","checkStopToken","hashCode","hash","objectHash","obj","bytesForRegions","index","sum","blocksForRange","flat","block","maxv","blockPosition","minv","isSupportedIndexingAdapter","includes","getBpDisplayStr","reducePrecision","Number","parseFloat","toPrecision","getProgressDisplayStr","len","getTickDisplayStr","totalBp","toFixed","getLayoutId","trackInstanceId","getStatsId","useLocalStorage","key","initialValue","enabled","storedValue","setStoredValue","localStorage","getItem","valueToStore","Function","setItem","getUriLink","getStr","isObject","isUriLocation","linkify","replaceAll","measureGridWidth","elements","minWidth","maxWidth","stripHTML","element","coarseStripHTML","getEnv","getEnvMST","localStorageGetItem","localStorageSetItem","arr","init","NEGATIVE_INFINITY","entry","POSITIVE_INFINITY","avg","groupBy","notEmpty","mergeIntervals","intervals","stack","top","sort","at","pop","gatherOverlaps","memo","values","flatMap","group","stripAlpha","colord","alpha","toHex","getStrokeProps","strokeOpacity","stroke","getFillProps","fillOpacity","fill","renderToStaticMarkup","div","flushSync","createRoot","render","innerHTML","isGzip","buf","fetchAndMaybeUnzip","loc","readFile","unzip","fetchAndMaybeUnzipText","buffer","TextDecoder","fatal","decode","localStorageGetNumber","defaultVal","localStorageGetBoolean","Boolean","localStorageSetBoolean","testAdapter","fileName","regex","adapterHint","expected","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","__webpack_exports__","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","every","splice","getter","__esModule","getPrototypeOf","mode","then","ns","create","indexOf","getOwnPropertyNames","forEach","o","defineProperty","enumerable","f","chunkId","reduce","promises","miniCssF","prop","prototype","hasOwnProperty","toStringTag","currentScript","tagName","scripts","getElementsByTagName","replace","installedCssChunks","miniCss","fullhref","existingLinkTags","dataHref","tag","getAttribute","rel","existingStyleTags","findStylesheet","oldTag","linkTag","nc","nonce","errorType","realHref","err","code","request","parentNode","removeChild","createStylesheet","loadStylesheet","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","moreModules","runtime"],"ignoreList":[],"sourceRoot":""}