"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7896],{26823(e,t,n){n.d(t,{A:()=>r});var o=n(30936),s=n(38715),i=n(32118);function r(e){const t=(0,o.c)(43),{height:n,maxValue:r,exportSVG:l}=e,c=(0,s.A)(),d=n-5-5,a=l?"#333":c.palette.text.primary,x=l?"#fafafa":c.palette.background.default;let f,h,g,m,u,p,b,j,y;if(t[0]!==x||t[1]!==a||t[2]!==n||t[3]!==r||t[4]!==d){const e=[];for(let t=0;t<=4;t++){const n=r*t/4,o=5+d*(1-t/4);e.push({value:n,y:o})}const o=5.5,s=5+d+.5;t[13]!==x||t[14]!==n?(j=(0,i.jsx)("rect",{x:0,y:0,width:40,height:n,fill:x}),t[13]=x,t[14]=n,t[15]=j):j=t[15],f="none",h=9,g="sans-serif",m="end",u=1;const l=`M34,${o}H39.5V${s}H34`;t[16]!==a||t[17]!==l?(p=(0,i.jsx)("path",{stroke:a,d:l}),t[16]=a,t[17]=l,t[18]=p):p=t[18],b=e.map((e,t)=>(0,i.jsxs)("g",{transform:`translate(0,${e.y})`,children:[(0,i.jsx)("line",{stroke:a,x1:34,x2:40,y1:.5,y2:.5}),(0,i.jsx)("text",{stroke:x,strokeWidth:2,paintOrder:"stroke",fill:a,dy:"0.32em",x:31,y:.5,children:e.value.toFixed(2)})]},t)),t[0]=x,t[1]=a,t[2]=n,t[3]=r,t[4]=d,t[5]=f,t[6]=h,t[7]=g,t[8]=m,t[9]=u,t[10]=p,t[11]=b,t[12]=j}else f=t[5],h=t[6],g=t[7],m=t[8],u=t[9],p=t[10],b=t[11],j=t[12];t[19]!==f||t[20]!==h||t[21]!==g||t[22]!==m||t[23]!==u||t[24]!==p||t[25]!==b?(y=(0,i.jsxs)("g",{fill:f,fontSize:h,fontFamily:g,textAnchor:m,strokeWidth:u,children:[p,b]}),t[19]=f,t[20]=h,t[21]=g,t[22]=m,t[23]=u,t[24]=p,t[25]=b,t[26]=y):y=t[26];const v=n/2,k=`rotate(-90, 10, ${n/2})`;let w,$;t[27]!==a||t[28]!==v||t[29]!==k?(w=(0,i.jsx)("text",{x:10,y:v,fontSize:10,fill:a,fontFamily:"sans-serif",textAnchor:"middle",transform:k,children:"1 - r²"}),t[27]=a,t[28]=v,t[29]=k,t[30]=w):w=t[30],t[31]!==w||t[32]!==j||t[33]!==y?($=(0,i.jsxs)(i.Fragment,{children:[j,y,w]}),t[31]=w,t[32]=j,t[33]=y,t[34]=$):$=t[34];const S=$;if(l){let e;return t[35]!==S?(e=(0,i.jsx)("g",{children:S}),t[35]=S,t[36]=e):e=t[36],e}let M,A;return t[37]!==n?(M={position:"absolute",left:0,top:0,width:40,height:n,zIndex:1},t[37]=n,t[38]=M):M=t[38],t[39]!==S||t[40]!==n||t[41]!==M?(A=(0,i.jsx)("svg",{style:M,width:40,height:n,children:S}),t[39]=S,t[40]=n,t[41]=M,t[42]=A):A=t[42],A}},44016(e,t,n){n.d(t,{Ay:()=>c,DF:()=>l});var o=n(30936),s=n(32118);function i(e){const t=(0,o.c)(39),{ldMetric:n,signedLD:i,x:l,y:c}=e,d=void 0!==i&&i,a=void 0===l?0:l,x=void 0===c?0:c,f=`ld-gradient-${n}-${d?"signed":"unsigned"}`;let h,g,m,u,p,b,j,y,v,k;if(t[0]!==f||t[1]!==n||t[2]!==d||t[3]!==a||t[4]!==x){const e=function(e,t){return t?"dprime"===e?[{offset:"0%",color:"rgb(0,100,0)"},{offset:"25%",color:"rgb(64,192,64)"},{offset:"50%",color:"rgb(255,255,255)"},{offset:"75%",color:"rgb(128,128,255)"},{offset:"100%",color:"rgb(0,0,160)"}]:[{offset:"0%",color:"rgb(0,0,160)"},{offset:"25%",color:"rgb(128,128,255)"},{offset:"50%",color:"rgb(255,255,255)"},{offset:"75%",color:"rgb(255,128,128)"},{offset:"100%",color:"rgb(160,0,0)"}]:"dprime"===e?[{offset:"0%",color:"rgb(255,255,255)"},{offset:"50%",color:"rgb(128,128,255)"},{offset:"100%",color:"rgb(0,0,160)"}]:[{offset:"0%",color:"rgb(255,255,255)"},{offset:"50%",color:"rgb(255,128,128)"},{offset:"100%",color:"rgb(160,0,0)"}]}(n,d);let o;t[13]!==n||t[14]!==d?(o=function(e,t){return t?{min:"-1",max:"1",metric:"dprime"===e?"D'":"R"}:{min:"0",max:"1",metric:"dprime"===e?"D'":"R²"}}(n,d),t[13]=n,t[14]=d,t[15]=o):o=t[15],h=o,g=`translate(${a}, ${x})`,m=f,u="0%",p="0%",b="100%",j="0%",y=e.map(r),t[0]=f,t[1]=n,t[2]=d,t[3]=a,t[4]=x,t[5]=h,t[6]=g,t[7]=m,t[8]=u,t[9]=p,t[10]=b,t[11]=j,t[12]=y}else h=t[5],g=t[6],m=t[7],u=t[8],p=t[9],b=t[10],j=t[11],y=t[12];t[16]!==m||t[17]!==u||t[18]!==p||t[19]!==b||t[20]!==j||t[21]!==y?(v=(0,s.jsx)("defs",{children:(0,s.jsx)("linearGradient",{id:m,x1:u,y1:p,x2:b,y2:j,children:y})}),t[16]=m,t[17]=u,t[18]=p,t[19]=b,t[20]=j,t[21]=y,t[22]=v):v=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(k=(0,s.jsx)("rect",{x:0,y:0,width:120,height:40,fill:"rgba(255,255,255,0.9)",stroke:"#ccc",strokeWidth:1,rx:4}),t[23]=k):k=t[23];const w=`url(#${f})`;let $,S,M,A,F;return t[24]!==w?($=(0,s.jsx)("rect",{x:8,y:8,width:100,height:12,fill:w,rx:2}),t[24]=w,t[25]=$):$=t[25],t[26]!==h.min?(S=(0,s.jsx)("text",{x:8,y:32,fontSize:10,fill:"black",children:h.min}),t[26]=h.min,t[27]=S):S=t[27],t[28]!==h.metric?(M=(0,s.jsx)("text",{x:58,y:32,fontSize:10,fill:"black",textAnchor:"middle",children:h.metric}),t[28]=h.metric,t[29]=M):M=t[29],t[30]!==h.max?(A=(0,s.jsx)("text",{x:108,y:32,fontSize:10,fill:"black",textAnchor:"end",children:h.max}),t[30]=h.max,t[31]=A):A=t[31],t[32]!==g||t[33]!==v||t[34]!==$||t[35]!==S||t[36]!==M||t[37]!==A?(F=(0,s.jsxs)("g",{transform:g,children:[v,k,$,S,M,A]}),t[32]=g,t[33]=v,t[34]=$,t[35]=S,t[36]=M,t[37]=A,t[38]=F):F=t[38],F}function r(e,t){return(0,s.jsx)("stop",{offset:e.offset,style:{stopColor:e.color,stopOpacity:1}},t)}function l(e){const t=(0,o.c)(4),{ldMetric:n,width:r,signedLD:l}=e,c=void 0!==l&&l,d=r-120-10;let a;return t[0]!==n||t[1]!==c||t[2]!==d?(a=(0,s.jsx)(i,{ldMetric:n,signedLD:c,x:d,y:10}),t[0]=n,t[1]=c,t[2]=d,t[3]=a):a=t[3],a}function c(e){const t=(0,o.c)(4),{ldMetric:n,signedLD:r}=e,l=void 0!==r&&r;let c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c={position:"absolute",top:4,right:4,width:120,height:40,zIndex:10,overflow:"visible"},t[0]=c):c=t[0],t[1]!==n||t[2]!==l?(d=(0,s.jsx)("svg",{style:c,children:(0,s.jsx)(i,{ldMetric:n,signedLD:l})}),t[1]=n,t[2]=l,t[3]=d):d=t[3],d}},45402(e,t,n){n.d(t,{Ay:()=>v,Vu:()=>j,mO:()=>m});var o=n(30936),s=n(42918),i=n(28397),r=n(50639),l=n(71547),c=n(77251),d=n(65045),a=n(52061),x=n(38715),f=n(64074),h=n(32118);const g=(0,d.n)()(e=>({resizeHandle:{height:5,boxSizing:"border-box",background:"transparent","&:hover":{background:e.palette.divider}}})),m=(0,f.observer)(function({children:e,model:t,exportSVG:n,yOffset:o=0}){const{height:s}=t,{width:i,offsetPx:r}=(0,c.getContainingView)(t),l=Math.max(0,-r);return n?(0,h.jsx)("g",{transform:`translate(${l} ${o})`,children:e}):(0,h.jsx)("svg",{style:{position:"absolute",top:0,left:l,height:s,width:i},children:e})});function u(e,t,n,o){return(e.bpToPx({refName:t.getCanonicalRefName2(n.refName),coord:n.start})?.offsetPx||0)-o}const p=(0,s.forwardRef)(function(e,t){const n=(0,o.c)(5),{message:i}=e;let l,c;return n[0]!==i?(l=(0,s.isValidElement)(i)?i:i?(0,h.jsx)(r.A,{html:String(i)}):null,n[0]=i,n[1]=l):l=n[1],n[2]!==t||n[3]!==l?(c=(0,h.jsx)("div",{ref:t,children:l}),n[2]=t,n[3]=l,n[4]=c):c=n[4],c}),b=(0,f.observer)(function({contents:e}){return e?(0,h.jsx)(l.A,{children:(0,h.jsx)(p,{message:e})}):null}),j=(0,f.observer)(function({model:e}){const t=(0,x.A)(),{assemblyManager:n}=(0,c.getSession)(e),o=(0,c.getContainingView)(e),{snps:s,showLabels:i}=e,{offsetPx:r,assemblyNames:l}=o,d=n.get(l[0]),a=Math.max(r,0);return d&&0!==s.length&&i?(0,h.jsx)(h.Fragment,{children:s.map((e,n)=>{const s=u(o,d,e,a);return(0,h.jsx)("text",{x:s,y:0,transform:`rotate(-90, ${s}, 0)`,fontSize:10,textAnchor:"end",dominantBaseline:"middle",fill:t.palette.text.primary,style:{pointerEvents:"none"},children:e.id||"NOLABEL"},`${e.id}-${n}`)})}):null}),y=(0,f.observer)(function({model:e,setMouseOverLine:t}){const n=(0,x.A)(),{assemblyManager:o}=(0,c.getSession)(e),s=(0,c.getContainingView)(e),{lineZoneHeight:i,snps:r,tickHeight:l}=e,{offsetPx:d,assemblyNames:f,dynamicBlocks:g}=s,m=o.get(f[0]),p=g.contentBlocks[0]?.widthPx||0,b=r.length,y=Math.max(d,0),v=(0,c.getStrokeProps)((0,a.X4)(n.palette.text.primary,.4));return m&&0!==b?(0,h.jsxs)(h.Fragment,{children:[r.map((e,n)=>{const o=u(s,m,e,y),r=(n+.5)*p/b;return(0,h.jsxs)("g",{onMouseEnter:()=>{t({snp:e,idx:n,genomicX:o})},onMouseLeave:()=>{t(void 0)},children:[(0,h.jsx)("line",{...v,strokeWidth:1,x1:r,x2:o,y1:i,y2:l}),(0,h.jsx)("line",{...v,strokeWidth:1,x1:o,x2:o,y1:0,y2:l})]},`${e.id}-${n}`)}),(0,h.jsx)(j,{model:e})]}):null}),v=(0,f.observer)(function({model:e,exportSVG:t,yOffset:n=0}){const{classes:o}=g(),r=(0,c.getContainingView)(e),[l,d]=(0,s.useState)(),{lineZoneHeight:a,snps:x}=e,{dynamicBlocks:f}=r,u=f.contentBlocks[0]?.widthPx||0,p=x.length;if(0===p)return null;const j=l?(l.idx+.5)*u/p:0;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(m,{exportSVG:t,model:e,yOffset:n,children:[(0,h.jsx)(y,{model:e,setMouseOverLine:d}),l?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("line",{stroke:"#f00c",strokeWidth:2,style:{pointerEvents:"none"},x1:j,x2:l.genomicX,y1:a,y2:e.tickHeight}),(0,h.jsx)("line",{stroke:"#f00c",strokeWidth:2,style:{pointerEvents:"none"},x1:l.genomicX,x2:l.genomicX,y1:0,y2:e.tickHeight}),(0,h.jsx)(b,{contents:l.snp.id})]}):null]}),t?null:(0,h.jsx)(i.A,{style:{position:"absolute",top:a-4},onDrag:t=>{e.setLineZoneHeight(a+t)},className:o.resizeHandle})]})})},81818(e,t,n){n.d(t,{A:()=>c});var o=n(77251),s=n(64074),i=n(32118);const r="rgba(59, 130, 246, 0.2)",l="rgb(59, 130, 246)",c=(0,s.observer)(function({model:e,recombination:t,width:n,height:s,exportSVG:c,useGenomicPositions:d,regionStart:a,bpPerPx:x}){const f=t??e?.recombination,h=s??e?.recombinationZoneHeight??50;if(!f||0===f.values.length)return null;const g=h-5-5,m=Math.max(...f.values,.1),u=[];let p,b;const j=f.values.length+1;for(let e=0;e<f.values.length;e++){const t=f.values[e];let o;o=d&&void 0!==a&&x?(f.positions[e]-a)/x:(e+1)*n/j;const s=5+g*(1-t/m);void 0===p&&(p=o),b=o,u.push(`${0===u.length?"M":"L"} ${o.toFixed(1)} ${s.toFixed(1)}`)}if(u.length<2||void 0===p||void 0===b)return null;const y=5+g,v=`${u.join(" ")} L ${b.toFixed(1)} ${y.toFixed(1)} L ${p.toFixed(1)} ${y.toFixed(1)} Z`;return c?(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:v,...(0,o.getFillProps)(r)}),(0,i.jsx)("path",{d:u.join(" "),fill:"none",...(0,o.getStrokeProps)(l),strokeWidth:1.5})]}):(0,i.jsxs)("svg",{style:{position:"absolute",left:0,top:0,width:n,height:h,pointerEvents:"none"},children:[(0,i.jsx)("path",{d:v,fill:r}),(0,i.jsx)("path",{d:u.join(" "),fill:"none",stroke:l,strokeWidth:1.5})]})})}}]);
//# sourceMappingURL=7896.fd6ced9c.chunk.js.map