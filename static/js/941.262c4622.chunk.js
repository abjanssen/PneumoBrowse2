"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[941],{20941(e,t,n){n.r(t),n.d(t,{default:()=>q});var s=n(30128),o=n(51049),a=n(23886),r=n(46625),i=n(10533),d=n(49328),l=n(28508),c=n(91383),u=n(44460);const p=(0,c.A)((0,u.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var m=n(54825),g=n(35703),A=n(23149),x=n(77819),h=n(59705),v=n(58705),b=n(51691),f=n(69566),y=n(29835),j=n(55614),S=n(16640),w=n(34230),M=n(78566),C=n(30097),I=n(30865);function N(e,t){const{pluginManager:n}=(0,a.getEnv)(t);return!!(0,S.zA)(t)&&t.sessionPlugins.some(t=>n.pluginMetadata[e.name]?.url===t.url)}const P=(0,s.lazy)(()=>n.e(2783).then(n.bind(n,72783))),R=(0,r.n)()(()=>({iconMargin:{marginRight:"0.5rem"}}));function k(){const e=(0,j.c)(3),{classes:t}=R();let n,s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,u.jsx)("span",{children:(0,u.jsx)(h.A,{disabled:!0,children:(0,u.jsx)(M.A,{})})}),e[0]=n):n=e[0],e[1]!==t.iconMargin?(s=(0,u.jsx)(C.A,{className:t.iconMargin,title:"This plugin was installed by an administrator, you cannot remove it.",children:n}),e[1]=t.iconMargin,e[2]=s):s=e[2],s}const G=(0,f.observer)(function({plugin:e,model:t}){const{classes:n}=R(),{pluginManager:s}=(0,a.getEnv)(t),o=(0,a.getSession)(t),{jbrowse:r,adminMode:i}=o;return(0,u.jsx)(C.A,{className:n.iconMargin,title:"Uninstall plugin",children:(0,u.jsx)(h.A,{"data-testid":`removePlugin-${e.name}`,onClick:()=>{o.queueDialog(t=>[P,{plugin:e.name,onClose:n=>{if(n){const t=s.pluginMetadata[e.name];i?r.removePlugin(t):(0,S.zA)(o)&&o.removeSessionPlugin(t)}t()}}])},children:(0,u.jsx)(w.A,{})})})}),L=(0,f.observer)(function({plugin:e,model:t}){const n=(0,a.getSession)(t),{adminMode:s}=n;return(0,u.jsxs)(I.Ay,{children:[s||N(e,n)?(0,u.jsx)(G,{plugin:e,model:t}):(0,u.jsx)(k,{}),(0,u.jsx)(m.A,{children:[e.name,e.version?`(v${e.version})`:""].filter(e=>!!e).join(" ")})]},e.name)}),T=(0,f.observer)(function({pluginManager:e,model:t}){const{plugins:n}=e,{filterText:s}=t,o=n.filter(t=>!e.pluginMetadata[t.name]?.isCore);return(0,u.jsx)(y.A,{children:o.length>0?o.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())).map(e=>(0,u.jsx)(L,{plugin:e,model:t},e.name)):(0,u.jsx)(m.A,{children:"No plugins currently installed"})})});var E=n(12919),F=n(11218);const z=(0,c.A)((0,u.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),$=(0,c.A)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var V=n(57827),B=n(25489),W=n(71441);const _=(0,r.n)()({card:{margin:"0.5em"},bold:{fontWeight:600},dataField:{display:"flex",alignItems:"center"},mr:{marginRight:"0.5em"}}),D=(0,f.observer)(function({plugin:e,model:t}){const{classes:n}=_(),o=(0,a.getSession)(t),{pluginManager:r}=(0,a.getEnv)(t),{runtimePluginDefinitions:i}=r,d=i.some(t=>"url"in t&&t.url===e.url),[l,c]=(0,s.useState)(!1),{adminMode:p,jbrowse:A}=o,{name:x,authors:h,description:v}=e;return(0,u.jsxs)(V.A,{variant:"outlined",className:n.card,children:[(0,u.jsxs)(B.A,{children:[(0,u.jsx)(m.A,{variant:"h5",children:(0,u.jsx)(E.A,{href:`${e.location}#readme`,children:e.name})}),(0,u.jsxs)("div",{className:n.dataField,children:[(0,u.jsx)($,{className:n.mr}),(0,u.jsx)(m.A,{children:h.join(", ")})]}),(0,u.jsx)(m.A,{className:n.bold,children:"Description:"}),(0,u.jsx)(m.A,{children:v})]}),(0,u.jsx)(W.A,{children:(0,u.jsx)(g.A,{variant:"contained",disabled:d||l,startIcon:d?(0,u.jsx)(z,{}):(0,u.jsx)(F.A,{}),onClick:()=>{p?A.addPlugin(e):(0,S.zA)(o)?o.addSessionPlugin(e):o.notify("No way to install plugin"),c(!0)},children:d?"Installed":"Install"})})]},x)}),H=(0,s.lazy)(()=>n.e(166).then(n.bind(n,70166))),Y=(0,r.n)()(e=>({expandIcon:{color:e.palette.tertiary.contrastText},adminBadge:{borderRadius:3,backgroundColor:e.palette.quaternary.main,padding:"1em",display:"flex",alignContent:"center"},customPluginButton:{margin:"1em auto",display:"flex"},mr:{marginRight:"0.3em"},m:{margin:"1em"}})),q=(0,f.observer)(function({model:e}){const{classes:t}=Y(),{plugins:n,error:r}=function(){const[e,t]=(0,s.useState)(),[n,o]=(0,s.useState)();return(0,s.useEffect)(()=>{(async()=>{try{const e=await fetch("https://jbrowse.org/plugin-store/plugins.json");if(!e.ok){const t=await e.text();throw new Error(`HTTP ${e.status} fetching plugins: ${t}`)}const n=await e.json();t(n.plugins)}catch(e){console.error(e),o(e)}})()},[]),{plugins:e,error:n}}(),{filterText:c}=e,[f,y]=(0,s.useState)(c),[,j]=(0,s.useTransition)(),S=(0,a.getSession)(e),{adminMode:w}=S,{pluginManager:M}=(0,i.getEnv)(e);return(0,s.useEffect)(()=>{""===c&&y("")},[c]),(0,u.jsxs)("div",{children:[w&&(0,u.jsxs)(u.Fragment,{children:[!a.isElectron&&(0,u.jsxs)("div",{className:t.adminBadge,children:[(0,u.jsx)(p,{className:t.mr}),(0,u.jsxs)(m.A,{children:["You are using the ",(0,u.jsx)("code",{children:"admin-server"}),". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store."]})]}),(0,u.jsx)(g.A,{className:t.customPluginButton,variant:"contained",onClick:()=>{S.queueDialog(t=>[H,{model:e,onClose:t}])},children:"Add custom plugin"})]}),(0,u.jsx)(A.A,{label:"Filter plugins",value:f,onChange:t=>{const n=t.target.value;y(n),j(()=>{e.setFilterText(n)})},fullWidth:!0,slotProps:{input:{endAdornment:(0,u.jsx)(x.A,{position:"end",children:(0,u.jsx)(h.A,{onClick:()=>{y(""),e.clearFilterText()},children:(0,u.jsx)(d.A,{})})})}}}),(0,u.jsxs)(v.A,{defaultExpanded:!0,children:[(0,u.jsx)(b.A,{expandIcon:(0,u.jsx)(l.A,{className:t.expandIcon}),children:(0,u.jsx)(m.A,{variant:"h5",children:"Installed plugins"})}),(0,u.jsx)("div",{className:t.m,children:(0,u.jsx)(T,{pluginManager:M,model:e})})]}),(0,u.jsxs)(v.A,{defaultExpanded:!0,children:[(0,u.jsx)(b.A,{expandIcon:(0,u.jsx)(l.A,{className:t.expandIcon}),children:(0,u.jsx)(m.A,{variant:"h5",children:"Available plugins"})}),r?(0,u.jsx)(m.A,{color:"error",children:`${r}`}):n?n.filter(e=>!(a.isElectron&&e.cjsUrl)&&e.name.toLowerCase().includes(c.toLowerCase())).map(t=>(0,u.jsx)(D,{plugin:t,model:e},t.name)):(0,u.jsx)(o.A,{})]})]})})},49328(e,t,n){n.d(t,{A:()=>a});var s=n(91383),o=n(44460);const a=(0,s.A)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},34230(e,t,n){n.d(t,{A:()=>a});var s=n(91383),o=n(44460);const a=(0,s.A)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},28508(e,t,n){n.d(t,{A:()=>a});var s=n(91383),o=n(44460);const a=(0,s.A)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},78566(e,t,n){n.d(t,{A:()=>a});var s=n(91383),o=n(44460);const a=(0,s.A)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock")},51691(e,t,n){n.d(t,{A:()=>h});var s=n(30128),o=n(21227),a=n(74533),r=n(80638),i=n(39104),d=n(45639),l=n(51164),c=n(17786),u=n(63180),p=n(30787),m=n(44460);const g=(0,r.Ay)(l.A,{name:"MuiAccordionSummary",slot:"Root"})((0,i.A)(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${u.A.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${u.A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${u.A.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${u.A.expanded}`]:{minHeight:64}}}]}})),A=(0,r.Ay)("span",{name:"MuiAccordionSummary",slot:"Content"})((0,i.A)(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${u.A.expanded}`]:{margin:"20px 0"}}}]}))),x=(0,r.Ay)("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})((0,i.A)(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${u.A.expanded}`]:{transform:"rotate(180deg)"}}))),h=s.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiAccordionSummary"}),{children:r,className:i,expandIcon:l,focusVisibleClassName:h,onClick:v,slots:b,slotProps:f,...y}=n,{disabled:j=!1,disableGutters:S,expanded:w,toggle:M}=s.useContext(c.A),C={...n,expanded:w,disabled:j,disableGutters:S},I=(e=>{const{classes:t,expanded:n,disabled:s,disableGutters:o}=e,r={root:["root",n&&"expanded",s&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,a.A)(r,u.T,t)})(C),N={slots:b,slotProps:f},[P,R]=(0,p.A)("root",{ref:t,shouldForwardComponentProp:!0,className:(0,o.A)(I.root,i),elementType:g,externalForwardedProps:{...N,...y},ownerState:C,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:j,"aria-expanded":w,focusVisibleClassName:(0,o.A)(I.focusVisible,h)},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),(e=>{M&&M(e),v&&v(e)})(t)}})}),[k,G]=(0,p.A)("content",{className:I.content,elementType:A,externalForwardedProps:N,ownerState:C}),[L,T]=(0,p.A)("expandIconWrapper",{className:I.expandIconWrapper,elementType:x,externalForwardedProps:N,ownerState:C});return(0,m.jsxs)(P,{...R,children:[(0,m.jsx)(k,{...G,children:r}),l&&(0,m.jsx)(L,{...T,children:l})]})})},63180(e,t,n){n.d(t,{A:()=>r,T:()=>a});var s=n(26743),o=n(2395);function a(e){return(0,o.Ay)("MuiAccordionSummary",e)}const r=(0,s.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"])},57827(e,t,n){n.d(t,{A:()=>p});var s=n(30128),o=n(21227),a=n(74533),r=n(80638),i=n(45639),d=n(69301),l=n(14071),c=n(44460);const u=(0,r.Ay)(d.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),p=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiCard"}),{className:s,raised:r=!1,...d}=n,p={...n,raised:r},m=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},l.T,t)})(p);return(0,c.jsx)(u,{className:(0,o.A)(m.root,s),elevation:r?8:void 0,ref:t,ownerState:p,...d})})},14071(e,t,n){n.d(t,{A:()=>r,T:()=>a});var s=n(26743),o=n(2395);function a(e){return(0,o.Ay)("MuiCard",e)}const r=(0,s.A)("MuiCard",["root"])},71441(e,t,n){n.d(t,{A:()=>u});var s=n(30128),o=n(21227),a=n(74533),r=n(80638),i=n(45639),d=n(91297),l=n(44460);const c=(0,r.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),u=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:r,...u}=n,p={...n,disableSpacing:s},m=(e=>{const{classes:t,disableSpacing:n}=e,s={root:["root",!n&&"spacing"]};return(0,a.A)(s,d.E,t)})(p);return(0,l.jsx)(c,{className:(0,o.A)(m.root,r),ownerState:p,ref:t,...u})})},91297(e,t,n){n.d(t,{A:()=>r,E:()=>a});var s=n(26743),o=n(2395);function a(e){return(0,o.Ay)("MuiCardActions",e)}const r=(0,s.A)("MuiCardActions",["root","spacing"])},25489(e,t,n){n.d(t,{A:()=>u});var s=n(30128),o=n(21227),a=n(74533),r=n(80638),i=n(45639),d=n(11169),l=n(44460);const c=(0,r.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),u=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiCardContent"}),{className:s,component:r="div",...u}=n,p={...n,component:r},m=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},d.h,t)})(p);return(0,l.jsx)(c,{as:r,className:(0,o.A)(m.root,s),ownerState:p,ref:t,...u})})},11169(e,t,n){n.d(t,{A:()=>r,h:()=>a});var s=n(26743),o=n(2395);function a(e){return(0,o.Ay)("MuiCardContent",e)}const r=(0,s.A)("MuiCardContent",["root"])},30865(e,t,n){n.d(t,{Ay:()=>f});var s=n(30128),o=n(21227),a=n(74533),r=n(39519),i=n(80638),d=n(39104),l=n(45639),c=n(46558),u=n(44330),p=n(30787),m=n(48420),g=n(1857),A=n(37357),x=n(79653),h=n(44460);const v=(0,i.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})((0,d.A)(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${A.A.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),b=(0,i.Ay)("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),f=s.forwardRef(function(e,t){const n=(0,l.b)({props:e,name:"MuiListItem"}),{alignItems:i="center",children:d,className:A,component:f,components:y={},componentsProps:j={},ContainerComponent:S="li",ContainerProps:{className:w,...M}={},dense:C=!1,disableGutters:I=!1,disablePadding:N=!1,divider:P=!1,secondaryAction:R,slotProps:k={},slots:G={},...L}=n,T=s.useContext(m.A),E=s.useMemo(()=>({dense:C||T.dense||!1,alignItems:i,disableGutters:I}),[i,T.dense,C,I]),F=s.useRef(null),z=s.Children.toArray(d),$=z.length&&(0,c.A)(z[z.length-1],["ListItemSecondaryAction"]),V={...n,alignItems:i,dense:E.dense,disableGutters:I,disablePadding:N,divider:P,hasSecondaryAction:$},B=(e=>{const{alignItems:t,classes:n,dense:s,disableGutters:o,disablePadding:r,divider:i,hasSecondaryAction:d}=e,l={root:["root",s&&"dense",!o&&"gutters",!r&&"padding",i&&"divider","flex-start"===t&&"alignItemsFlexStart",d&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]};return(0,a.A)(l,g._,n)})(V),W=(0,u.A)(F,t),_={slots:G,slotProps:k},[D,H]=(0,p.A)("secondaryAction",{elementType:x.A,externalForwardedProps:_,ownerState:V,className:B.secondaryAction}),Y=G.root||y.Root||v,q=k.root||j.root||{},O={className:(0,o.A)(B.root,q.className,A),...L};let U=f||"li";return $?(U=O.component||f?U:"div","li"===S&&("li"===U?U="div":"li"===O.component&&(O.component="div")),(0,h.jsx)(m.A.Provider,{value:E,children:(0,h.jsxs)(b,{as:S,className:(0,o.A)(B.container,w),ref:W,ownerState:V,...M,children:[(0,h.jsx)(Y,{...q,...!(0,r.A)(Y)&&{as:U,ownerState:{...V,...q.ownerState}},...O,children:z}),z.pop()]})})):(0,h.jsx)(m.A.Provider,{value:E,children:(0,h.jsxs)(Y,{...q,as:U,ref:W,...!(0,r.A)(Y)&&{ownerState:{...V,...q.ownerState}},...O,children:[z,R&&(0,h.jsx)(D,{...H,children:R})]})})})},1857(e,t,n){n.d(t,{A:()=>r,_:()=>a});var s=n(26743),o=n(2395);function a(e){return(0,o.Ay)("MuiListItem",e)}const r=(0,s.A)("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"])},37357(e,t,n){n.d(t,{A:()=>r,Y:()=>a});var s=n(26743),o=n(2395);function a(e){return(0,o.Ay)("MuiListItemButton",e)}const r=(0,s.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"])},79653(e,t,n){n.d(t,{A:()=>m});var s=n(30128),o=n(21227),a=n(74533),r=n(80638),i=n(45639),d=n(48420),l=n(14621),c=n(44460);const u=(0,r.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),p=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...p}=n,m=s.useContext(d.A),g={...n,disableGutters:m.disableGutters},A=(e=>{const{disableGutters:t,classes:n}=e,s={root:["root",t&&"disableGutters"]};return(0,a.A)(s,l.g,n)})(g);return(0,c.jsx)(u,{className:(0,o.A)(A.root,r),ownerState:g,ref:t,...p})});p.muiName="ListItemSecondaryAction";const m=p},14621(e,t,n){n.d(t,{A:()=>r,g:()=>a});var s=n(26743),o=n(2395);function a(e){return(0,o.Ay)("MuiListItemSecondaryAction",e)}const r=(0,s.A)("MuiListItemSecondaryAction",["root","disableGutters"])}}]);
//# sourceMappingURL=941.262c4622.chunk.js.map