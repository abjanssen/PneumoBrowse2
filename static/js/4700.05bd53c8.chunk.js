"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[4144,4700],{62568:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(67758),a=t(99546),r=t(69500);function i(e){const n=(0,s.c)(5),{feature:t}=e,i=t.strand;let l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={"-1":"-",0:"",1:"+"},n[0]=l):l=n[0];const o=l,c=o[i]?`(${o[i]})`:"";let d;n[1]!==t?(d=(0,a.assembleLocString)(t),n[1]=t,n[2]=d):d=n[2];const u=`${d} ${c}`;let f;return n[3]!==u?(f=(0,r.jsx)(r.Fragment,{children:u}),n[3]=u,n[4]=f):f=n[4],f}var l=t(32106);function o(e){const n=(0,s.c)(3),{feature:t}=e,o=t;let u;if(n[0]!==o||n[1]!==e){const t={...o,...o.__jbrowsefmt},{start:s,end:f}=t,m={...t,length:(0,a.toLocale)(f-s)},x={description:"Description",name:"Name",length:"Length",type:"Type"};u=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{name:"Position",value:(0,r.jsx)(i,{...e,feature:t})}),Object.entries(x).map(e=>{const[n,t]=e;return[t,m[n]]}).filter(d).map(c)]}),n[0]=o,n[1]=e,n[2]=u}else u=n[2];return u}function c(e){const[n,t]=e;return(0,r.jsx)(l.A,{name:n,value:Array.isArray(t)?t.join(", "):t},n)}function d(e){const[,n]=e;return null!=n}},64700:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var s=t(87083),a=t(84144),r=t(95054),i=t(68446),l=t(67758),o=t(7552),c=t(31409),d=t.n(c),u=t(69500);function f(e){const n=(0,l.c)(4),{value:t}=e,[s,a]=(0,o.useState)(!1),[r,i]=(0,o.useState)(!1),c=String(t);let f;return n[0]!==r||n[1]!==c||n[2]!==s?(f=c.length>100?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{type:"button",onClick:()=>{d()(c),i(!0),setTimeout(()=>{i(!1)},700)},children:r?"Copied to clipboard":"Copy"}),(0,u.jsx)("button",{type:"button",onClick:()=>{a(m)},children:s?"Show less":"Show more"}),(0,u.jsx)("div",{children:s?c:`${c.slice(0,100)}...`})]}):(0,u.jsx)("div",{children:c}),n[0]=r,n[1]=c,n[2]=s,n[3]=f):f=n[3],f}function m(e){return!e}var x=t(99546),h=t(65895);const j=(0,o.lazy)(()=>t.e(3301).then(t.bind(t,33301))),p=(0,i.observer)(function({model:e,feat:n}){const{view:t,level:s,trackId:a}=e;return(0,u.jsxs)("ul",{children:["LinearSyntenyView"===t.type?(0,u.jsx)("li",{children:(0,u.jsx)(h.A,{href:"#",onClick:a=>{a.preventDefault();const{views:r}=t;if(void 0!==s)r[s]?.navTo(n),r[s+1]?.navTo(n.mate);else{const t=n,s=n.mate,a=t.assemblyName,i=s.assemblyName,l=r.find(e=>e.assemblyNames[0]===a),o=r.find(e=>e.assemblyNames[0]===i);l&&o||(0,x.getSession)(e).notify([l?`Unable to find ${(0,x.assembleLocString)(t)} in synteny view`:"",o?`Unable to find ${(0,x.assembleLocString)(s)} in synteny view`:""].join(" ... ")),l?.navTo(t),o?.navTo(s)}},children:"Center view on this feature"})}):null,(0,u.jsx)("li",{children:(0,u.jsx)(h.A,{href:"#",onClick:t=>{t.preventDefault();const s=new x.SimpleFeature(n),r=(0,x.getSession)(e);r.queueDialog(e=>[j,{session:r,feature:s,trackId:a,handleClose:e}])},children:"Launch new linear synteny view on this feature"})})]})}),v=(0,i.observer)(function(e){const{model:n}=e,{featureData:t}=n,i=structuredClone(t);return i?(0,u.jsxs)(r.A,{children:[(0,u.jsx)(a.default,{...e,feature:i,formatter:e=>(0,u.jsx)(f,{value:e})}),(0,u.jsx)(s.default,{title:"Link to view",children:(0,u.jsx)(p,{model:n,feat:i})})]}):(0,u.jsx)("div",{children:"No feature loaded, may not be available after page refresh because it was too large for localStorage"})})},84144:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var s=t(67758),a=t(57468),r=t(61282),i=t(41450),l=t(1178),o=t(7552),c=t(15897),d=t(91818),u=t(69092),f=t(89870),m=t(68446),x=t(75785),h=t(67112),j=t(99546),p=t(69500);const v=(0,o.lazy)(()=>t.e(7428).then(t.bind(t,27428))),b=(0,o.lazy)(()=>t.e(8624).then(t.bind(t,38624))),g=(0,x.n9)()(e=>({formControl:{margin:0},container:{marginTop:e.spacing(4),marginBottom:e.spacing(4)}})),y=(0,m.observer)(function({model:e,feature:n}){const{classes:t}=g(),[s,a]=(0,o.useState)(!1);return(0,p.jsxs)("div",{className:t.container,children:[(0,p.jsx)(d.A,{className:t.formControl,children:(0,p.jsx)(u.A,{variant:"contained",onClick:()=>{a(!s)},children:s?"Hide feature sequence":"Show feature sequence"})}),(0,p.jsx)(f.A,{onClick:()=>{(0,j.getSession)(e).queueDialog(e=>[b,{handleClose:e}])},children:(0,p.jsx)(c.A,{})}),s?(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)(h.LoadingEllipses,{}),children:(0,p.jsx)(v,{model:e,feature:n},n.uniqueId)}):null]})});var A=t(35300),S=t(87083),w=t(62568);const C=["name","start","end","strand","refName","description","type"];function k(e){const n=(0,s.c)(41),{omit:t,model:o,feature:c,depth:d}=e;let u;n[0]!==t?(u=void 0===t?[]:t,n[0]=t,n[1]=u):u=n[1];const f=u,m=void 0===d?0:d,{maxDepth:x}=o,{mate:h,name:v,id:b,type:g,subfeatures:_,uniqueId:D}=c,L=void 0===v?"":v,T=void 0===b?"":b,$=void 0===g?"":g;let q;if(n[2]!==c||n[3]!==o){const e=(0,j.getEnv)(o).pluginManager,t=(0,j.getSession)(o);q=e.evaluateExtensionPoint("Core-extraFeaturePanel",null,{session:t,feature:c,model:o}),n[2]=c,n[3]=o,n[4]=q}else q=n[4];const F=q,E=h;let I,P,z,M,O,U,B,H,J,K,V;return n[5]!==T||n[6]!==L||n[7]!==$?(I=(0,l.KS)(L,T,$),n[5]=T,n[6]=L,n[7]=$,n[8]=I):I=n[8],n[9]===Symbol.for("react.memo_cache_sentinel")?(P=(0,p.jsx)(r.A,{children:"Core details"}),n[9]=P):P=n[9],n[10]!==e?(z=(0,p.jsx)(w.A,{...e}),n[10]=e,n[11]=z):z=n[11],n[12]!==E||n[13]!==e||n[14]!==D?(M=E?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.A,{}),(0,p.jsx)(r.A,{children:"Mate details"}),(0,p.jsx)(w.A,{...e,feature:{...E,start:E.start,end:E.end,refName:E.refName,uniqueId:`${D}-mate`}})]}):null,n[12]=E,n[13]=e,n[14]=D,n[15]=M):M=n[15],n[16]===Symbol.for("react.memo_cache_sentinel")?(O=(0,p.jsx)(i.A,{}),U=(0,p.jsx)(r.A,{children:"Attributes"}),n[16]=O,n[17]=U):(O=n[16],U=n[17]),n[18]!==c||n[19]!==f||n[20]!==e?(B=(0,p.jsx)(A.default,{attributes:c,...e,omit:f,omitSingleLevel:C}),n[18]=c,n[19]=f,n[20]=e,n[21]=B):B=n[21],n[22]!==e?(H=(0,p.jsx)(a.t,{FallbackComponent:N,children:(0,p.jsx)(y,{...e})}),n[22]=e,n[23]=H):H=n[23],n[24]!==F||n[25]!==e?(J=F?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.A,{}),(0,p.jsx)(S.default,{title:F.name,children:(0,p.jsx)(F.Component,{...e})})]}):null,n[24]=F,n[25]=e,n[26]=J):J=n[26],n[27]!==m||n[28]!==x||n[29]!==o||n[30]!==_||n[31]!==D?(K=m<x&&_?.length?(0,p.jsx)(S.default,{title:"Subfeatures",defaultExpanded:m<1,children:_.map((e,n)=>(0,p.jsx)(k,{feature:{...e,uniqueId:`${D}_${n}`},model:o,depth:m+1},JSON.stringify(e)))}):null,n[27]=m,n[28]=x,n[29]=o,n[30]=_,n[31]=D,n[32]=K):K=n[32],n[33]!==M||n[34]!==B||n[35]!==H||n[36]!==J||n[37]!==K||n[38]!==I||n[39]!==z?(V=(0,p.jsxs)(S.default,{title:I,children:[P,z,M,O,U,B,H,J,K]}),n[33]=M,n[34]=B,n[35]=H,n[36]=J,n[37]=K,n[38]=I,n[39]=z,n[40]=V):V=n[40],V}function N(e){return(0,p.jsx)(h.ErrorMessage,{error:e.error})}},87083:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var s=t(67758),a=t(48759),r=t(61282),i=t(75068),l=t(3032),o=t(76386),c=t(75785),d=t(69500);const u=(0,c.n9)()(e=>({expansionPanelDetails:{display:"block",padding:e.spacing(1)},icon:{color:e.palette.tertiary.contrastText||"#fff"}}));function f(e){const n=(0,s.c)(14),{children:t,title:c,defaultExpanded:f}=e,m=void 0===f||f,{classes:x}=u();let h,j,p,v,b;return n[0]!==x.icon?(h=(0,d.jsx)(a.A,{className:x.icon}),n[0]=x.icon,n[1]=h):h=n[1],n[2]!==c?(j=(0,d.jsx)(r.A,{variant:"button",children:c}),n[2]=c,n[3]=j):j=n[3],n[4]!==h||n[5]!==j?(p=(0,d.jsx)(i.A,{expandIcon:h,children:j}),n[4]=h,n[5]=j,n[6]=p):p=n[6],n[7]!==t||n[8]!==x.expansionPanelDetails?(v=(0,d.jsx)(l.A,{className:x.expansionPanelDetails,children:t}),n[7]=t,n[8]=x.expansionPanelDetails,n[9]=v):v=n[9],n[10]!==m||n[11]!==p||n[12]!==v?(b=(0,d.jsxs)(o.A,{defaultExpanded:m,children:[p,v]}),n[10]=m,n[11]=p,n[12]=v,n[13]=b):b=n[13],b}}}]);
//# sourceMappingURL=4700.05bd53c8.chunk.js.map