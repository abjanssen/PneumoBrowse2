"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[4630],{74630:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(67758),o=n(7552),s=n(62266),i=n(61282),c=n(76218),a=n(69092),l=n(30698),u=n(31409),w=n.n(u),h=n(1631),d=n(75785),p=n(92562),f=n(58531),b=n(37565),x=n(69500);async function j(e){const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status} fetching ${e}: ${await t.text()}`);return t}const g={};async function m(e){if(void 0!==g[e])return g[e];const t=new URL(e).search,n=await async function(e){return(await j(e)).text()}(e);let r=new RegExp(/\/\/# sourceMappingURL=(.*)/).exec(n)?.[1]||"";r=new URL(r,e).href+t;const o=await async function(e){return(await j(e)).json()}(r),s=new h.SourceMapConsumer(o);return g[e]=s,s}const $=1e4,k=(0,d.n9)()(e=>({pre:{background:(0,s.X4)(e.palette.error.main,.2),border:`1px solid ${e.palette.divider}`,overflow:"auto",margin:20,maxHeight:300}}));function y(e){const t=(0,r.c)(23),{text:n,extra:o}=e,{classes:s}=k();let c,a;t[0]!==o?(c=o?`supporting data: ${JSON.stringify(o,null,2)}`:"",t[0]=o,t[1]=c):c=t[1],t[2]!==c||t[3]!==n?(a=["I got this error from JBrowse, here is the stack trace:\n","```",n,"```",c],t[2]=c,t[3]=n,t[4]=a):a=t[4];const l=encodeURIComponent(`${a.join("\n")}\n`);let u,w;t[5]!==o?(u=o?`supporting data: ${JSON.stringify(o,null,2)}`:"",t[5]=o,t[6]=u):u=t[6],t[7]!==u||t[8]!==n?(w=[n,u],t[7]=u,t[8]=n,t[9]=w):w=t[9];const h=w.join("\n"),d=`https://github.com/GMOD/jbrowse-components/issues/new?labels=bug&title=JBrowse+issue&body=${l}`,p=`mailto:jbrowse2@berkeley.edu?subject=JBrowse%202%20error&body=${l}`;let b,j,g,m,$;return t[10]!==d?(b=(0,x.jsx)(f.A,{href:d,children:"GitHub"}),t[10]=d,t[11]=b):b=t[11],t[12]!==p?(j=(0,x.jsx)(f.A,{href:p,children:"jbrowse2@berkeley.edu"}),t[12]=p,t[13]=j):j=t[13],t[14]!==b||t[15]!==j?(g=(0,x.jsxs)(i.A,{children:["Post a new issue at"," ",b," or send an email to ",j," "]}),t[14]=b,t[15]=j,t[16]=g):g=t[16],t[17]!==s.pre||t[18]!==h?(m=(0,x.jsx)("pre",{className:s.pre,children:h}),t[17]=s.pre,t[18]=h,t[19]=m):m=t[19],t[20]!==g||t[21]!==m?($=(0,x.jsxs)(x.Fragment,{children:[g,m]}),t[20]=g,t[21]=m,t[22]=$):$=t[22],$}function C(e){const t=(0,r.c)(30),{error:n,onClose:s,extra:i}=e,[u,h]=(0,o.useState)(),[d,f]=(0,o.useState)(),[j,g]=(0,o.useState)(!1),k=`${"object"==typeof n&&null!==n&&"stack"in n?n.stack:""}`,C=n?`${n}`:"";let A;t[0]!==C||t[1]!==k?(A=function(e,t){if(e.startsWith("Error:")){const n=`${t}`;return e.slice(n.length)}return e}(k,C),t[0]=C,t[1]=k,t[2]=A):A=t[2];const S=A;let J,B;t[3]!==S?(J=()=>{(async()=>{try{const e=await async function(e){const t=e.split("\n"),n=[];for(const e of t){const t=new RegExp(/(.*)(https?:\/\/.*):(\d+):(\d+)/).exec(e);if(null===t){n.push(e);continue}const r=t[2],o=(await m(r)).originalPositionFor({line:Number.parseInt(t[3]),column:Number.parseInt(t[4])});o.source&&o.line&&o.column?n.push(`${o.source}:${o.line}:${o.column+1} (${t[1].trim()})`):n.push(e)}return n.join("\n")}(S);h(e)}catch(e){const t=e;console.error(t),h(S),f(t)}})()},B=[S],t[3]=S,t[4]=J,t[5]=B):(J=t[4],B=t[5]),(0,o.useEffect)(J,B);const E=d?"Error loading source map, showing raw stack trace below:":"";let N;t[6]!==C?(N=C.length>$?`${C.slice(0,$)}...`:C,t[6]=C,t[7]=N):N=t[7];const R=u||"No stack trace available";let T;t[8]!==E||t[9]!==N||t[10]!==R?(T=[E,N,R,window.JBrowseSession?`JBrowse ${window.JBrowseSession.version}`:""].filter(v),t[8]=E,t[9]=N,t[10]=R,t[11]=T):T=t[11];const I=T.join("\n");let U,_;t[12]!==I||t[13]!==i||t[14]!==u?(U=(0,x.jsx)(c.A,{children:void 0===u?(0,x.jsx)(b.A,{variant:"h6"}):(0,x.jsx)(y,{text:I,extra:i})}),t[12]=I,t[13]=i,t[14]=u,t[15]=U):U=t[15],t[16]!==I?(_=()=>{w()(I),g(!0),setTimeout(()=>{g(!1)},1e3)},t[16]=I,t[17]=_):_=t[17];const H=j?"Copied!":"Copy stack trace to clipboard";let L,M,O,P;return t[18]!==H||t[19]!==_?(L=(0,x.jsx)(a.A,{variant:"contained",color:"secondary",onClick:_,children:H}),t[18]=H,t[19]=_,t[20]=L):L=t[20],t[21]!==s?(M=(0,x.jsx)(a.A,{variant:"contained",color:"primary",onClick:s,children:"Close"}),t[21]=s,t[22]=M):M=t[22],t[23]!==L||t[24]!==M?(O=(0,x.jsxs)(l.A,{children:[L,M]}),t[23]=L,t[24]=M,t[25]=O):O=t[25],t[26]!==s||t[27]!==O||t[28]!==U?(P=(0,x.jsxs)(p.A,{open:!0,onClose:s,title:"Stack trace",maxWidth:"xl",children:[U,O]}),t[26]=s,t[27]=O,t[28]=U,t[29]=P):P=t[29],P}function v(e){return!!e}}}]);
//# sourceMappingURL=4630.c1877d19.chunk.js.map