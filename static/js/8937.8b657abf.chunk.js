"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[8937],{39630(e,t,n){n.d(t,{K:()=>f,y:()=>p});var a=n(77251),s=n(8201),i=n(52901),o=n(70203),r=n(99226),d=n(42456),g=n(38567),c=n(86470);function p({self:e,rpcMethodName:t,getRPCParams:n,onResult:d}){return async()=>{const c=(0,a.getContainingView)(e);if(!c.initialized||e.error||!e.featureDensityStatsReadyAndRegionNotTooLarge)return;const{bpPerPx:p}=c;try{const s=(0,a.getSession)(e),{rpcManager:f,assemblyManager:u}=s,l=c.assemblyNames[0];if(!l)return;const P=u.get(l),m=P?.configuration?.sequence?.adapter,R=m?(0,r.getSnapshot)(m):void 0,h=(0,g.untracked)(()=>e.renderingStopToken);h&&(0,i.CF)(h);const y=(0,i.y5)();e.setRenderingStopToken(y),e.setLoading(!0);const b={displayedRegions:structuredClone(c.displayedRegions),bpPerPx:c.bpPerPx,offsetPx:c.offsetPx,interRegionPaddingWidth:c.interRegionPaddingWidth,minimumBlockWidth:c.minimumBlockWidth,width:c.width},w=(0,o.getRpcSessionId)(e),k=e.adapterConfig,v=(0,r.getSnapshot)(e.configuration),C=await f.call(w,t,{sessionId:w,view:b,adapterConfig:k,sequenceAdapter:R,config:v,statusCallback:t=>{(0,r.isAlive)(e)&&e.setStatusMessage?.(t)},stopToken:y,...n({view:c,session:s,sequenceAdapter:R,stopToken:y})});C.imageData&&(e.setRenderingImageData(C.imageData),void 0!==C.offsetPx&&e.setLastDrawnOffsetPx(C.offsetPx),d(C)),e.setLastDrawnBpPerPx(p)}catch(t){(0,s.Kp)(t)||e.setError(t)}finally{e.setRenderingStopToken(void 0),e.setLoading(!1)}}}function f(e){(0,c.vi)(e,async()=>{(0,d.y6)(e.ref,e.renderingImageData)},{name:"CanvasRenderAutorun"})}},68937(e,t,n){n.d(t,{doAfterAttachRPC:()=>o});var a=n(99226),s=n(39630),i=n(86470);function o(e){const t=(0,s.y)({self:e,rpcMethodName:"RenderLinearReadArcsDisplay",getRPCParams:()=>e.renderProps(),onResult:()=>{}});(0,i.vi)(e,async()=>{(0,a.isAlive)(e)&&t()},{delay:1e3,name:"PerformRender"}),(0,s.K)(e)}}}]);
//# sourceMappingURL=8937.8b657abf.chunk.js.map