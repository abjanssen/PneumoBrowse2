"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7586],{17586(e,t,n){n.d(t,{renderSvg:()=>h});var s=n(23886),i=n(19608),r=n(27518),a=n(10533),l=n(83252),c=n(44460);async function h(e,t){const n=(0,s.getContainingView)(e),h=(0,s.getSession)(e),{rpcManager:o,assemblyManager:d}=h,g=t.overrideHeight??e.height,x=n.assemblyNames[0],u=x?d.get(x):void 0,f=u?.configuration?.sequence?.adapter,m=f?(0,a.getSnapshot)(f):void 0,p=structuredClone({...(0,a.getSnapshot)(n),staticBlocks:n.staticBlocks,width:n.width}),w=(0,i.getRpcSessionId)(e),b=await o.call(w,"RenderLinearReadArcsDisplay",{sessionId:w,view:p,adapterConfig:e.adapterConfig,sequenceAdapter:m,config:(0,a.getSnapshot)(e.configuration),...e.renderProps(),height:g,exportSVG:t,theme:t.theme}),j=await(0,r.MD)(b,n.staticBlocks.totalWidthPx,g),k=n.width,y=`clip-${e.id}-svg`,S=e.showLegend?e.legendItems():[];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:y,children:(0,c.jsx)("rect",{x:0,y:0,width:k,height:g})})}),(0,c.jsx)("g",{clipPath:`url(#${y})`,children:(0,c.jsx)("g",{transform:`translate(${Math.max(0,-n.offsetPx)} 0)`,children:(0,c.jsx)(r.aE,{rendering:j})})}),S.length>0?(0,c.jsx)(l.A,{items:S,width:k,legendAreaWidth:t.legendWidth}):null]})}},83252(e,t,n){n.d(t,{A:()=>a});var s=n(55614),i=n(23886),r=n(44460);function a(e){const t=(0,s.c)(12),{items:n,width:i,legendAreaWidth:a}=e;if(0===n.length)return null;const c=14*n.length+6;let h;t[0]!==n?(h=Math.max(...n.map(l)),t[0]=n,t[1]=h):h=t[1];const o=20+h+6,d=`translate(${a?i+10:i-o-10}, 10)`;let g,x,u;if(t[2]!==c||t[3]!==o?(g=(0,r.jsx)("rect",{x:0,y:0,width:o,height:c,fill:"rgba(255,255,255,0.9)",stroke:"#ccc",strokeWidth:1,rx:4}),t[2]=c,t[3]=o,t[4]=g):g=t[4],t[5]!==n){let e;t[7]===Symbol.for("react.memo_cache_sentinel")?(e=(e,t)=>(0,r.jsxs)("g",{transform:`translate(3, ${3+14*t})`,children:[e.color?(0,r.jsx)("rect",{x:0,y:0,width:12,height:12,fill:e.color}):null,(0,r.jsx)("text",{x:18,y:10,fontSize:10,fill:"black",children:e.label})]},`legend-${t}`),t[7]=e):e=t[7],x=n.map(e),t[5]=n,t[6]=x}else x=t[6];return t[8]!==d||t[9]!==g||t[10]!==x?(u=(0,r.jsxs)("g",{transform:d,children:[g,x]}),t[8]=d,t[9]=g,t[10]=x,t[11]=u):u=t[11],u}function l(e){return(0,i.measureText)(e.label,10)}}}]);
//# sourceMappingURL=7586.f68b1020.chunk.js.map