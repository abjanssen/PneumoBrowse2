"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1531],{13128:(e,t,o)=>{o.d(t,{A:()=>w});var n=o(99546),r=o(68446),s=o(67758),i=o(69500);const l=e=>{const t=(0,s.c)(5),{color:o}=e,r=void 0===o?"rgb(255,255,255,0.8)":o;let l,a;return t[0]!==r?(l=(0,n.getFillProps)(r),t[0]=r,t[1]=l):l=t[1],t[2]!==e||t[3]!==l?(a=(0,i.jsx)("rect",{...e,...l}),t[2]=e,t[3]=l,t[4]=a):a=t[4],a},a=function(e){const t=(0,s.c)(18),{source:o,idx:n,rowHeight:r,labelWidth:a,model:c,exportSVG:h}=e,d=Math.min(20,r),{needsCustomLegend:x,graphType:g,needsFullHeightScalebar:u,rowHeightTooSmallForScalebar:m,renderColorBoxes:p}=c,w=p?15:0,j=a+w+5,f=(h?10:0)||(g&&!m?50:0);let b,S,V;return t[0]!==d||t[1]!==f||t[2]!==n||t[3]!==j||t[4]!==u||t[5]!==r?(b=u?null:(0,i.jsx)(l,{y:n*r+1,x:f,width:j,height:d}),t[0]=d,t[1]=f,t[2]=n,t[3]=j,t[4]=u,t[5]=r,t[6]=b):b=t[6],t[7]!==d||t[8]!==w||t[9]!==f||t[10]!==n||t[11]!==x||t[12]!==r||t[13]!==o.color?(S=o.color?(0,i.jsx)(l,{y:n*r+1,x:f,width:w,height:x?r:d,color:o.color}):null,t[7]=d,t[8]=w,t[9]=f,t[10]=n,t[11]=x,t[12]=r,t[13]=o.color,t[14]=S):S=t[14],t[15]!==b||t[16]!==S?(V=(0,i.jsxs)(i.Fragment,{children:[b,S]}),t[15]=b,t[16]=S,t[17]=V):V=t[17],V},c=function(e){const t=(0,s.c)(8),{source:o,idx:n,rowHeight:r,model:l,exportSVG:a}=e,{graphType:c,rowHeightTooSmallForScalebar:h,renderColorBoxes:d}=l,x=Math.min(r,12),g=r>=6,u=d?15:0,m=(a?10:0)||(c&&!h?50:0);let p;return t[0]!==g||t[1]!==u||t[2]!==m||t[3]!==n||t[4]!==r||t[5]!==o||t[6]!==x?(p=g?(0,i.jsx)("text",{y:n*r+13,x:m+u+2,fontSize:x,children:o.name}):null,t[0]=g,t[1]=u,t[2]=m,t[3]=n,t[4]=r,t[5]=o,t[6]=x,t[7]=p):p=t[7],p},h=(0,r.observer)(function({model:e,rowHeight:t,exportSVG:o}){const{graphType:n,needsFullHeightScalebar:r,rowHeightTooSmallForScalebar:s,renderColorBoxes:h,sources:d,labelWidth:x}=e,g=x+(h?15:0)+5,u=(o?10:0)||(n&&!s?50:0);return d?(0,i.jsxs)(i.Fragment,{children:[r?(0,i.jsx)(l,{y:0,x:u,width:g,height:(d.length+.25)*t}):null,d.map((n,r)=>(0,i.jsx)(a,{source:n,idx:r,model:e,rowHeight:t,exportSVG:o,labelWidth:x},`${n.name}-${r}`)),d.map((n,r)=>(0,i.jsx)(c,{source:n,idx:r,model:e,rowHeight:t,exportSVG:o},`${n.name}-text-${r}`))]}):null});var d=o(58474),x=o(90461);const g=(0,r.observer)(function({model:e,orientation:t,exportSVG:o}){const{labelWidth:r}=e,{width:s}=(0,n.getContainingView)(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{transform:`translate(${o?0:(0,d.A3)(e)},0)`,children:(0,i.jsx)(x.A,{model:e,orientation:t})}),(0,i.jsx)("g",{transform:`translate(${s-r-100},0)`,children:(0,i.jsx)(h,{exportSVG:o,model:e,rowHeight:12})})]})}),u=(0,r.observer)(({model:e})=>{const{ticks:t,scaleType:o}=e,{width:r}=(0,n.getContainingView)(e),s=`[${t?.values[0]}-${t?.values[1]}]${"log"===o?" (log scale)":""}`,a=(0,n.measureText)(s,14),c=r-a-25;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{y:0,x:c,width:a+6,height:16}),(0,i.jsx)("text",{y:13,x:c,children:s})]})}),m=(0,r.observer)(function({model:e,orientation:t,exportSVG:o}){const{sources:n,rowHeight:r,rowHeightTooSmallForScalebar:s,needsCustomLegend:l,ticks:a}=e;return n?.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h,{exportSVG:o,model:e,rowHeight:e.rowHeight}),s||l?(0,i.jsx)(u,{model:e}):n.map((o,n)=>(0,i.jsx)("g",{transform:`translate(0 ${r*n})`,children:(0,i.jsx)(x.A,{model:e,orientation:t})},`${JSON.stringify(a)}-${n}`))]}):null}),p=(0,r.observer)(function({children:e,model:t,exportSVG:o}){const{height:r}=t;return o?e:(0,i.jsx)("svg",{style:{position:"absolute",top:0,left:0,pointerEvents:"none",height:r,width:(0,n.getContainingView)(t).width},children:e})}),w=(0,r.observer)(function(e){const{model:t,orientation:o,exportSVG:n}=e,{showSidebar:r,stats:s,needsFullHeightScalebar:l,sources:a}=t;return s&&a?(0,i.jsx)(p,{...e,children:r?l?(0,i.jsx)(g,{model:t,orientation:o,exportSVG:n}):(0,i.jsx)(m,{model:t,orientation:o,exportSVG:n}):null}):null})},51531:(e,t,o)=>{o.d(t,{renderSvg:()=>l});var n=o(99546),r=o(42489),s=o(13128),i=o(69500);async function l(e,t,o){await(0,r.when)(()=>!!e.stats&&!!e.regionCannotBeRenderedText);const{offsetPx:l}=(0,n.getContainingView)(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{children:await o(t)}),(0,i.jsx)("g",{transform:`translate(${Math.max(-l,0)})`,children:(0,i.jsx)(s.A,{model:e,orientation:"left",exportSVG:!0})})]})}},58474:(e,t,o)=>{o.d(t,{A3:()=>a,BO:()=>s,oJ:()=>i});var n=o(68584),r=o(99546);function s(e,t,o=1){const n=t.map(t=>e.findIndex(e=>e.name===t)).sort((e,t)=>e-t);let r=0;for(const t of n){const n=Math.max(r,t-o);n>=r&&e.splice(n,0,e.splice(t,1)[0]),r+=1}return e}function i(e,t,o=1){const n=t.map(t=>e.findIndex(e=>e.name===t)).sort((e,t)=>t-e);let r=e.length-1;for(const t of n){const n=Math.min(r,t+o);n<=r&&e.splice(n,0,e.splice(t,1)[0]),r-=1}return e}const l=12.8;function a(e){const{prefersOffset:t}=e,{trackLabels:o}=(0,r.getContainingView)(e),s=(0,r.getContainingTrack)(e),i=(0,n.getConf)(s,"name");return"overlapping"!==o||t?10:(0,r.measureText)(i,l)+100}}}]);
//# sourceMappingURL=1531.a73bdba4.chunk.js.map