"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[6085],{76085(e,t,n){n.d(t,{default:()=>c});var s=n(90946),a=n(23886),r=n(49303),i=n(43102),o=n(25529);class c extends s.L{async configure(){const e=await(this.getSubAdapter?.(this.getConf("sequenceAdapter")));if(!e)throw new Error("Error getting subadapter");return e.dataAdapter}async getRefNames(){return(await this.configure()).getRefNames()}getFeatures(e,t){return(0,o.ObservableCreate)(async n=>{const s=await this.configure(),o=e.end+1e4,c=Math.max(0,e.start-1e4);if(o<0||c>o)return void n.complete();const d=await s.getSequence({...e,start:c,end:o},t)??"",f=this.getConf("search"),h=this.getConf("searchForward"),g=this.getConf("searchReverse"),u=this.getConf("caseInsensitive"),w=new RegExp(f,"g"+(u?"i":""));if(f){if(h){const t=d.matchAll(w);for(const s of t){const t=c+s.index,a=c+s.index+s[0].length;(0,r.R6)(t,a,e.start,e.end)&&n.next(new i.A({uniqueId:`${this.id}-${t}-${s[0]}-pos`,refName:e.refName,start:t,end:a,name:s[0],strand:1}))}}if(g){const t=(0,a.revcom)(d).matchAll(w);for(const s of t){const t=o-s.index,a=o-s.index-s[0].length;(0,r.R6)(a,t,e.start,e.end)&&n.next(new i.A({uniqueId:`${this.id}-${a}-${s[0]}-neg`,refName:e.refName,start:a,end:t,name:s[0],strand:-1}))}}}n.complete()})}}}}]);
//# sourceMappingURL=6085.b6a5f39f.chunk.js.map