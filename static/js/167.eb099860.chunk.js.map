{"version":3,"file":"static/js/167.eb099860.chunk.js","mappings":"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","sources":["../../../plugins/wiggle/src/Tooltip.tsx","../../../plugins/wiggle/src/MultiLinearWiggleDisplay/components/Tooltip.tsx"],"sourcesContent":["import { Suspense } from 'react'\n\nimport BaseTooltip from '@jbrowse/core/ui/BaseTooltip'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { observer } from 'mobx-react'\n\nimport { YSCALEBAR_LABEL_OFFSET } from './util.ts'\n\nimport type { Feature } from '@jbrowse/core/util'\n\nconst useStyles = makeStyles()(theme => ({\n  hoverVertical: {\n    background: theme.palette.text.primary,\n    border: 'none',\n    width: 1,\n    height: '100%',\n    top: YSCALEBAR_LABEL_OFFSET,\n    cursor: 'default',\n    position: 'absolute',\n    pointerEvents: 'none',\n  },\n}))\n\ntype Coord = [number, number]\n\n// forwardRef component for the tooltip, the ref is used for measuring\n// the size of the tooltip\nexport type TooltipContentsComponent = React.ForwardRefExoticComponent<\n  { feature: Feature; model: any } & React.RefAttributes<HTMLDivElement>\n>\n\nconst Tooltip = observer(function Tooltip({\n  model,\n  height,\n  clientMouseCoord,\n  offsetMouseCoord,\n  TooltipContents,\n}: {\n  model: { featureUnderMouse?: Feature }\n  height: number\n  clientMouseCoord: Coord\n  offsetMouseCoord: Coord\n  TooltipContents: TooltipContentsComponent\n}) {\n  const { featureUnderMouse } = model\n  const { classes } = useStyles()\n\n  const x = clientMouseCoord[0] + 5\n  const y = clientMouseCoord[1]\n  return featureUnderMouse ? (\n    <>\n      <Suspense fallback={null}>\n        <BaseTooltip clientPoint={{ x, y }}>\n          <TooltipContents model={model} feature={featureUnderMouse} />\n        </BaseTooltip>\n      </Suspense>\n\n      <div\n        className={classes.hoverVertical}\n        style={{\n          left: offsetMouseCoord[0],\n          height: height - YSCALEBAR_LABEL_OFFSET * 2,\n        }}\n      />\n    </>\n  ) : null\n})\n\nexport default Tooltip\n","import { forwardRef } from 'react'\n\nimport { toLocale } from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\n\nimport Tooltip from '../../Tooltip.tsx'\nimport { toP } from '../../util.ts'\n\nimport type { TooltipContentsComponent } from '../../Tooltip.tsx'\nimport type { Source } from '../../util.ts'\nimport type { Feature } from '@jbrowse/core/util'\n\ninterface Props {\n  model: { sources: Source[] }\n  feature: Feature\n}\nconst TooltipContents = forwardRef<HTMLDivElement, Props>(\n  function TooltipContents2({ model, feature }, ref) {\n    const start = feature.get('start')\n    const end = feature.get('end')\n    const refName = feature.get('refName')\n    const coord =\n      start === end ? toLocale(start) : `${toLocale(start)}..${toLocale(end)}`\n    const sources = feature.get('sources') as\n      | Record<string, { score: number }>\n      | undefined\n    const source = feature.get('source')\n    const summary = feature.get('summary')\n    const obj = Object.fromEntries(model.sources.map(ent => [ent.name, ent]))\n    const obj2 = obj[source]\n\n    return (\n      <div ref={ref}>\n        {[refName, coord].filter(f => !!f).join(':')}\n        <br />\n        {sources ? (\n          <table>\n            <thead>\n              <tr>\n                <th>color</th>\n                <th>source</th>\n                <th>score</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.entries(sources).map(([source, data]) => {\n                const sourceInfo = obj[source]\n                return (\n                  <tr key={source}>\n                    <td>\n                      {sourceInfo && (\n                        <div\n                          style={{\n                            width: 16,\n                            height: 16,\n                            background: sourceInfo.color,\n                          }}\n                        ></div>\n                      )}\n                    </td>\n                    <td>{sourceInfo?.name || source}</td>\n                    <td>{toP(data.score)}</td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n        ) : (\n          <span>\n            {obj2?.name || source}{' '}\n            {summary && feature.get('minScore') != null\n              ? `min:${toP(feature.get('minScore'))} avg:${toP(\n                  feature.get('score'),\n                )} max:${toP(feature.get('maxScore'))}`\n              : toP(feature.get('score'))}\n          </span>\n        )}\n      </div>\n    )\n  },\n)\n\ntype Coord = [number, number]\n\nconst WiggleTooltip = observer(function WiggleTooltip(props: {\n  model: { featureUnderMouse: Feature; sources: Source[]; rowHeight: number }\n  height: number\n  offsetMouseCoord: Coord\n  clientMouseCoord: Coord\n  TooltipContents?: TooltipContentsComponent\n}) {\n  return <Tooltip TooltipContents={TooltipContents} {...props} />\n})\n\nexport default WiggleTooltip\n"],"names":["useStyles","makeStyles","theme","hoverVertical","background","palette","text","primary","border","width","height","top","YSCALEBAR_LABEL_OFFSET","cursor","position","pointerEvents","observer","model","clientMouseCoord","offsetMouseCoord","TooltipContents","featureUnderMouse","classes","x","y","_jsxs","_Fragment","children","_jsx","Suspense","fallback","BaseTooltip","clientPoint","feature","className","style","left","forwardRef","t0","ref","$","_c","refName","t1","start","get","end","toLocale","coord","t2","sources","t3","source","summary","t4","Object","fromEntries","map","_temp","obj","obj2","t5","t6","filter","_temp2","Symbol","for","join","entries","t7","source_0","data","sourceInfo","color","name","toP","score","props","Tooltip","ent","f"],"ignoreList":[],"sourceRoot":""}