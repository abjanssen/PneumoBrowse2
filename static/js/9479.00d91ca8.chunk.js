"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[9335,9479],{3073(e,a,t){t.r(a),t.d(a,{default:()=>M});var n=t(42918),s=t(85787),i=t(64074),o=t(82699),r=t(15675),l=t(9625),c=t(52681),d=t(24215),m=t(11543),u=t(65525),A=t(32118);const p=(0,i.observer)(function({adapterSelection:e,setAdapterSelection:a,adapterTypes:t}){return(0,A.jsx)(r.A,{value:e,variant:"outlined",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:e=>{a(e.target.value)},children:t.map(e=>(0,A.jsx)(l.A,{value:e,children:e},e))})}),x=(0,i.observer)(function({fastaLocation:e,setFastaLocation:a}){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{severity:"warning",style:{margin:8},children:"Note: a FASTA index will be generated on submit, might take a couple minutes and if the file is remote, it will be downloaded in full"}),(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:"FASTA file",location:e,setLocation:a})})]})}),h=(0,i.observer)(function({fastaLocation:e,faiLocation:a,setFaiLocation:t,setFastaLocation:n}){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:"FASTA file",location:e,setLocation:n})}),(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:"FASTA index (.fai) file",location:a,setLocation:t})})]})}),f=(0,i.observer)(function({fastaLocation:e,faiLocation:a,gziLocation:t,setFaiLocation:n,setGziLocation:s,setFastaLocation:i}){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:"FASTA file (.fa.gz)",location:e,setLocation:i})}),(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:"FASTA index (.fai) file",location:a,setLocation:n})}),(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:"FASTA gzip index (.gzi) file",location:t,setLocation:s})})]})}),b=(0,i.observer)(function({twoBitLocation:e,chromSizesLocation:a,setTwoBitLocation:t,setChromSizesLocation:n}){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:"2bit file",location:e,setLocation:t})}),(0,A.jsx)("div",{children:(0,A.jsx)(o.A,{inline:!0,name:".chrom.sizes (optional, can speed up loading 2bit files with many contigs)",location:a,setLocation:n})})]})}),j={uri:""},v=["IndexedFastaAdapter","BgzipFastaAdapter","UnindexedFastaAdapter","TwoBitAdapter"],g=(0,i.observer)(function({session:e,onClose:a}){const[t,s]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(v[0]),[g,y]=(0,n.useState)(j),[L,F]=(0,n.useState)(j),[S,C]=(0,n.useState)(j),[w,T]=(0,n.useState)(j),[z,k]=(0,n.useState)(j);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(d.A,{children:[(0,A.jsx)(r.A,{id:"assembly-name",label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:t,onChange:e=>{s(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-name"}}}),(0,A.jsx)(r.A,{id:"assembly-display-name",label:"Assembly display name",helperText:'(optional) A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:i,onChange:e=>{o(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-display-name"}}}),(0,A.jsx)(p,{adapterSelection:l,adapterTypes:v,setAdapterSelection:c}),"IndexedFastaAdapter"===l?(0,A.jsx)(h,{fastaLocation:g,faiLocation:L,setFaiLocation:F,setFastaLocation:y}):"UnindexedFastaAdapter"===l?(0,A.jsx)(x,{fastaLocation:g,setFastaLocation:y}):"TwoBitAdapter"===l?(0,A.jsx)(b,{twoBitLocation:w,chromSizesLocation:z,setTwoBitLocation:T,setChromSizesLocation:k}):(0,A.jsx)(f,{fastaLocation:g,gziLocation:S,faiLocation:L,setFaiLocation:F,setGziLocation:C,setFastaLocation:y})]}),(0,A.jsxs)(m.A,{children:[(0,A.jsx)(u.A,{variant:"contained",color:"primary",onClick:()=>{""===t?e.notify("Can't create an assembly without a name"):(a(),e.addAssembly({name:t,displayName:i,sequence:{type:"ReferenceSequenceTrack",trackId:`${t}-${performance.now()}`,adapter:"IndexedFastaAdapter"===l?{type:"IndexedFastaAdapter",fastaLocation:g,faiLocation:L}:"BgzipFastaAdapter"===l?{type:"BgzipFastaAdapter",fastaLocation:g,faiLocation:L,gziLocation:S}:"UnindexedFastaAdapter"===l?{type:"UnindexedFastaAdapter",fastaLocation:g}:{type:"TwoBitAdapter",twoBitLocation:w,chromSizesLocation:z}}}),e.notify(`Added "${t}"`,"success"))},children:"Submit"}),(0,A.jsx)(u.A,{variant:"contained",color:"secondary",onClick:()=>{a()},children:"Cancel"})]})]})});var y=t(65045),L=t(79235);const F=(0,y.n)()({container:{overflow:"auto",maxHeight:600}}),S=(0,i.observer)(function({assembly:e,onClose:a}){const{classes:t}=F();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.A,{children:(0,A.jsx)("div",{className:t.container,children:e?(0,A.jsx)(L.S,{model:{target:e}}):(0,A.jsx)("div",{children:"No assembly"})})}),(0,A.jsx)(m.A,{children:(0,A.jsx)(u.A,{variant:"contained",onClick:()=>{a()},children:"Back"})})]})});var C=t(11259),w=t(10537),T=t(87134);const z=(0,t(63881).A)((0,A.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var k=t(22762),B=t(74919),N=t(46961);const I=(0,i.observer)(function({onEditAssembly:e,onAddAssembly:a,onClose:t,session:n}){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.A,{children:(0,A.jsx)(w.A,{children:(0,A.jsx)(N.z,{rowHeight:25,columnHeaderHeight:35,hideFooter:n.assemblies.length<25,rows:n.assemblies.map(e=>({id:(0,C.QZ)(e,"name"),name:(0,C.QZ)(e,"name"),displayName:(0,C.QZ)(e,"displayName"),aliases:(0,C.QZ)(e,"aliases"),assembly:e})),columns:[{field:"name"},{field:"displayName"},{field:"aliases"},{field:"actions",renderCell:({row:a})=>{const{assembly:t,name:s}=a,i=!!n.sessionAssemblies.includes(t)||n.adminMode;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(B.A,{disabled:!i,onClick:()=>{e(t)},children:(0,A.jsx)(z,{})}),(0,A.jsx)(B.A,{"data-testid":`${s}-delete`,disabled:!i,onClick:()=>{i&&(n.removeAssembly?n.removeAssembly(s):n.notify("Unable to find removeAssembly function"))},children:(0,A.jsx)(k.A,{})})]})}}]})})}),(0,A.jsxs)(m.A,{children:[(0,A.jsx)(u.A,{color:"secondary",variant:"contained",onClick:()=>{t()},children:"Close"}),(0,A.jsx)(u.A,{variant:"contained",startIcon:(0,A.jsx)(T.A,{}),onClick:()=>{a()},children:"Add new assembly"})]})]})}),M=(0,i.observer)(function({session:e,onClose:a}){const[t,i]=(0,n.useState)(!1),[o,r]=(0,n.useState)();return(0,A.jsx)(s.A,{open:!0,title:"Assembly manager",onClose:()=>{a()},children:o?(0,A.jsx)(S,{assembly:o,onClose:()=>{r(void 0)}}):t?(0,A.jsx)(g,{session:e,onClose:()=>{i(!1)}}):(0,A.jsx)(I,{session:e,onClose:()=>{a()},onAddAssembly:()=>{i(!0)},onEditAssembly:e=>{r(e)}})})})},10537(e,a,t){t.d(a,{A:()=>r});var n=t(30936),s=t(65045),i=t(32118);const o=(0,s.n)()({flexContainer:{display:"flex",flexDirection:"column"}});function r(e){const a=(0,n.c)(4),{children:t,style:s}=e,{classes:r}=o();let l;return a[0]!==t||a[1]!==r.flexContainer||a[2]!==s?(l=(0,i.jsx)("div",{className:r.flexContainer,style:s,children:t}),a[0]=t,a[1]=r.flexContainer,a[2]=s,a[3]=l):l=a[3],l}},19335(e,a,t){t.d(a,{A:()=>u});var n=t(42918),s=t(77710),i=t(62981),o=t(41680),r=t(711),l=t(32717),c=t(57747),d=t(32118);const m=(0,o.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,!t.disableGutters&&a.gutters,a[t.variant]]}})((0,r.A)(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),u=n.forwardRef(function(e,a){const t=(0,l.b)({props:e,name:"MuiToolbar"}),{className:n,component:o="div",disableGutters:r=!1,variant:u="regular",...A}=t,p={...t,component:o,disableGutters:r,variant:u},x=(e=>{const{classes:a,disableGutters:t,variant:n}=e,s={root:["root",!t&&"gutters",n]};return(0,i.A)(s,c.U,a)})(p);return(0,d.jsx)(m,{as:o,className:(0,s.A)(x.root,n),ref:a,ownerState:p,...A})})},22762(e,a,t){t.d(a,{A:()=>i});var n=t(63881),s=t(32118);const i=(0,n.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},57747(e,a,t){t.d(a,{A:()=>o,U:()=>i});var n=t(99287),s=t(47739);function i(e){return(0,s.Ay)("MuiToolbar",e)}const o=(0,n.A)("MuiToolbar",["root","gutters","regular","dense"])}}]);
//# sourceMappingURL=9479.00d91ca8.chunk.js.map