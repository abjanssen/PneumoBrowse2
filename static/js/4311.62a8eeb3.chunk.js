/*! For license information please see 4311.62a8eeb3.chunk.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[4311],{430:(e,t,r)=>{r.d(t,{QueryParamProvider:()=>P,StringParam:()=>n,useQueryParam:()=>_});const n={encode:function(e){return null==e?e:String(e)},decode:function(e){const t=function(e,t){if(null==e)return e;if(0===e.length&&(!t||t&&""!==e))return null;const r=e instanceof Array?e[0]:e;return null==r||t||""!==r?r:null}(e,!0);return null==t?t:String(t)}};'{}[],":'.split("").map(e=>[e,encodeURIComponent(e)]);var i=r(7552);const o=new class{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(e,t,r,n){this.paramsMap.set(e,{stringified:t,decoded:r,decode:n})}has(e,t,r){if(!this.paramsMap.has(e))return!1;const n=this.paramsMap.get(e);return!!n&&n.stringified===t&&(null==r||n.decode===r)}get(e){var t;if(this.paramsMap.has(e))return null==(t=this.paramsMap.get(e))?void 0:t.decoded}registerParams(e){for(const t of e){const e=this.registeredParams.get(t)||0;this.registeredParams.set(t,e+1)}}unregisterParams(e){for(const t of e){const e=(this.registeredParams.get(t)||0)-1;e<=0?(this.registeredParams.delete(t),this.paramsMap.has(t)&&this.paramsMap.delete(t)):this.registeredParams.set(t,e)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}};function a(e,t,r,n){var i;if(!r||!t.length)return e;let o={...e},a=!1;for(const e of t)Object.prototype.hasOwnProperty.call(o,e)||(o[e]=null!=(i=r[e])?i:n,a=!0);return a?o:e}const l=Object.prototype.hasOwnProperty;function s(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function u(e,t,r){var n,i;if(s(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(let a=0;a<o.length;a++){const u=null!=(i=null==(n=null==r?void 0:r[o[a]])?void 0:n.equals)?i:s;if(!l.call(t,o[a])||!u(e[o[a]],t[o[a]]))return!1}return!0}function c(e,t,r){const n={},i=Object.keys(t);for(const o of i){const i=t[o],a=e[o];let l;if(r.has(o,a,i.decode))l=r.get(o);else{if(l=i.decode(a),i.equals&&r.has(o,a)){const e=r.get(o);i.equals(l,e)&&(l=e)}void 0!==l&&r.set(o,a,l,i.decode)}void 0===l&&void 0!==i.default&&(l=i.default),n[o]=l}return n}function p(){let e;return function(t,r,n){const i=c(t,r,n);return null!=e&&u(e,i)?e:(e=i,i)}}let f,b,d,h={};const y=(e,t,r)=>{if(f===t&&d===e&&b===r)return h;f=t,d=e;const n=e(null!=t?t:"");b=r;const i=function(e){if(e)return Object.fromEntries(e.split("\n").map(e=>e.split("\0")))}(r);for(let[e,t]of Object.entries(n)){(null==i?void 0:i[e])&&(delete n[e],e=i[e],n[e]=t);const r=h[e];u(t,r)&&(n[e]=r)}return h=n,n};function v(e,t){null==t&&(t={});const r={...e,...t};return t.params&&e.params&&(r.params={...e.params,...t.params}),r}const g={adapter:{},options:{searchStringToObject:function(e){const t=new URLSearchParams(e),r={};for(let[e,n]of t)Object.prototype.hasOwnProperty.call(r,e)?Array.isArray(r[e])?r[e].push(n):r[e]=[r[e],n]:r[e]=n;return r},objectToSearchString:function(e){const t=new URLSearchParams,r=Object.entries(e);for(const[e,n]of r)if(null!=n)if(Array.isArray(n))for(const r of n)t.append(e,null!=r?r:"");else t.append(e,n);return t.toString()},updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0}},m=i.createContext(g);function w({children:e,adapter:t,options:r}){const{adapter:n,options:o}=i.useContext(m),a=i.useMemo(()=>({adapter:null!=t?t:n,options:v(o,r)}),[t,r,n,o]);return i.createElement(m.Provider,{value:a},e)}function P({children:e,adapter:t,options:r}){const n=t;return n?i.createElement(n,null,t=>i.createElement(w,{adapter:t,options:r},e)):i.createElement(w,{options:r},e)}function O({changes:e,updateType:t,currentSearchString:r,paramConfigMap:n,options:i}){const{searchStringToObject:l,objectToSearchString:s}=i;let u;null==t&&(t=i.updateType);const p=y(l,r),f=a(n,Object.keys(e),i.params);let b,d;return b="function"==typeof e?e(c(p,f,o)):e,u=function(e,t){const r={},n=Object.keys(t);for(const i of n){const n=t[i];e[i]?r[i]=e[i].encode(t[i]):r[i]=null==n?n:String(n)}return r}(f,b),i.removeDefaultsFromUrl&&function(e,t){var r;for(const n in e)void 0!==(null==(r=t[n])?void 0:r.default)&&void 0!==e[n]&&t[n].encode(t[n].default)===e[n]&&(e[n]=void 0)}(u,f),u=function(e,t){var r;let n={};for(const i in e)null!=(null==(r=t[i])?void 0:r.urlName)?n[t[i].urlName]=e[i]:n[i]=e[i];return n}(u,f),d=s("push"===t||"replace"===t?u:{...p,...u}),(null==d?void 0:d.length)&&"?"!==d[0]&&(d=`?${d}`),null!=d?d:""}const j=e=>e(),S=e=>setTimeout(()=>e(),0),A=[];const _=(e,t,r)=>{const l=(0,i.useMemo)(()=>({[e]:null!=t?t:"inherit"}),[e,t]),[s,u]=function(e,t){const{adapter:r,options:l}=function(){const e=i.useContext(m);if(void 0===e||e===g)throw new Error("useQueryParams must be used within a QueryParamProvider");return e}(),[s]=(0,i.useState)(p),{paramConfigMap:u,options:c}=function(e,t){let r,n;return void 0===e?(r={},n=t):Array.isArray(e)?(r=Object.fromEntries(e.map(e=>[e,"inherit"])),n=t):(r=e,n=t),{paramConfigMap:r,options:n}}(e,t),f=(0,i.useMemo)(()=>v(l,c),[l,c]);let b=function(e,t){var r,i,o;const a={};let l=!1;const s=Object.keys(e);let u=s;if(t.includeKnownParams||!1!==t.includeKnownParams&&0===s.length){const e=Object.keys(null!=(r=t.params)?r:{});u.push(...e)}for(const r of u){const s=e[r];null==s||"object"!=typeof s?(l=!0,a[r]=null!=(o=null==(i=t.params)?void 0:i[r])?o:n):a[r]=s}return l?a:e}(u,f);const d=y(f.searchStringToObject,r.location.search,function(e){let t;for(const r in e)if(e[r].urlName){const n=`${e[r].urlName}\0${r}`;t?t.push(n):t=[n]}return t?t.join("\n"):void 0}(b));f.includeAllParams&&(b=a(b,Object.keys(d),f.params,n));const h=s(d,b,o),w=Object.keys(b).join("\0");(0,i.useEffect)(()=>{const e=w.split("\0");return o.registerParams(e),()=>{o.unregisterParams(e)}},[w]);const P={adapter:r,paramConfigMap:b,options:f},_=(0,i.useRef)(P);null==_.current&&(_.current=P),(0,i.useEffect)(()=>{_.current.adapter=r,_.current.paramConfigMap=b,_.current.options=f},[r,b,f]);const[I]=(0,i.useState)(()=>(e,t)=>{const{adapter:r,paramConfigMap:n,options:i}=_.current;null==t&&(t=i.updateType),function(e,{immediate:t}={}){A.push(e);let r=t?j:S;1===A.length&&r(()=>{const t=A.slice();A.length=0;const r=t[0].currentSearchString;let n;for(let e=0;e<t.length;++e)n=O(0===e?t[e]:{...t[e],currentSearchString:n});e.options.skipUpdateWhenNoChange&&n===r||function({searchString:e,adapter:t,navigate:r,updateType:n}){const i={...t.location,search:e};r&&("string"==typeof n&&n.startsWith("replace")?t.replace(i):t.push(i))}({searchString:null!=n?n:"",adapter:t[t.length-1].adapter,navigate:!0,updateType:t[t.length-1].updateType})})}({changes:e,updateType:t,currentSearchString:r.location.search,paramConfigMap:n,options:i,adapter:r},{immediate:!i.enableBatching})});return[h,I]}(l,r);return[s[e],(0,i.useCallback)((t,r)=>u("function"==typeof t?r=>{const n=t(r[e]);return{[e]:n}}:{[e]:t},r),[e,u])]}},2323:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M5 4v2h14V4zm0 10h4v6h6v-6h4l-7-7z"}),"Publish")},8167:(e,t,r)=>{r.d(t,{P:()=>f});var n,i,o=r(7552),a=r(89059),l=r(77173),s="function"==typeof Symbol&&Symbol.for,u=null!==(i=null===(n=Object.getOwnPropertyDescriptor(function(){},"name"))||void 0===n?void 0:n.configurable)&&void 0!==i&&i,c=s?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&(0,o.forwardRef)(function(e){return null}).$$typeof,p=s?Symbol.for("react.memo"):"function"==typeof o.memo&&(0,o.memo)(function(e){return null}).$$typeof;function f(e,t){var r;if(p&&e.$$typeof===p)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if((0,a.P)())return e;var n=null!==(r=null==t?void 0:t.forwardRef)&&void 0!==r&&r,i=e,s=e.displayName||e.name;if(c&&e.$$typeof===c&&(n=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var f,d,h=function(e,t){return(0,l.q)(function(){return i(e,t)},s)};return h.displayName=e.displayName,u&&Object.defineProperty(h,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(h.contextTypes=e.contextTypes),n&&(h=(0,o.forwardRef)(h)),h=(0,o.memo)(h),f=e,d=h,Object.keys(f).forEach(function(e){b[e]||Object.defineProperty(d,e,Object.getOwnPropertyDescriptor(f,e))}),h}var b={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0}},9452:(e,t,r)=>{r.d(t,{P2:()=>d});const n=(e,t)=>t.some(t=>e instanceof t);let i,o;const a=new WeakMap,l=new WeakMap,s=new WeakMap;let u={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return f(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function c(e){u=e(u)}function p(e){return"function"==typeof e?(t=e,(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(b(this),e),f(this.request)}:function(...e){return f(t.apply(b(this),e))}):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});a.set(e,t)}(e),n(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,u):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(f(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return s.set(t,e),t}(e);if(l.has(e))return l.get(e);const t=p(e);return t!==e&&(l.set(e,t),s.set(t,e)),t}const b=e=>s.get(e);function d(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),l=f(a);return n&&a.addEventListener("upgradeneeded",e=>{n(f(a.result),e.oldVersion,e.newVersion,f(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),l.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l}const h=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],v=new Map;function g(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(v.get(t))return v.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=y.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!h.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),i&&o.done]))[0]};return v.set(t,o),o}c(e=>({...e,get:(t,r,n)=>g(t,r)||e.get(t,r,n),has:(t,r)=>!!g(t,r)||e.has(t,r)}));const m=["continue","continuePrimaryKey","advance"],w={},P=new WeakMap,O=new WeakMap,j={get(e,t){if(!m.includes(t))return e[t];let r=w[t];return r||(r=w[t]=function(...e){P.set(this,O.get(this)[t](...e))}),r}};async function*S(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,j);for(O.set(r,t),s.set(r,b(t));t;)yield r,t=await(P.get(r)||t.continue()),P.delete(r)}function A(e,t){return t===Symbol.asyncIterator&&n(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&n(e,[IDBIndex,IDBObjectStore])}c(e=>({...e,get:(t,r,n)=>A(t,r)?S:e.get(t,r,n),has:(t,r)=>A(t,r)||e.has(t,r)}))},13150:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo")},13570:(e,t,r)=>{r.d(t,{A:()=>y});var n=r(7552),i=r(93878),o=r(75100),a=r(43124),l=r(74325),s=r(51456),u=r(99977),c=r(80317),p=r(21928),f=r(20535),b=r(50864),d=r(69500);const h=(0,c.Ay)(a.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,l.A)(r.size)}`],"inherit"===r.color&&t.colorInherit,t[(0,l.A)(r.size)],t[r.color]]}})((0,p.A)(({theme:e})=>({...e.typography.button,minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.grey[900]:e.palette.getContrastText?.(e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${s.A.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})),(0,p.A)(({theme:e})=>({variants:[...Object.entries(e.palette).filter((0,f.A)(["dark","contrastText"])).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].contrastText,backgroundColor:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:(e.vars||e).palette[t].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t].main}}}}))]})),(0,p.A)(({theme:e})=>({[`&.${s.A.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),y=n.forwardRef(function(e,t){const r=(0,b.b)({props:e,name:"MuiFab"}),{children:n,className:a,color:u="default",component:c="button",disabled:p=!1,disableFocusRipple:f=!1,focusVisibleClassName:y,size:v="large",variant:g="circular",...m}=r,w={...r,color:u,component:c,disabled:p,disableFocusRipple:f,size:v,variant:g},P=(e=>{const{color:t,variant:r,classes:n,size:i}=e,a={root:["root",r,`size${(0,l.A)(i)}`,"inherit"===t?"colorInherit":t]},u=(0,o.A)(a,s.C,n);return{...n,...u}})(w);return(0,d.jsx)(h,{className:(0,i.A)(P.root,a),component:c,disabled:p,focusRipple:!f,focusVisibleClassName:(0,i.A)(P.focusVisible,y),ownerState:w,ref:t,...m,classes:P,children:n})})},21549:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage")},35068:e=>{var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function i(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function l(e,r,s){(s=s||{}).arrayMerge=s.arrayMerge||i,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=n;var u=Array.isArray(r);return u===Array.isArray(e)?u?s.arrayMerge(e,r,s):function(e,t,r){var i={};return r.isMergeableObject(e)&&o(e).forEach(function(t){i[t]=n(e[t],r)}),o(t).forEach(function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&r.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"==typeof r?r:l}(o,r)(e[o],t[o],r):i[o]=n(t[o],r))}),i}(e,r,s):n(r,s)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return l(e,r,t)},{})};var s=l;e.exports=s},36422:(e,t,r)=>{r.r(t),r.d(t,{addDisposer:()=>Z,addMiddleware:()=>Ee,applyAction:()=>we,applyPatch:()=>w,applySnapshot:()=>A,cast:()=>J,castFlowReturn:()=>Nt,castToReferenceSnapshot:()=>X,castToSnapshot:()=>Q,clone:()=>B,createActionTrackingMiddleware:()=>ye,createActionTrackingMiddleware2:()=>ge,decorate:()=>xe,destroy:()=>U,detach:()=>$,escapeJsonPath:()=>Ft,flow:()=>Vt,getChildType:()=>v,getEnv:()=>G,getIdentifier:()=>M,getLivelinessChecking:()=>l,getMembers:()=>q,getNodeId:()=>ee,getParent:()=>C,getParentOfType:()=>E,getPath:()=>k,getPathParts:()=>V,getPropertyMembers:()=>K,getRelativePath:()=>H,getRoot:()=>x,getRunningActionContext:()=>Ve,getSnapshot:()=>_,getType:()=>y,hasParent:()=>I,hasParentOfType:()=>T,isActionContextChildOf:()=>De,isActionContextThisOrChildOf:()=>ze,isAlive:()=>W,isArrayType:()=>tr,isFrozenType:()=>Lr,isIdentifierType:()=>Xr,isLateType:()=>zr,isLiteralType:()=>Or,isMapType:()=>qt,isModelType:()=>lr,isOptionalType:()=>xr,isPrimitiveType:()=>mr,isProtected:()=>S,isReferenceType:()=>Gr,isRefinementType:()=>Sr,isRoot:()=>N,isStateTreeNode:()=>Je,isType:()=>be,isUnionType:()=>Ir,isValidReference:()=>F,joinJsonPath:()=>Ht,onAction:()=>Oe,onPatch:()=>g,onSnapshot:()=>m,process:()=>st,protect:()=>O,recordActions:()=>Pe,recordPatches:()=>P,resolveIdentifier:()=>z,resolvePath:()=>D,setLivelinessChecking:()=>a,setLivelynessChecking:()=>s,splitJsonPath:()=>Bt,t:()=>nn,toGenerator:()=>zt,toGeneratorFunction:()=>Dt,tryReference:()=>R,tryResolve:()=>L,typecheck:()=>Ue,types:()=>nn,unescapeJsonPath:()=>Lt,unprotect:()=>j,walk:()=>Y});var n,i=r(42489),o="warn";function a(e){o=e}function l(){return o}function s(e){a(e)}!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(n||(n={}));var u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},u(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function f(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(e){return Qe(e,1),Xe(e).type}function v(e,t){return Qe(e,1),Xe(e).getChildType(t)}function g(e,t){return Qe(e,1),Tt(),Xe(e).onPatch(t)}function m(e,t){return Qe(e,1),Tt(),Xe(e).onSnapshot(t)}function w(e,t){Qe(e,1),Ct(),Xe(e).applyPatches(vt(t))}function P(e,t){Qe(e,1);var r,n={patches:[],inversePatches:[]},i={},o={get recording(){return!!r},get patches(){return i.patches||(i.patches=n.patches.slice()),i.patches},get reversedInversePatches(){return i.reversedInversePatches||(i.reversedInversePatches=n.inversePatches.slice().reverse()),i.reversedInversePatches},get inversePatches(){return i.inversePatches||(i.inversePatches=n.inversePatches.slice()),i.inversePatches},stop:function(){r&&(r(),r=void 0)},resume:function(){r||(r=g(e,function(e,r){t&&!t(e,r,Ve())||(n.patches.push(e),n.inversePatches.push(r),i.patches=void 0,i.inversePatches=void 0,i.reversedInversePatches=void 0)}))},replay:function(t){w(t||e,n.patches)},undo:function(t){w(t||e,n.inversePatches.slice().reverse())}};return o.resume(),o}function O(e){Qe(e,1);var t=Xe(e);if(!t.isRoot)throw bt("`protect` can only be invoked on root nodes");t.isProtectionEnabled=!0}function j(e){Qe(e,1);var t=Xe(e);if(!t.isRoot)throw bt("`unprotect` can only be invoked on root nodes");t.isProtectionEnabled=!1}function S(e){return Xe(e).isProtected}function A(e,t){return Qe(e,1),Xe(e).applySnapshot(t)}function _(e,t){void 0===t&&(t=!0),Qe(e,1);var r=Xe(e);return t?r.snapshot:r.type.getSnapshot(r,!1)}function I(e,t){void 0===t&&(t=1),Qe(e,1),Et(0,0,0);for(var r=Xe(e).parent;r;){if(0===--t)return!0;r=r.parent}return!1}function C(e,t){void 0===t&&(t=1),Qe(e,1),Et(0,0,0);for(var r=t,n=Xe(e).parent;n;){if(0===--r)return n.storedValue;n=n.parent}throw bt("Failed to find the parent of "+Xe(e)+" at depth "+t)}function T(e,t){Qe(e,1),de(t,2);for(var r=Xe(e).parent;r;){if(t.is(r.storedValue))return!0;r=r.parent}return!1}function E(e,t){Qe(e,1),de(t,2);for(var r=Xe(e).parent;r;){if(t.is(r.storedValue))return r.storedValue;r=r.parent}throw bt("Failed to find the parent of "+Xe(e)+" of a given type")}function x(e){return Qe(e,1),Xe(e).root.storedValue}function k(e){return Qe(e,1),Xe(e).path}function V(e){return Qe(e,1),Bt(Xe(e).path)}function N(e){return Qe(e,1),Xe(e).isRoot}function D(e,t){Qe(e,1),xt();var r=it(Xe(e),t);return r?r.value:void 0}function z(e,t,r){de(e,1),Qe(t,2),Ct();var n=Xe(t).root.identifierCache.resolve(e,en(r));return null==n?void 0:n.value}function M(e){return Qe(e,1),Xe(e).identifier}function R(e,t){void 0===t&&(t=!0);try{var r=e();if(null==r)return;if(Je(r))return t?W(r)?r:void 0:r;throw bt("The reference to be checked is not one of node, null or undefined")}catch(e){if(e instanceof Br)return;throw e}}function F(e,t){void 0===t&&(t=!0);try{var r=e();if(null==r)return!1;if(Je(r))return!t||W(r);throw bt("The reference to be checked is not one of node, null or undefined")}catch(e){if(e instanceof Br)return!1;throw e}}function L(e,t){Qe(e,1),xt();var r=it(Xe(e),t,!1);if(void 0!==r)try{return r.value}catch(e){return}}function H(e,t){return Qe(e,1),Qe(t,2),nt(Xe(e),Xe(t))}function B(e,t){void 0===t&&(t=!0),Qe(e,1);var r=Xe(e);return r.type.create(r.snapshot,!0===t?r.root.environment:!1===t?void 0:t)}function $(e){return Qe(e,1),Xe(e).detach(),e}function U(e){Qe(e,1);var t=Xe(e);t.isRoot?t.die():t.parent.removeChild(t.subpath)}function W(e){return Qe(e,1),Xe(e).observableIsAlive}function Z(e,t){return Qe(e,1),Tt(),Xe(e).addDisposer(t),t}function G(e){return Qe(e,1),Xe(e).root.environment||pt}function Y(e,t){Qe(e,1),Tt();var r=Xe(e);r.getChildren().forEach(function(e){Je(e.storedValue)&&Y(e.storedValue,t)}),t(r.storedValue)}function K(e){var t;return Ct(t=Je(e)?y(e):e),{name:t.name,properties:p({},t.properties)}}function q(e){var t=Xe(e).type,r=p(p({},K(t)),{actions:[],volatile:[],views:[],flowActions:[]});return Object.getOwnPropertyNames(e).forEach(function(t){if(!(t in r.properties)){var n=Object.getOwnPropertyDescriptor(e,t);n.get?(0,i.isComputedProp)(e,t)?r.views.push(t):r.volatile.push(t):(!0===n.value._isFlowAction&&r.flowActions.push(t),!0===n.value._isMSTAction?r.actions.push(t):(0,i.isObservableProp)(e,t)?r.volatile.push(t):r.views.push(t))}}),r}function J(e){return e}function Q(e){return e}function X(e){return e}function ee(e){return Qe(e,1),Xe(e).nodeId}var te=function(){function e(e,t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:We.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=n,this.baseSetParent(t,r)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var r=this.isAlive;this.aliveAtom&&t!==r&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new St),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=(0,i.createAtom)("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Ft(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==We.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===We.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=(0,i.createAtom)("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===We.CREATED){if(this.parent){if(this.parent.state!==We.FINALIZED)return;this.fireHook(n.afterAttach)}this.state=We.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=We.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(n.beforeDestroy)}}),e}(),re=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,n,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(e){throw a.state=We.DEAD,e}return a.state=We.CREATED,a.finalizeCreation(),a}return c(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw bt("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.parent!==e,n=this.subpath!==t;(r||n)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==We.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(te);re.prototype.die=(0,i.action)(re.prototype.die);var ne,ie,oe=1,ae={onError:function(e){throw e}},le=function(e){function t(t,r,n,o,a){var l=e.call(this,t,r,n,o)||this;if(Object.defineProperty(l,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++oe}),Object.defineProperty(l,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(l,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"hasSnapshotPostProcessor",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(l,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(l,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(l,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(l,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(l,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(l,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l._snapshotComputed=(0,i.computed)(function(){return l.getSnapshot()}),l.unbox=l.unbox.bind(l),l._initialSnapshot=a,l.identifierAttribute=t.identifierAttribute,r||(l.identifierCache=new Ge),l._childNodes=t.initializeChildNodes(l,l._initialSnapshot),l.identifier=null,l.unnormalizedIdentifier=null,l.identifierAttribute&&l._initialSnapshot){var s=l._initialSnapshot[l.identifierAttribute];if(void 0===s){var u=l._childNodes[l.identifierAttribute];u&&(s=u.value)}if("string"!=typeof s&&"number"!=typeof s)throw bt("Instance identifier '"+l.identifierAttribute+"' for type '"+l.type.name+"' must be a string or a number");l.identifier=en(s),l.unnormalizedIdentifier=s}return r?r.root.identifierCache.addNodeToCache(l):l.identifierCache.addNodeToCache(l),l}return c(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=!0),0===this._observableInstanceState&&this.createObservableInstance(e)}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r,i,o;void 0===e&&(e=!0),this._observableInstanceState=1;for(var a=[],l=this.parent;l&&0===l._observableInstanceState;)a.unshift(l),l=l.parent;try{for(var s=b(a),u=s.next();!u.done;u=s.next())(d=u.value).createObservableInstanceIfNeeded(!1)}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}var c=this.type;try{this.storedValue=c.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,c.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=We.DEAD,e}finally{this._isRunningAction=!1}if(this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=pt,this.state=We.CREATED,e){this.fireHook(n.afterCreate),this.finalizeCreation();try{for(var p=b(a.reverse()),f=p.next();!f.done;f=p.next()){var d;(d=f.value).fireHook(n.afterCreate),d.finalizeCreation()}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(n.beforeDetach);var e=this.state;this.state=We.DETACHING;var t=this.root,r=t.environment,i=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=r,this.identifierCache=i}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e!==this.parent,i=t!==this.subpath;(r||i)&&(r?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(n.afterAttach)):i&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var r=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof r&&(i._allowStateChangesInsideComputed?(0,i._allowStateChangesInsideComputed)(function(){r.apply(t.storedValue)}):r.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.hasSnapshotPostProcessor&&this.createObservableInstanceIfNeeded(),this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,r=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,r),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r=l();if(!this.isAlive&&"ignore"!==r){var n=this._getAssertAliveError(e);switch(r){case"error":throw bt(n);case"warn":t=n,console.warn(new Error("[mobx-state-tree] "+t))}}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",r=e.subpath&&Ft(e.subpath)||"",n=e.actionContext||Ae();n&&"action"!==n.type&&n.parentActionEvent&&(n=n.parentActionEvent);var i="";return n&&null!=n.name&&(i=(n&&n.context&&k(n.context)||t)+"."+n.name+"()"),"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+r+"', Action: '"+i+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(pt),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):at(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw bt("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation(function(){var t,r;try{for(var i=b(e.getChildren()),o=i.next();!o.done;o=i.next())o.value.finalizeCreation()}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.fireInternalHook(n.afterCreationFinalization)})}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw bt("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=Te(this.storedValue,"@APPLY_PATCHES",function(t){t.forEach(function(t){if(t.path){var r=Bt(t.path);ot(e,r.slice(0,-1)).applyPatchLocally(r[r.length-1],t)}else e.type.applySnapshot(e,t.value)})}),this._applySnapshot=Te(this.storedValue,"@APPLY_SNAPSHOT",function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)}),Ot(this.storedValue,"$treenode",this),Ot(this.storedValue,"toJSON",tt)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==We.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach(function(e){e.aboutToDie()}),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach(function(e){e.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var i=t[n];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path}),n=d(function(e){if(!("oldValue"in e))throw bt("Patches without `oldValue` field cannot be inversed");return[Mt(e),Rt(e)]}(r),2),i=n[0],o=n[1];this._internalEventsEmit("patch",i,o)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw bt("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw bt("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(n):this.middlewares=[n],function(){r.removeMiddleware(n)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=(0,i.reaction)(function(){return e.snapshot},function(t){return e.emitSnapshot(t)},ae);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return void 0===r&&(r=!1),this._internalEvents||(this._internalEvents=new St),this._internalEvents.register(e,t,r)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._internalEvents&&(t=this._internalEvents).emit.apply(t,h([e],r))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(te);le.prototype.createObservableInstance=(0,i.action)(le.prototype.createObservableInstance),le.prototype.detach=(0,i.action)(le.prototype.detach),le.prototype.die=(0,i.action)(le.prototype.die),function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor",e[e.Lazy=1048576]="Lazy",e[e.Finite=2097152]="Finite",e[e.Float=4194304]="Float"}(ie||(ie={}));var se="cannotDetermine",ue=Symbol("$type"),ce=function(){function e(e){Object.defineProperty(this,ne,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return $e(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw bt("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(et(e)){var r=y(e);return this.isAssignableFrom(r)?Le():He(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw bt("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw bt("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw bt("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw bt("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();ne=ue,ce.prototype.create=(0,i.action)(ce.prototype.create);var pe=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return c(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,r)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.identifierAttribute||e.identifier===en(t[e.identifierAttribute])}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!(e.isDetaching||e.snapshot!==t&&(!Je(t)||Xe(t)!==e)&&(e.type!==this||!mt(t)||Je(t)||!this.isMatchingSnapshotId(e,t)||(e.applySnapshot(t),0)))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.tryToReconcileNode(e,t))return e.setParent(r,n),e;if(e.die(),Je(t)&&this.isAssignableFrom(y(t))){var i=Xe(t);return i.setParent(r,n),i}return this.instantiate(r,n,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(ce);pe.prototype.create=(0,i.action)(pe.prototype.create);var fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(r,n,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(ce);function be(e){return"object"==typeof e&&e&&!0===e.isType}function de(e,t){Ct()}var he=new Map;function ye(e){return function(t,r,n){switch(t.type){case"action":if(e.filter&&!0!==e.filter(t))return r(t);var i=e.onStart(t);e.onResume(t,i),he.set(t.id,{call:t,context:i,async:!1});try{var o=r(t);return e.onSuspend(t,i),!1===he.get(t.id).async&&(he.delete(t.id),e.onSuccess(t,i,o)),o}catch(r){throw he.delete(t.id),e.onFail(t,i,r),r}case"flow_spawn":return(a=he.get(t.rootId)).async=!0,r(t);case"flow_resume":case"flow_resume_error":var a=he.get(t.rootId);e.onResume(t,a.context);try{return r(t)}finally{e.onSuspend(t,a.context)}case"flow_throw":return a=he.get(t.rootId),he.delete(t.rootId),e.onFail(t,a.context,t.args[0]),r(t);case"flow_return":return a=he.get(t.rootId),he.delete(t.rootId),e.onSuccess(t,a.context,t.args[0]),r(t)}}}var ve=function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}return Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0}),e}();function ge(e){var t=new Map;return function(r,n){var i=r.parentActionEvent?t.get(r.parentActionEvent.id):void 0;if("action"===r.type){var o=p(p({},r),{env:i&&i.call.env,parentCall:i&&i.call}),a=!e.filter||e.filter(o),l=new ve(a?e:void 0,o);t.set(r.id,l);var s=void 0;try{s=n(r)}catch(e){throw t.delete(r.id),l.finish(e),e}return l.hasFlowsPending||(t.delete(r.id),l.finish()),s}if(!i)return n(r);switch(r.type){case"flow_spawn":return i.incFlowsPending(),n(r);case"flow_resume":case"flow_resume_error":return n(r);case"flow_throw":var u=r.args[0];try{return n(r)}finally{i.decFlowsPending(),i.hasFlowsPending||(t.delete(r.parentActionEvent.id),i.finish(u))}case"flow_return":try{return n(r)}finally{i.decFlowsPending(),i.hasFlowsPending||(t.delete(r.parentActionEvent.id),i.finish())}}}}function me(e){return{$MST_UNSERIALIZABLE:!0,type:e}}function we(e,t){Qe(e,1),Ct(),(0,i.runInAction)(function(){vt(t).forEach(function(t){return function(e,t){var r=L(e,t.path||"");if(!r)throw bt("Invalid action path: "+(t.path||""));var n=Xe(r);if("@APPLY_PATCHES"===t.name)return w.call(null,r,t.args[0]);if("@APPLY_SNAPSHOT"===t.name)return A.call(null,r,t.args[0]);if("function"!=typeof r[t.name])throw bt("Action '"+t.name+"' does not exist in '"+n.path+"'");return r[t.name].apply(r,t.args?t.args.map(function(e){return(t=e)&&"object"==typeof t&&"$MST_DATE"in t?new Date(t.$MST_DATE):t;var t}):[])}(e,t)})})}function Pe(e,t){Qe(e,1);var r,n=[],i=function(e){(!t||t(e,Ve()))&&n.push(e)},o={actions:n,get recording(){return!!r},stop:function(){r&&(r(),r=void 0)},resume:function(){r||(r=Oe(e,i))},replay:function(e){we(e,n)}};return o.resume(),o}function Oe(e,t,r){return void 0===r&&(r=!1),Qe(e,1),Ee(e,function(n,i){if("action"===n.type&&n.id===n.rootId){var o=Xe(n.context),a={name:n.name,path:nt(Xe(e),o),args:n.args.map(function(e,t){return function(e,t,r,n){if(n instanceof Date)return{$MST_DATE:n.getTime()};if(wt(n))return n;if(Je(n))return me("[MSTNode: "+y(n).name+"]");if("function"==typeof n)return me("[function]");if("object"==typeof n&&!gt(n)&&!yt(n))return me("[object "+(n&&n.constructor&&n.constructor.name||"Complex Object")+"]");try{return JSON.stringify(n),n}catch(e){return me(""+e)}}(0,n.name,0,e)})};if(r){var l=i(n);return t(a),l}return t(a),i(n)}return i(n)})}var je,Se=1;function Ae(){return je}function _e(){return Se++}function Ie(e,t){var r=Xe(e.context);"action"===e.type&&r.assertAlive({actionContext:e});var o=r._isRunningAction;r._isRunningAction=!0;var a=je;je=e;try{return function(e,t,r){var o=new ke(e,r);if(o.isEmpty)return(0,i.action)(r).apply(null,t.args);var a=null;return function e(t){var l=o.getNextMiddleware(),s=l&&l.handler;return s?!l.includeHooks&&n[t.name]?e(t):(s(t,function(t,r){a=e(t),r&&(a=r(a))},function(e){a=e}),a):(0,i.action)(r).apply(null,t.args)}(t)}(r,e,t)}finally{je=a,r._isRunningAction=o}}function Ce(e){if(e)return"action"===e.type?e:e.parentActionEvent}function Te(e,t,r){var n=function(){var n=_e(),i=je,o=Ce(i);return Ie({type:"action",name:t,id:n,args:At(arguments),context:e,tree:x(e),rootId:i?i.rootId:n,parentId:i?i.id:0,allParentIds:i?h(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},r)};return n._isMSTAction=!0,n._isFlowAction=r._isFlowAction,n}function Ee(e,t,r){return void 0===r&&(r=!0),Xe(e).addMiddleWare(t,r)}function xe(e,t,r){void 0===r&&(r=!0);var n={handler:e,includeHooks:r};return t.$mst_middleware=t.$mst_middleware||[],t.$mst_middleware.push(n),t}var ke=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var r=e;r;)r.middlewares&&this.middlewares.push(r.middlewares),r=r.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e)return e[this.inArrayIndex++]||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}),e}();function Ve(){for(var e=Ae();e&&"action"!==e.type;)e=e.parentActionEvent;return e}function Ne(e,t,r){for(var n="number"==typeof t?t:t.id,i=r?e:e.parentActionEvent;i;){if(i.id===n)return!0;i=i.parentActionEvent}return!1}function De(e,t){return Ne(e,t,!1)}function ze(e,t){return Ne(e,t,!0)}function Me(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":Je(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function Re(e){var t=e.value,r=e.context[e.context.length-1].type,n=e.context.map(function(e){return e.path}).filter(function(e){return e.length>0}).join("/"),i=n.length>0?'at path "/'+n+'" ':"",o=Je(t)?"value of type "+Xe(t).type.name+":":wt(t)?"value":"snapshot",a=r&&Je(t)&&r.is(Xe(t).snapshot);return""+i+o+" "+Me(t)+" is not assignable "+(r?"to type: `"+r.name+"`":"")+(e.message?" ("+e.message+")":"")+(r?mr(r)||wt(t)?".":", expected an instance of `"+r.name+"` or a snapshot like `"+r.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Fe(e,t,r){return e.concat([{path:t,type:r}])}function Le(){return ct}function He(e,t,r){return[{context:e,value:t,message:r}]}function Be(e){return e.reduce(function(e,t){return e.concat(t)},[])}function $e(e,t){"undefined"!=typeof process&&Ue(e,t)}function Ue(e,t){var r=e.validate(t,[{path:"",type:e}]);if(r.length>0)throw bt(function(e,t,r){var n;if(0!==r.length)return"Error while converting "+(((n=Me(t)).length<280?n:n.substring(0,272)+"......"+n.substring(n.length-8))+" to `")+e.name+"`:\n\n    "+r.map(Re).join("\n    ")}(e,t,r))}var We,Ze=0,Ge=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:Ze++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:i.observable.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:i.observable.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var r=e.identifier;this.cache.has(r)||this.cache.set(r,i.observable.array([],ft));var n=this.cache.get(r);if(-1!==n.indexOf(e))throw bt("Already registered");n.push(e),t&&this.updateLastCacheModificationPerId(r)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;(0,i.values)(e.identifierCache.cache).forEach(function(e){return e.forEach(function(e){t.addNodeToCache(e)})})}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,r=this.cache.get(t);r&&(r.remove(e),r.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this,n=new e,o=t.path+"/";return(0,i.entries)(this.cache).forEach(function(e){for(var i=d(e,2),a=i[0],l=i[1],s=!1,u=l.length-1;u>=0;u--){var c=l[u];c!==t&&0!==c.path.indexOf(o)||(n.addNodeToCache(c,!1),l.splice(u,1),l.length||r.cache.delete(a),s=!0)}s&&r.updateLastCacheModificationPerId(a)}),n}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);return!!r&&r.some(function(t){return e.isAssignableFrom(t.type)})}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);if(!r)return null;var n=r.filter(function(t){return e.isAssignableFrom(t.type)});switch(n.length){case 0:return null;case 1:return n[0];default:throw bt("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+n.map(function(e){return e.path}).join(", "))}}}),e}();function Ye(e,t,r,n,i){var o=et(i);if(o){if(o.parent)throw bt("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+r+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,r),o}return new le(e,t,r,n,i)}function Ke(e,t,r,n,i){return new re(e,t,r,n,i)}function qe(e){return e instanceof re||e instanceof le}function Je(e){return!(!e||!e.$treenode)}function Qe(e,t){Ct()}function Xe(e){if(!Je(e))throw bt("Value "+e+" is no MST Node");return e.$treenode}function et(e){return e&&e.$treenode||null}function tt(){return Xe(this).snapshot}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(We||(We={}));var rt=function(e){return".."};function nt(e,t){if(e.root!==t.root)throw bt("Cannot calculate relative path: objects '"+e+"' and '"+t+"' are not part of the same object tree");for(var r=Bt(e.path),n=Bt(t.path),i=0;i<r.length&&r[i]===n[i];i++);return r.slice(i).map(rt).join("/")+Ht(n.slice(i))}function it(e,t,r){return void 0===r&&(r=!0),ot(e,Bt(t),r)}function ot(e,t,r){void 0===r&&(r=!0);var n=e;try{for(var i=0;i<t.length;i++){var o=t[i];if(".."===o){if(n=n.parent)continue}else{if("."===o)continue;if(n){if(n instanceof re){var a=n.value;Je(a)&&(n=Xe(a))}if(n instanceof le&&n.getChildType(o)&&(n=n.getChildNode(o)))continue}}throw bt("Could not resolve '"+o+"' in path '"+(Ht(t.slice(0,i))||"/")+"' while resolving '"+Ht(t)+"'")}}catch(e){if(!r)return;throw e}return n}function at(e){if(!e)return ct;var t=Object.keys(e);if(!t.length)return ct;var r=new Array(t.length);return t.forEach(function(t,n){r[n]=e[t]}),r}var lt="See https://github.com/mobxjs/mobx-state-tree/issues/399 for more information. Note that the middleware event types starting with `process` now start with `flow`.";function st(e){return It("process","`process()` has been renamed to `flow()`. "+lt),Vt(e)}var ut=Object.toString(),ct=Object.freeze([]),pt=Object.freeze({}),ft=(0,i._getGlobalState)().useProxies?{deep:!1}:{deep:!1,proxy:!1};function bt(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function dt(e){return e}Object.freeze(ft);var ht=Number.isInteger;function yt(e){return Array.isArray(e)||(0,i.isObservableArray)(e)}function vt(e){return e?yt(e)?e:[e]:ct}function gt(e){var t;if(null===e||"object"!=typeof e)return!1;var r=Object.getPrototypeOf(e);return null==r||(null===(t=r.constructor)||void 0===t?void 0:t.toString())===ut}function mt(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function wt(e,t){return void 0===t&&(t=!0),null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date}function Pt(e){return"function"!=typeof e}function Ot(e,t,r){!function(e,t,r){(0,i.isObservableObject)(e)?(0,i.defineProperty)(e,t,r):Object.defineProperty(e,t,r)}(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}var jt=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){r.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.slice().forEach(function(t){return t.apply(void 0,h(e))})}}),e}(),St=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){void 0===r&&(r=!1),this.eventHandlers||(this.eventHandlers={});var n=this.eventHandlers[e];return n||(n=this.eventHandlers[e]=new jt),n.register(t,r)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];return!!r&&r.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];r&&r.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,h(r))}}),e}();function At(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function _t(e,t){return 0===e.indexOf(t)}var It=function(e,t){};function Ct(e,t,r,n){}function Tt(e,t){}function Et(e,t,r,n){}function xt(e,t,r){void 0===r&&(r=!0)}function kt(e){"function"==typeof queueMicrotask?queueMicrotask(e):"function"==typeof setImmediate?setImmediate(e):setTimeout(e,1)}function Vt(e){return function(e,t){var r=function(){var n=_e(),i=Ae();if(!i)throw bt("a mst flow must always have a parent context");var o=Ce(i);if(!o)throw bt("a mst flow must always have a parent action context");var a={name:e,id:n,tree:i.tree,context:i.context,parentId:i.id,allParentIds:h(i.allParentIds,[i.id]),rootId:i.rootId,parentEvent:i,parentActionEvent:o},l=arguments;function s(e,t,n){return e.$mst_middleware=r.$mst_middleware,Ie(p(p({},a),{type:t,args:[n]}),e)}return new Promise(function(e,n){var i,o=function(){i=t.apply(null,arguments),u(void 0)};function u(e){var t;try{var r=s(function(e){t=i.next(e)},"flow_resume",e);r instanceof Error&&(t=i.throw(r))}catch(e){return void kt(function(){s(function(t){n(e)},"flow_throw",e)})}f(t)}function c(e){var t;try{s(function(e){t=i.throw(e)},"flow_resume_error",e)}catch(e){return void kt(function(){s(function(t){n(e)},"flow_throw",e)})}f(t)}function f(t){if(!t.done){if(!t.value||"function"!=typeof t.value.then)throw bt("Only promises can be yielded to `async`, got: "+t);return t.value.then(u,c)}kt(function(){s(function(t){e(t)},"flow_return",t.value)})}o.$mst_middleware=r.$mst_middleware,Ie(p(p({},a),{type:"flow_spawn",args:At(l)}),o)})};return r._isFlowAction=!0,r}(e.name,e)}function Nt(e){return e}function Dt(e){return function(){var t,r=[];for(t=0;t<arguments.length;t++)r[t]=arguments[t];return f(this,function(t){switch(t.label){case 0:return[4,e.apply(void 0,h(r))];case 1:return[2,t.sent()]}})}}function zt(e){return f(this,function(t){switch(t.label){case 0:return[4,e];case 1:return[2,t.sent()]}})}function Mt(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function Rt(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Ft(e){return 1==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Lt(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ht(e){if(0===e.length)return"";var t=function(e){return e.map(Ft).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}function Bt(e){var t=e.split("/").map(Lt);if(!(""===e||"."===e||".."===e||_t(e,"/")||_t(e,"./")||_t(e,"../")))throw bt("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}It.ids={};var $t,Ut=Symbol("$preProcessorFailed"),Wt=function(e){function t(t,r,n){var i=e.call(this,n||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|ie.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){try{return this.preProcessSnapshot(e)}catch(e){return Ut}}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._processors.postProcessor?this._processors.postProcessor.call(null,e,t.storedValue):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var r,n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=b(i),l=a.next();!l.done;l=a.next()){var s=l.value;e[s]=t[s].bind(t)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}(e.type,this,"create"),e instanceof le&&(e.hasSnapshotPostProcessor=!!this._processors.postProcessor);var r=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(r.call(e),e)},Ir(this._subtype)||(e.getReconciliationType=function(){return t})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Je(n)?n:this.preProcessSnapshot(n),o=this._subtype.instantiate(e,t,r,i);return this._fixNode(o),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this._subtype.reconcile(e,Je(t)?t:this.preProcessSnapshot(t),r,n);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var r=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(r,e):r}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.preProcessSnapshotSafe(e);return r===Ut?He(t,e,"Failed to preprocess value"):this._subtype.validate(r,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=be(e)?this._subtype:Je(e)?_(e,!1):this.preProcessSnapshotSafe(e);return t!==Ut&&0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(this._subtype instanceof pe))return!1;var r=this.preProcessSnapshot(t);return this._subtype.isMatchingSnapshotId(e,r)}}),t}(ce),Zt="Map.put can only be used to store complex values that have an identifier type attribute";function Gt(e,t){var r,n,i=e.getSubTypes();if(i===se)return!1;if(i){var o=vt(i);try{for(var a=b(o),l=a.next();!l.done;l=a.next())if(!Gt(l.value,t))return!1}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}return e instanceof ar&&t.push(e),!0}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}($t||($t={}));var Yt=function(e){function t(t,r){return e.call(this,t,i.observable.ref.enhancer,r)||this}return c(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return e.prototype.set.call(this,""+t,r)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw bt("Map.put cannot be used to set empty values");if(Je(e)){var t=Xe(e);if(null===t.identifier)throw bt(Zt);return this.set(t.identifier,e),e}if(mt(e)){var r=Xe(this),n=r.type;if(n.identifierMode!==$t.YES)throw bt(Zt);var i=e[n.mapIdentifierAttribute];if(!tn(i)){var o=this.put(n.getChildType().create(e,r.environment));return this.put(_(o))}var a=en(i);return this.set(a,e),this.get(a)}throw bt("Map.put can only be used to store complex values")}}),t}(i.ObservableMap),Kt=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:$t.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=n,i}return c(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._determineIdentifierMode(),Ye(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===$t.UNKNOWN){var e=[];if(Gt(this._subType,e)){var t=e.reduce(function(e,t){if(!t.identifierAttribute)return e;if(e&&e!==t.identifierAttribute)throw bt("The objects in a map should all have the same identifier attribute, expected '"+e+"', but child of type '"+t.name+"' declared attribute '"+t.identifierAttribute+"' as identifier");return t.identifierAttribute},void 0);t?(this.identifierMode=$t.YES,this.mapIdentifierAttribute=t):this.identifierMode=$t.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type._subType,n={};return Object.keys(t).forEach(function(i){n[i]=r.instantiate(e,i,void 0,t[i])}),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new Yt(e,this.name)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){(0,i._interceptReads)(t,e.unbox),e.type.hookInitializers.forEach(function(e){var r=e(t);Object.keys(r).forEach(function(e){var n=r[e],i=Te(t,e,n);Ot(t,e,i)})}),(0,i.intercept)(t,this.willChange),(0,i.observe)(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,i.values)(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e.storedValue.get(""+t);if(!r)throw bt("Not a child "+t);return r}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Xe(e.object),r=e.name;t.assertWritable({subpath:r});var n=t.type,i=n._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(r))return null;$e(i,o),e.newValue=i.reconcile(t.getChildNode(r),e.newValue,t,r),n.processIdentifier(r,e.newValue);break;case"add":$e(i,e.newValue),e.newValue=i.instantiate(t,r,void 0,e.newValue),n.processIdentifier(r,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===$t.YES&&t instanceof le){var r=t.identifier;if(r!==e)throw bt("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+r+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach(function(e){t[e.subpath]=e.snapshot}),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r].getSnapshot()}),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Xe(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Ft(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Ft(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var r=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Ft(e.name),oldValue:r},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue;switch(r.op){case"add":case"replace":n.set(t,r.value);break;case"remove":n.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){$e(this,t);var r=e.storedValue,n={};if(Array.from(r.keys()).forEach(function(e){n[e]=!1}),t)for(var i in t)r.set(i,t[i]),n[""+i]=!0;Object.keys(n).forEach(function(e){!1===n[e]&&r.delete(e)})}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return gt(e)?Be(Object.keys(e).map(function(n){return r._subType.validate(e[n],Fe(t,n,r._subType))})):He(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return pt}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(pe);function qt(e){return be(e)&&(e.flags&ie.Map)>0}Kt.prototype.applySnapshot=(0,i.action)(Kt.prototype.applySnapshot);var Jt=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=n,i}return c(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Ye(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var r=e.type._subType,n={};return t.forEach(function(t,i){var o=""+i;n[o]=r.instantiate(e,o,void 0,t)}),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=p(p({},ft),{name:this.name});return i.observable.array(at(e),t)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){(0,i._getAdministration)(t).dehancer=e.unbox,e.type.hookInitializers.forEach(function(e){var r=e(t);Object.keys(r).forEach(function(e){var n=r[e],i=Te(t,e,n);Ot(t,e,i)})}),(0,i.intercept)(t,this.willChange),(0,i.observe)(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=Number(t);if(r<e.storedValue.length)return e.storedValue[r];throw bt("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Xe(e.object);t.assertWritable({subpath:""+e.index});var r=t.type._subType,n=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=Qt(t,r,[n[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,l=e.added,s=Qt(t,r,n.slice(o,o+a),l,l.map(function(e,t){return o+t}));if(!s)return null;e.added=s;for(var u=o+a;u<n.length;u++)n[u].setParent(t,""+(u+l.length-a))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map(function(e){return e.snapshot})}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach(function(r){t.push(e[r].getSnapshot())}),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Xe(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var r=e.removedCount-1;r>=0;r--)t.emitPatch({op:"remove",path:""+(e.index+r),oldValue:e.removed[r].snapshot},t);for(r=0;r<e.addedCount;r++)t.emitPatch({op:"add",path:""+(e.index+r),value:t.getChildNode(""+(e.index+r)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue,i="-"===t?n.length:Number(t);switch(r.op){case"replace":n[i]=r.value;break;case"add":n.splice(i,0,r.value);break;case"remove":n.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){$e(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return yt(e)?Be(e.map(function(e,n){return r._subType.validate(e,Fe(t,""+n,r._subType))})):He(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ct}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(pe);function Qt(e,t,r,n,i){for(var o=!0,a=0;;a++){var l=a<=n.length-1,s=r[a],u=l?n[a]:void 0,c=""+i[a];if(qe(u)&&(u=u.storedValue),!s&&!l)break;if(l)if(s)if(er(s,u))r[a]=Xt(t,e,c,u,s);else{for(var p=void 0,f=a;f<r.length;f++)if(er(r[f],u)){p=r.splice(f,1)[0];break}o=!1,b=Xt(t,e,c,u,p),r.splice(a,0,b)}else{if(Je(u)&&Xe(u).parent===e)throw bt("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+c+"', but it lives already at '"+Xe(u).path+"'");o=!1;var b=Xt(t,e,c,u);r.splice(a,0,b)}else o=!1,r.splice(a,1),s instanceof le&&s.createObservableInstanceIfNeeded(),s.die(),a--}return o?null:r}function Xt(e,t,r,n,i){$e(e,n);var o=function(){if(Je(n)){var o=Xe(n);if(o.assertAlive(pt),null!==o.parent&&o.parent===t)return o.setParent(t,r),o}return i?e.reconcile(i,n,t,r):e.instantiate(t,r,void 0,n)}();return i&&i!==o&&(i instanceof le&&i.createObservableInstanceIfNeeded(),i.die()),o}function er(e,t){if(!e.isAlive)return!1;if(Je(t)){var r=Xe(t);return r.isAlive&&r===e}if(e.snapshot===t)return!0;if(!(e instanceof le))return!1;var n=e.getReconciliationType();return null!==e.identifier&&e.identifierAttribute&&gt(t)&&n.is(t)&&n.isMatchingSnapshotId(e,t)}function tr(e){return be(e)&&(e.flags&ie.Array)>0}Jt.prototype.applySnapshot=(0,i.action)(Jt.prototype.applySnapshot);var rr="preProcessSnapshot",nr="postProcessSnapshot";function ir(){return Xe(this).toString()}var or={name:"AnonymousModel",properties:{},initializers:ct};var ar=function(e){function t(t){var r,i,o,a=e.call(this,t.name||or.name)||this;return Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Object}),Object.defineProperty(a,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return a.cloneAndEnhance({name:e})}}),Object.defineProperty(a,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return a.cloneAndEnhance({properties:e})}}),Object.defineProperty(a,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=a.preProcessor;return t?a.cloneAndEnhance({preProcessor:function(r){return t(e(r))}}):a.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(a,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=a.postProcessor;return t?a.cloneAndEnhance({postProcessor:function(r){return e(t(r))}}):a.cloneAndEnhance({postProcessor:e})}}),Object.assign(a,or,t),a.properties=(r=a.properties,i=Object.keys(r),o=new Set,i.forEach(function(e){if(o.has(e))throw bt(e+" is declared twice in the model. Model should not contain the same keys");o.add(e)}),i.reduce(function(e,t){if(t in n)throw bt("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var i=Object.getOwnPropertyDescriptor(r,t);if("get"in i)throw bt("Getters are not supported as properties. Please use views instead");var o=i.value;if(null==o)throw bt("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(wt(o))e[t]=Tr(function(e){switch(typeof e){case"string":return ur;case"number":return cr;case"boolean":return dr;case"object":if(e instanceof Date)return gr}throw bt("Cannot determine primitive type from value "+e)}(o),o);else if(o instanceof Kt)e[t]=Tr(o,{});else if(o instanceof Jt)e[t]=Tr(o,[]);else if(!be(o))throw bt("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+o+"' ("+typeof o+")");return e},p({},r))),a.properties,a.propertyNames=Object.keys(a.properties),a.identifierAttribute=a._getIdentifierAttribute(),a}return c(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps(function(t,r){if(r.flags&ie.Identifier){if(e)throw bt("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}}),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateActions(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!gt(t))throw bt("actions initializer should return a plain object containing actions");Object.keys(t).forEach(function(r){if(r===rr)throw bt("Cannot define action '"+rr+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(r===nr)throw bt("Cannot define action '"+nr+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var i=t[r],o=e[r];if(r in n&&o){var a=i;i=function(){o.apply(null,arguments),a.apply(null,arguments)}}var l=i.$mst_middleware,s=i.bind(t);s._isFlowAction=i._isFlowAction||!1,s.$mst_middleware=l;var u=Te(e,r,s);t[r]=u,Ot(e,r,u)})}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!=typeof e)throw bt("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(r){return t.instantiateVolatileState(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!gt(t))throw bt("volatile state initializer should return a plain object containing state");(0,i.set)(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){var n=e(r),i=n.actions,o=n.views,a=n.state,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(n,["actions","views","state"]);for(var s in l)throw bt("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+s+"'");return a&&t.instantiateVolatileState(r,a),o&&t.instantiateViews(r,o),i&&t.instantiateActions(r,i),r}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateViews(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!gt(t))throw bt("views initializer should return a plain object containing views");Object.getOwnPropertyNames(t).forEach(function(r){var n,o=Object.getOwnPropertyDescriptor(t,r);if("get"in o)(0,i.defineProperty)(e,r,o),(0,i.makeObservable)(e,((n={})[r]=i.computed,n));else{if("function"!=typeof o.value)throw bt("A view member should either be a function or getter based property");Ot(e,r,o.value)}})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Ye(this,e,t,r,Je(n)?n:this.applySnapshotPreProcessor(n))}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type,n={};return r.forAllProps(function(r,i){n[r]=i.instantiate(e,r,void 0,t[r])}),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=p(p({},ft),{name:this.name});return i.observable.object(e,pt,t)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Ot(t,"toString",ir),this.forAllProps(function(r){(0,i._interceptReads)(t,r,e.unbox)}),this.initializers.reduce(function(e,t){return t(e)},t),(0,i.intercept)(t,this.willChange),(0,i.observe)(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=Xe(t.object),n=t.name;r.assertWritable({subpath:n});var i=r.type.properties[n];return i&&($e(i,t.newValue),t.newValue=i.reconcile(r.getChildNode(n),t.newValue,r,n)),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=Xe(t.object);if(r.type.properties[t.name]){var n=t.oldValue?t.oldValue.snapshot:void 0;r.emitPatch({op:"replace",path:Ft(t.name),value:t.newValue.snapshot,oldValue:n},r)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,r=[];return this.forAllProps(function(n){r.push(t.getChildNode(e,n))}),r}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r;if(!(t in this.properties))throw bt("Not a value property: "+t);var n=(0,i._getAdministration)(e.storedValue,t),o=null===(r=n.raw)||void 0===r?void 0:r.call(n);if(!o)throw bt("Node not available for property "+t);return o}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={};return this.forAllProps(function(t,o){try{(0,i.getAtom)(e.storedValue,t).reportObserved()}catch(e){throw bt(t+" property is declared twice")}n[t]=r.getChildNode(e,t).snapshot}),t?this.applySnapshotPostProcessor(n):n}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r].getSnapshot()}),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){if("replace"!==r.op&&"add"!==r.op)throw bt("object does not support operation "+r.op);e.storedValue[t]=r.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){$e(this,t);var r=this.applySnapshotPreProcessor(t);this.forAllProps(function(t){e.storedValue[t]=r[t]})}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return xt(),this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,n=this.applySnapshotPreProcessor(e);return gt(n)?Be(this.propertyNames.map(function(e){return r.properties[e].validate(n[e],Fe(t,e,r.properties[e]))})):He(t,n,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach(function(r){return e(r,t.properties[r])})}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map(function(t){return t+": "+e.properties[t].describe()}).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return pt}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(pe);function lr(e){return be(e)&&(e.flags&ie.Object)>0}ar.prototype.applySnapshot=(0,i.action)(ar.prototype.applySnapshot);var sr=function(e){function t(t,r,n,i){void 0===i&&(i=dt);var o=e.call(this,t)||this;return Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"checker",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),o.flags=r,o}return c(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Ke(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return wt(e)&&this.checker(e)?Le():He(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(fe),ur=new sr("string",ie.String,function(e){return"string"==typeof e}),cr=new sr("number",ie.Number,function(e){return"number"==typeof e}),pr=new sr("integer",ie.Integer,function(e){return ht(e)}),fr=new sr("float",ie.Float,function(e){return t=e,Number(t)===t&&t%1!=0;var t}),br=new sr("finite",ie.Finite,function(e){return t=e,Number.isFinite(t);var t}),dr=new sr("boolean",ie.Boolean,function(e){return"boolean"==typeof e}),hr=new sr("null",ie.Null,function(e){return null===e}),yr=new sr("undefined",ie.Undefined,function(e){return void 0===e}),vr=new sr("Date",ie.Date,function(e){return"number"==typeof e||e instanceof Date},function(e){return e instanceof Date?e:new Date(e)});vr.getSnapshot=function(e){return e.storedValue.getTime()};var gr=vr;function mr(e){return be(e)&&(e.flags&(ie.String|ie.Number|ie.Integer|ie.Boolean|ie.Date))>0}var wr=function(e){function t(t){var r=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(r,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Literal}),r.value=t,r}return c(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Ke(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return wt(e)&&e===this.value?Le():He(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(fe);function Pr(e){return new wr(e)}function Or(e){return be(e)&&(e.flags&ie.Literal)>0}var jr=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return Object.defineProperty(o,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|ie.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this._subtype.validate(e,t);if(r.length>0)return r;var n=Je(e)?Xe(e).snapshot:e;return this._predicate(n)?Le():He(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(ce);function Sr(e){return(e.flags&ie.Refinement)>0}var Ar=function(e){function t(t,r,n){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),n=p({eager:!0,dispatcher:void 0},n),i._dispatcher=n.dispatcher,n.eager||(i._eager=!1),i}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=ie.Union;return this._types.forEach(function(t){e|=t.flags}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some(function(t){return t.isAssignableFrom(e)})}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map(function(e){return e.describe()}).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(n,void 0);if(!i)throw bt("No matching type for union "+this.describe());return i.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(t,e.getReconciliationType());if(!i)throw bt("No matching type for union "+this.describe());return i.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter(function(e){return e!==t}).find(function(t){return t.is(e)}):this._types.find(function(t){return t.is(e)})}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var r=[],n=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return Le();n++}else r.push(o)}return 1===n?Le():He(t,e,"No type is applicable for the union").concat(Be(r))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(ce);function _r(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=be(e)?void 0:e,i=be(e)?h([e],t):t,o="("+i.map(function(e){return e.name}).join(" | ")+")";return new Ar(o,i,n)}function Ir(e){return(e.flags&ie.Union)>0}var Cr=function(e){function t(t,r,n){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|ie.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.optionalValues.indexOf(n)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,r,i)}return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),r,n)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&$e(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?Le():this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(ce);function Tr(e,t,r){return function(e,t){if("function"!=typeof t&&Je(t))throw bt("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");de()}(0,t),new Cr(e,t,r||Er)}var Er=[void 0];function xr(e){return be(e)&&(e.flags&ie.Optional)>0}var kr=Tr(yr,void 0),Vr=Tr(hr,null);function Nr(e){return de(),_r(e,kr)}var Dr=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|ie.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw bt("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.getSubType(!1);return r?r.validate(e,t):Le()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getSubType(!1)||se}}),t}(ce);function zr(e){return be(e)&&(e.flags&ie.Late)>0}var Mr=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Lazy}),Object.defineProperty(n,"loadedType",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(n,"pendingNodeList",{enumerable:!0,configurable:!0,writable:!0,value:i.observable.array()}),(0,i.when)(function(){return n.pendingNodeList.length>0&&n.pendingNodeList.some(function(e){return e.isAlive&&n.options.shouldLoadPredicate(e.parent?e.parent.value:null)})},function(){n.options.loadType().then((0,i.action)(function(e){n.loadedType=e,n.pendingNodeList.forEach(function(e){e.parent&&n.loadedType&&e.parent.applyPatches([{op:"replace",path:"/"+e.subpath,value:e.snapshot}])})}))}),n}return c(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<lazy "+this.name+">"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var o=this;if(this.loadedType)return this.loadedType.instantiate(e,t,r,n);var a=Ke(this,e,t,r,n);return this.pendingNodeList.push(a),(0,i.when)(function(){return!a.isAlive},function(){return o.pendingNodeList.splice(o.pendingNodeList.indexOf(a),1)}),a}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.loadedType?this.loadedType.validate(e,t):Pt(e)?Le():He(t,e,"Value is not serializable and cannot be lazy")}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r,n,i){return this.loadedType?(t.die(),this.loadedType.instantiate(n,i,n.environment,r)):e.prototype.reconcile.call(this,t,r,n,i)}}),t}(fe),Rr=function(e){function t(t){var r=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(r,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Frozen}),r}return c(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Ke(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Pt(e)?this.subType?this.subType.validate(e,t):Le():He(t,e,"Value is not serializable and cannot be frozen")}}),t}(fe),Fr=new Rr;function Lr(e){return be(e)&&(e.flags&ie.Frozen)>0}var Hr=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),tn(e))this.identifier=e;else{if(!Je(e))throw bt("Can only store references to tree nodes or identifiers, got: '"+e+"'");var r=Xe(e);if(!r.identifierAttribute)throw bt("Can only store references with a defined identifier attribute.");var n=r.unnormalizedIdentifier;if(null==n)throw bt("Can only store references to tree nodes with a defined identifier.");this.identifier=n}}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=en(this.identifier),r=e.root,n=r.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==n){var i=this.targetType,o=r.identifierCache.resolve(i,t);if(!o)throw new Br("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:n}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),Br=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return c(t,e),t}(Error),$r=function(e){function t(t,r){var n=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(n,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Reference}),n}return c(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return tn(e)?Le():He(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:n?n.storedValue:void 0,invalidId:r,replaceRef:function(e){w(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){lr(i.type)?this.replaceRef(void 0):w(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,i=this.getValue(e);if(i){var o=Xe(i),a=function(i,a){var l=function(e){switch(e){case n.beforeDestroy:return"destroy";case n.beforeDetach:return"detach";default:return}}(a);l&&r.fireInvalidated(l,e,t,o)},l=o.registerHook(n.beforeDetach,a),s=o.registerHook(n.beforeDestroy,a);return function(){l(),s()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var i=this;if(this.onInvalidated){var o;e.registerHook(n.beforeDestroy,function(){o&&o()});var a=function(n){o&&o();var a=e.parent,l=a&&a.storedValue;a&&a.isAlive&&l&&((r?r.get(t,l):e.root.identifierCache.has(i.targetType,en(t)))?o=i.addTargetNodeWatcher(e,t):n||i.fireInvalidated("invalidSnapshotReference",e,t,null))};e.state===We.FINALIZED?a(!0):(e.isRoot||e.root.registerHook(n.afterCreationFinalization,function(){e.parent&&e.parent.createObservableInstanceIfNeeded()}),e.registerHook(n.afterAttach,function(){a(!1)}))}}}),t}(fe),Ur=function(e){function t(t,r){return e.call(this,t,r)||this}return c(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Je(n)?M(n):n,o=new Hr(n,this.targetType),a=Ke(this,e,t,r,o);return o.node=a,this.watchTargetNodeForInvalidations(a,i,void 0),a}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this){var i=Je(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(r,n),e}var a=this.instantiate(r,n,void 0,t);return e.die(),a}}),t}($r),Wr=function(e){function t(t,r,n){var i=e.call(this,t,n)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return c(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Je(n)?this.options.set(n,e?e.storedValue:null):n,o=Ke(this,e,t,r,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Je(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(r,n),e;var o=this.instantiate(r,n,void 0,i);return e.die(),o}}),t}($r);function Zr(e,t){de();var r=t||void 0,n=t?t.onInvalidated:void 0;return r&&(r.get||r.set)?new Wr(e,{get:r.get,set:r.set},n):new Ur(e,n)}function Gr(e){return(e.flags&ie.Reference)>0}var Yr=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"validType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Identifier}),n}return c(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!(e&&e.type instanceof ar))throw bt("Identifier types can only be instantiated as direct child of a model type");return Ke(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(e.storedValue!==t)throw bt("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(r,n),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?He(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):Le()}}),t}(fe),Kr=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Identifier}),t}return c(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(Yr),qr=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return c(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(Yr),Jr=new Kr,Qr=new qr;function Xr(e){return be(e)&&(e.flags&ie.Identifier)>0}function en(e){return""+e}function tn(e){return"string"==typeof e||"number"==typeof e}var rn=function(e){function t(t){var r=e.call(this,t.name)||this;return Object.defineProperty(r,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ie.Custom}),r}return c(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return Le();var r=this.options.getValidationMessage(e);return r?He(t,e,"Invalid value for type '"+this.name+"': "+r):Le()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Ke(this,e,t,r,this.options.isTargetType(n)?n:this.options.fromSnapshot(n,e&&e.root.environment))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=!this.options.isTargetType(t);if(!e.isDetaching&&e.type===this&&(i?t===e.snapshot:t===e.storedValue))return e.setParent(r,n),e;var o=i?this.options.fromSnapshot(t,r.root.environment):t,a=this.instantiate(r,n,void 0,o);return e.die(),a}}),t}(fe),nn={enumeration:function(e,t){var r="string"==typeof e?t:e,n=_r.apply(void 0,h(r.map(function(e){return Pr(""+e)})));return"string"==typeof e&&(n.name=e),n},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():"AnonymousModel",n=e.shift()||{};return new ar({name:r,properties:n})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0],n=r?e[0]:"AnonymousModel";return r&&e.shift(),e.reduce(function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(r){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(r))},postProcessor:function(r){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(r))}})}).named(n)},custom:function(e){return new rn(e)},reference:Zr,safeReference:function(e,t){var r=Zr(e,p(p({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?r:Nr(r)},union:_r,optional:Tr,literal:Pr,maybe:Nr,maybeNull:function(e){return de(),_r(e,Vr)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():be(e[0])?e[0].name:null,n=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return de(),xt(),new jr(r,n,i,o)},string:ur,boolean:dr,number:cr,integer:pr,float:fr,finite:br,Date:gr,map:function(e){return new Kt("Map<string, "+e.name+">",e)},array:function(e){return de(),new Jt(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?Fr:be(e)?new Rr(e):Tr(Fr,e)},identifier:Jr,identifierNumber:Qr,late:function(e,t){var r="string"==typeof e?e:"late("+e.toString()+")";return new Dr(r,"string"==typeof e?t:e)},lazy:function(e,t){return new Mr(e,t)},undefined:yr,null:hr,snapshotProcessor:function(e,t,r){return de(),new Wt(e,t,r)}}},39975:()=>{},41785:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},44776:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo")},45443:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"Share")},47109:(e,t,r)=>{r.d(t,{A:()=>a});class n{}class i{constructor(){this.signals=new Set,this.abortController=new AbortController}addSignal(e=new n){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",()=>{this.handleAborted(e)})}handleAborted(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}class o{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),this.currentMessage&&e(this.currentMessage)}callback(e){this.currentMessage=e;for(const t of this.callbacks)t(e)}}class a{constructor({fill:e,cache:t}){if("function"!=typeof e)throw new TypeError("must pass a fill function");if("object"!=typeof t)throw new TypeError("must pass a cache object");if("function"!=typeof t.get||"function"!=typeof t.set||"function"!=typeof t.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=t,this.fillCallback=e}static isAbortException(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}evict(e,t){this.cache.get(e)===t&&this.cache.delete(e)}fill(e,t,r,n){const a=new i,l=new o;l.addCallback(n);const s={aborter:a,promise:this.fillCallback(t,a.signal,e=>{l.callback(e)}),settled:!1,statusReporter:l,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(r),s.aborter.signal.addEventListener("abort",()=>{s.settled||this.evict(e,s)}),s.promise.then(()=>{s.settled=!0},()=>{s.settled=!0,this.evict(e,s)}).catch(e=>{throw console.error(e),e}),this.cache.set(e,s)}static checkSinglePromise(e,t){function r(){if(t?.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then(e=>(r(),e),e=>{throw r(),e})}has(e){return this.cache.has(e)}get(e,t,r,n){if(!r&&t instanceof AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const i=this.cache.get(e);return i?i.aborted&&!i.settled?(this.evict(e,i),this.get(e,t,r,n)):i.settled?i.promise:(i.aborter.addSignal(r),i.statusReporter.addCallback(n),a.checkSinglePromise(i.promise,r)):(this.fill(e,t,r,n),a.checkSinglePromise(this.cache.get(e).promise,r))}delete(e){const t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}clear(){const e=this.cache.keys();let t=0;for(let r=e.next();!r.done;r=e.next())this.delete(r.value),t+=1;return t}}},51456:(e,t,r)=>{r.d(t,{A:()=>a,C:()=>o});var n=r(51062),i=r(2958);function o(e){return(0,i.Ay)("MuiFab",e)}const a=(0,n.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"])},59985:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")},61762:(e,t,r)=>{r.d(t,{Ay:()=>b,qy:()=>s,rf:()=>u});var n=r(7552),i=r(43736),o=r(50864),a=r(69500);const l="function"==typeof(0,i.Dp)({}),s=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),u=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),c=(e,t=!1)=>{const r={};t&&e.colorSchemes&&"function"==typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(([t,n])=>{const i=e.getColorSchemeSelector(t);i.startsWith("@")?r[i]={":root":{colorScheme:n.palette?.mode}}:r[i.replace(/\s*&/,"")]={colorScheme:n.palette?.mode}});let n={html:s(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...u(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...r};const i=e.components?.MuiCssBaseline?.styleOverrides;return i&&(n=[n,i]),n},p="mui-ecs",f=(0,i.Dp)(l?({theme:e,enableColorScheme:t})=>c(e,t):({theme:e})=>(e=>{const t=c(e,!1),r=Array.isArray(t)?t[0]:t;return!e.vars&&r&&(r.html[`:root:has(${p})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([t,n])=>{const i=e.getColorSchemeSelector(t);i.startsWith("@")?r[i]={[`:root:not(:has(.${p}))`]:{colorScheme:n.palette?.mode}}:r[i.replace(/\s*&/,"")]={[`&:not(:has(.${p}))`]:{colorScheme:n.palette?.mode}}}),t})(e)),b=function(e){const t=(0,o.b)({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:i=!1}=t;return(0,a.jsxs)(n.Fragment,{children:[l&&(0,a.jsx)(f,{enableColorScheme:i}),!l&&!i&&(0,a.jsx)("span",{className:p,style:{display:"none"}}),r]})}},69293:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch")},69481:(e,t,r)=>{r.d(t,{A:()=>b});const n=(e,t)=>e>t?1:e<t?-1:0,i=1/0,o=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a="eexxaacctt",l=/\p{P}/gu,s=["en",{numeric:!0,sensitivity:"base"}],u=(e,t,r)=>e.replace("A-Z",t).replace("a-z",r),c={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:i,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,i],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,r)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,r,i=n)=>{let{idx:o,chars:a,terms:l,interLft2:s,interLft1:u,start:c,intraIns:p,interIns:f,cases:b}=e;return o.map((e,t)=>t).sort((e,r)=>a[r]-a[e]||p[e]-p[r]||l[r]+s[r]+.5*u[r]-(l[e]+s[e]+.5*u[e])||f[e]-f[r]||c[e]-c[r]||b[r]-b[e]||i(t[o[e]],t[o[r]]))}},p=(e,t)=>0==t?"":1==t?e+"??":t==i?e+"*?":e+`{0,${t}}?`,f="(?:\\b|_)";function b(e){e=Object.assign({},c,e);let{unicode:t,interLft:r,interRgt:i,intraMode:b,intraSlice:d,intraIns:y,intraSub:v,intraTrn:g,intraDel:m,intraContr:w,intraSplit:P,interSplit:O,intraBound:j,interBound:S,intraChars:A,toUpper:_,toLower:I,compare:C}=e;y??=b,v??=b,g??=b,m??=b,C??="undefined"==typeof Intl?n:new Intl.Collator(...s).compare;let T=e.letters??e.alpha;if(null!=T){let e=_(T),t=I(T);O=u(O,e,t),P=u(P,e,t),S=u(S,e,t),j=u(j,e,t),A=u(A,e,t),w=u(w,e,t)}let E=t?"u":"";const x='".+?"',k=new RegExp(x,"gi"+E),V=new RegExp(`(?:\\s+|^)-(?:${A}+|${x})`,"gi"+E);let{intraRules:N}=e;null==N&&(N=e=>{let t=c.intraSlice,r=0,n=0,i=0,o=0;if(/[^\d]/.test(e)){let a=e.length;a<=4?a>=3&&(i=Math.min(g,1),4==a&&(r=Math.min(y,1))):(t=d,r=y,n=v,i=g,o=m)}return{intraSlice:t,intraIns:r,intraSub:n,intraTrn:i,intraDel:o}});let D=!!P,z=new RegExp(P,"g"+E),M=new RegExp(O,"g"+E),R=new RegExp("^"+O+"|"+O+"$","g"+E),F=new RegExp(w,"gi"+E);const L=(e,t=!1)=>{let r=[];e=(e=e.replace(k,e=>(r.push(e),a))).replace(R,""),t||(e=I(e)),D&&(e=e.replace(z,e=>e[0]+" "+e[1]));let n=0;return e.split(M).filter(e=>""!=e).map(e=>e===a?r[n++]:e)},H=/[^\d]+|\d+/g,B=(t,n=0,a=!1)=>{let l=L(t);if(0==l.length)return[];let s,u=Array(l.length).fill("");if(l=l.map((e,t)=>e.replace(F,e=>(u[t]=e,""))),1==b)s=l.map((e,t)=>{if('"'===e[0])return o(e.slice(1,-1));let r="";for(let n of e.matchAll(H)){let e=n[0],{intraSlice:i,intraIns:o,intraSub:a,intraTrn:l,intraDel:s}=N(e);if(o+a+l+s==0)r+=e+u[t];else{let[n,c]=i,f=e.slice(0,n),b=e.slice(c),d=e.slice(n,c);1==o&&1==f.length&&f!=d[0]&&(f+="(?!"+f+")");let h=d.length,y=[e];if(a)for(let e=0;e<h;e++)y.push(f+d.slice(0,e)+A+d.slice(e+1)+b);if(l)for(let e=0;e<h-1;e++)d[e]!=d[e+1]&&y.push(f+d.slice(0,e)+d[e+1]+d[e]+d.slice(e+2)+b);if(s)for(let e=0;e<h;e++)y.push(f+d.slice(0,e+1)+"?"+d.slice(e+1)+b);if(o){let e=p(A,1);for(let t=0;t<h;t++)y.push(f+d.slice(0,t)+e+d.slice(t)+b)}r+="(?:"+y.join("|")+")"+u[t]}}return r});else{let e=p(A,y);2==n&&y>0&&(e=")("+e+")("),s=l.map((t,r)=>'"'===t[0]?o(t.slice(1,-1)):t.split("").map((e,t,r)=>(1==y&&0==t&&r.length>1&&e!=r[t+1]&&(e+="(?!"+e+")"),e)).join(e)+u[r])}let c=2==r?f:"",d=2==i?f:"",h=d+p(e.interChars,e.interIns)+c;return n>0?a?s=c+"("+s.join(")"+d+"|"+c+"(")+")"+d:(s="("+s.join(")("+h+")(")+")",s="(.??"+c+")"+s+"("+d+".*)"):(s=s.join(h),s=c+s+d),[new RegExp(s,"i"+E),l,u]},$=(e,t,r)=>{let[n]=B(t);if(null==n)return null;let i=[];if(null!=r)for(let t=0;t<r.length;t++){let o=r[t];n.test(e[o])&&i.push(o)}else for(let t=0;t<e.length;t++)n.test(e[t])&&i.push(t);return i};let U=!!j,W=new RegExp(S,E),Z=new RegExp(j,E);const G=(t,n,o)=>{let[a,l,s]=B(o,1),u=L(o,!0),[c]=B(o,2),p=l.length,f=Array(p),b=Array(p);for(let e=0;e<p;e++){let t=l[e],r=u[e],n='"'==t[0]?t.slice(1,-1):t+s[e],i='"'==r[0]?r.slice(1,-1):r+s[e];f[e]=n,b[e]=i}let d=t.length,h=Array(d).fill(0),y={idx:Array(d),start:h.slice(),chars:h.slice(),cases:h.slice(),terms:h.slice(),interIns:h.slice(),intraIns:h.slice(),interLft2:h.slice(),interRgt2:h.slice(),interLft1:h.slice(),interRgt1:h.slice(),ranges:Array(d)},v=1==r||1==i,g=0;for(let o=0;o<t.length;o++){let l=n[t[o]],s=l.match(a),u=s.index+s[1].length,d=u,h=!1,m=0,w=0,P=0,O=0,j=0,S=0,A=0,_=0,C=0,T=[];for(let t=0,n=2;t<p;t++,n+=2){let o=I(s[n]),a=f[t],c=b[t],y=a.length,g=o.length,x=o==a;if(s[n]==c&&A++,!x&&s[n+1].length>=y){let e=I(s[n+1]).indexOf(a);e>-1&&(T.push(d,g,e,y),d+=Y(s,n,e,y),o=a,g=y,x=!0,0==t&&(u=d))}if(v||x){let e=d-1,c=d+g,p=!1,f=!1;if(-1==e||W.test(l[e]))x&&m++,p=!0;else{if(2==r){h=!0;break}if(U&&Z.test(l[e]+l[e+1]))x&&w++,p=!0;else if(1==r){let e=s[n+1],r=d+g;if(e.length>=y){let i,c=0,f=!1,b=new RegExp(a,"ig"+E);for(;i=b.exec(e);){c=i.index;let e=r+c,t=e-1;if(-1==t||W.test(l[t])){m++,f=!0;break}if(Z.test(l[t]+l[e])){w++,f=!0;break}}f&&(p=!0,T.push(d,g,c,y),d+=Y(s,n,c,y),o=a,g=y,x=!0,0==t&&(u=d))}if(!p){h=!0;break}}}if(c==l.length||W.test(l[c]))x&&P++,f=!0;else{if(2==i){h=!0;break}if(U&&Z.test(l[c-1]+l[c]))x&&O++,f=!0;else if(1==i){h=!0;break}}x&&(j+=y,p&&f&&S++)}if(g>y&&(C+=g-y),t>0&&(_+=s[n-1].length),!e.intraFilt(a,o,d)){h=!0;break}t<p-1&&(d+=g+s[n+1].length)}if(!h){y.idx[g]=t[o],y.interLft2[g]=m,y.interLft1[g]=w,y.interRgt2[g]=P,y.interRgt1[g]=O,y.chars[g]=j,y.terms[g]=S,y.cases[g]=A,y.interIns[g]=_,y.intraIns[g]=C,y.start[g]=u;let e=l.match(c),r=e.index+e[1].length,n=T.length,i=n>0?0:1/0,a=n-4;for(let t=2;t<e.length;){let n=e[t].length;if(i<=a&&T[i]==r){let n=T[i+1],o=T[i+2],a=T[i+3],l=t,s="";for(let t=0;t<n;l++)s+=e[l],t+=e[l].length;e.splice(t,l-t,s),r+=Y(e,t,o,a),i+=4}else r+=n,t++}r=e.index+e[1].length;let s=y.ranges[g]=[],p=r,f=r;for(let t=2;t<e.length;t++){let n=e[t].length;r+=n,t%2==0?f=r:n>0&&(s.push(p,f),p=f=r)}f>p&&s.push(p,f),g++}}if(g<t.length)for(let e in y)y[e]=y[e].slice(0,g);return y},Y=(e,t,r,n)=>{let i=e[t]+e[t+1].slice(0,r);return e[t-1]+=i,e[t]=e[t+1].slice(r,r+n),e[t+1]=e[t+1].slice(r+n),i.length};return{search:(...t)=>((t,r,n,i=1e3,a)=>{n=n?!0===n?5:n:0;let s=null,u=null,c=[];r=r.replace(V,e=>{let t=e.trim().slice(1);return t='"'===t[0]?o(t.slice(1,-1)):t.replace(l,""),""!=t&&c.push(t),""});let p,f=L(r);if(c.length>0){if(p=new RegExp(c.join("|"),"i"+E),0==f.length){let e=[];for(let r=0;r<t.length;r++)p.test(t[r])||e.push(r);return[e,null,null]}}else if(0==f.length)return[null,null,null];if(n>0){let e=L(r);if(e.length>1){let r=e.slice().sort((e,t)=>t.length-e.length);for(let e=0;e<r.length;e++){if(0==a?.length)return[[],null,null];a=$(t,r[e],a)}if(e.length>n)return[a,null,null];s=h(e).map(e=>e.join(" ")),u=[];let i=new Set;for(let e=0;e<s.length;e++)if(i.size<a.length){let r=a.filter(e=>!i.has(e)),n=$(t,s[e],r);for(let e=0;e<n.length;e++)i.add(n[e]);u.push(n)}else u.push([])}}null==s&&(s=[r],u=[a?.length>0?a:$(t,r)]);let b=null,d=null;if(c.length>0&&(u=u.map(e=>e.filter(e=>!p.test(t[e])))),u.reduce((e,t)=>e+t.length,0)<=i){b={},d=[];for(let r=0;r<u.length;r++){let n=u[r];if(null==n||0==n.length)continue;let i=s[r],o=G(n,t,i),a=e.sort(o,t,i,C);if(r>0)for(let e=0;e<a.length;e++)a[e]+=d.length;for(let e in o)b[e]=(b[e]??[]).concat(o[e]);d=d.concat(a)}}return[[].concat(...u),b,d]})(...t),split:L,filter:$,info:G,sort:e.sort}}const d=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",D:"",d:"",G:"",g:"",L:"",l:"",N:"",n:"",S:"",s:"",T:"",t:"",Y:"",y:"",Z:"",z:""},t={},r="";for(let n in e)e[n].split("").forEach(e=>{r+=e,t[e]=n});let n=new RegExp(`[${r}]`,"g"),i=e=>t[e];return e=>{if("string"==typeof e)return e.replace(n,i);let t=Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].replace(n,i);return t}})();function h(e){let t,r,n=(e=e.slice()).length,i=[e.slice()],o=new Array(n).fill(0),a=1;for(;a<n;)o[a]<a?(t=a%2&&o[a],r=e[a],e[a]=e[t],e[t]=r,++o[a],a=1,i.push(e.slice())):(o[a]=0,++a);return i}const y=(e,t)=>t?`<mark>${e}</mark>`:e,v=(e,t)=>e+t;b.latinize=d,b.permute=e=>h([...Array(e.length).keys()]).sort((e,t)=>{for(let r=0;r<e.length;r++)if(e[r]!=t[r])return e[r]-t[r];return 0}).map(t=>t.map(t=>e[t])),b.highlight=function(e,t,r=y,n="",i=v){n=i(n,r(e.substring(0,t[0]),!1))??n;for(let o=0;o<t.length;o+=2){let a=t[o],l=t[o+1];n=i(n,r(e.substring(a,l),!0))??n,o<t.length-3&&(n=i(n,r(e.substring(t[o+1],t[o+2]),!1))??n)}return i(n,r(e.substring(t[t.length-1]),!1))??n}},71634:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight")},71777:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(7552),i=r(93878),o=r(75100),a=r(80317),l=r(21928),s=r(50864),u=r(74325),c=r(20535),p=r(95054),f=r(51062),b=r(2958);function d(e){return(0,b.Ay)("MuiAppBar",e)}(0,f.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var h=r(69500);const y=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,v=(0,a.Ay)(p.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${(0,u.A)(r.position)}`],t[`color${(0,u.A)(r.color)}`]]}})((0,l.A)(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter((0,c.A)(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?y(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?y(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),g=n.forwardRef(function(e,t){const r=(0,s.b)({props:e,name:"MuiAppBar"}),{className:n,color:a="primary",enableColorOnDark:l=!1,position:c="fixed",...p}=r,f={...r,color:a,position:c,enableColorOnDark:l},b=(e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${(0,u.A)(t)}`,`position${(0,u.A)(r)}`]};return(0,o.A)(i,d,n)})(f);return(0,h.jsx)(v,{square:!0,component:"header",ownerState:f,elevation:4,className:(0,i.A)(b.root,n,"fixed"===c&&"mui-fixed"),ref:t,...p})})},72851:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")},83504:(e,t,r)=>{r.d(t,{Q:()=>o});var n=r(7552);function i(){return{replace(e){window.history.replaceState(e.state,"",e.search||"?")},push(e){window.history.pushState(e.state,"",e.search||"?")},get location(){return window.location}}}const o=({children:e})=>{const[t]=(0,n.useState)(i);return e(t)}},84169:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"}),"FileCopy")},97657:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(29772),i=r(69500);const o=(0,n.A)((0,i.jsx)("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11"}),"Extension")}}]);
//# sourceMappingURL=4311.62a8eeb3.chunk.js.map