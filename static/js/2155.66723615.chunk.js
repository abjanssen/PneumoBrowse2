"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[2155],{14536(e,t,r){r.d(t,{renderSvg:()=>o});var n=r(44934),i=r(64500),s=r(44460);async function o(e,t,r){await(0,n.when)(()=>!!e.regionCannotBeRenderedText);const o=await r(t),l=await(0,i.V)(e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("g",{id:"data-layer",children:o}),l]})}},17165(e,t,r){r.d(t,{A:()=>g});var n=r(30128),i=r(23886),s=r(69566),o=r(55614),l=r(87377),a=r(76621),c=r(44460);const h=function(e){const t=(0,o.c)(4),{source:r,idx:n,rowHeight:i}=e,{color:s}=r;let l;return t[0]!==s||t[1]!==n||t[2]!==i?(l=s?(0,c.jsx)(a.A,{y:n*i,x:0,width:15.5,height:i+.5,color:s}):null,t[0]=s,t[1]=n,t[2]=i,t[3]=l):l=t[3],l},d=function(e){const t=(0,o.c)(6),{source:r,idx:n,rowHeight:i,textFillProps:s}=e,{color:l,name:a}=r,h=Math.min(i,12),d=(n+.5)*i,x=l?17:0;let u;return t[0]!==a||t[1]!==h||t[2]!==d||t[3]!==x||t[4]!==s?(u=(0,c.jsx)("text",{y:d,x,fontSize:h,dominantBaseline:"central",...s,children:a}),t[0]=a,t[1]=h,t[2]=d,t[3]=x,t[4]=s,t[5]=u):u=t[5],u},x=(0,s.observer)(function({model:e,labelWidth:t}){const{canDisplayLabels:r,rowHeight:s,sources:o}=e,x=(0,l.A)(),u=t+((0,n.useMemo)(()=>o?.some(e=>e.color)??!1,[o])?20:0),g=(0,n.useMemo)(()=>(0,i.getFillProps)(x.palette.text.primary),[x.palette.text.primary]);return o?(0,c.jsxs)(c.Fragment,{children:[r?(0,c.jsx)(a.A,{y:0,x:0,width:u,height:(o.length+.25)*s}):null,o.map((e,t)=>(0,c.jsx)(h,{source:e,idx:t,rowHeight:s},`${e.name}-${t}`)),r?o.map((e,t)=>(0,c.jsx)(d,{source:e,idx:t,rowHeight:s,textFillProps:g},`${e.name}-text-${t}`)):null]}):null}),u=(0,s.observer)(function({children:e,model:t,exportSVG:r}){const{id:n,scrollTop:s,height:o,hierarchy:l,treeAreaWidth:a,showTree:h}=t,d=`legend-${"undefined"==typeof jest?n:"test"}`,x=l&&h?a:0;return r?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:d,children:(0,c.jsx)("rect",{x:0,y:0,width:1e3,height:o})})}),(0,c.jsx)("g",{clipPath:`url(#${d})`,children:(0,c.jsx)("g",{transform:`translate(0,${-s})`,children:e})})]}):(0,c.jsx)("svg",{style:{position:"absolute",top:0,left:x,zIndex:100,pointerEvents:"none",height:t.totalHeight,width:(0,i.getContainingView)(t).width},children:e})}),g=(0,s.observer)(function(e){const{model:t}=e,{canDisplayLabels:r,rowHeight:s,sources:o}=t,l=Math.min(s,12),a=(0,n.useMemo)(()=>{if(!o)return 0;let e=0;for(const t of o){const n=r?(0,i.measureText)(t.name,l)+10:20;n>e&&(e=n)}return e},[o,l,r]);return o?(0,c.jsx)(u,{...e,children:(0,c.jsx)(x,{model:t,labelWidth:a})}):null})},76621(e,t,r){r.d(t,{A:()=>c});var n=r(55614),i=r(23886),s=r(7201),o=r(87377),l=r(24154),a=r(44460);const c=e=>{const t=(0,n.c)(11),{x:r,y:c,width:h,height:d,color:x}=e,u=(0,o.A)();let g,p,j;return t[0]!==x||t[1]!==u?(g=x||(0,s.X4)(u.palette.background.paper,l.U0),t[0]=x,t[1]=u,t[2]=g):g=t[2],t[3]!==g?(p=(0,i.getFillProps)(g),t[3]=g,t[4]=p):p=t[4],t[5]!==d||t[6]!==p||t[7]!==h||t[8]!==r||t[9]!==c?(j=(0,a.jsx)("rect",{pointerEvents:"auto",x:r,y:c,width:h,height:d,...p}),t[5]=d,t[6]=p,t[7]=h,t[8]=r,t[9]=c,t[10]=j):j=t[10],j}},64500(e,t,r){r.d(t,{V:()=>c});var n=r(23886),i=r(76621),s=r(69566),o=r(44460);const l=(0,s.observer)(function({model:e}){const{treeAreaWidth:t,hierarchy:r}=e,n=[];let i=0;if(r)for(const e of r.links()){const{source:t,target:r}=e,s=t.x,l=r.x,a=r.y,c=t.y;n.push((0,o.jsx)("line",{x1:c,y1:s,x2:c,y2:l,stroke:"black",opacity:"0.4"},`${c}-${s}-${a}-${l}-${i++}`),(0,o.jsx)("line",{x1:c,y1:l,x2:a,y2:l,stroke:"black",opacity:"0.4"},`${c}-${s}-${a}-${l}-${i++}`))}return n});var a=r(17165);async function c(e){const{offsetPx:t}=(0,n.getContainingView)(e),{hierarchy:r,showTree:s,treeAreaWidth:c,availableHeight:h}=e;return(0,o.jsxs)("g",{id:"tree-layer","data-testid":"tree-layer",transform:`translate(${Math.max(-t,0)})`,clipPath:"url(#sidebarClip)",children:[(0,o.jsx)("clipPath",{id:"sidebarClip",children:(0,o.jsx)("rect",{x:"0",y:"0",width:"100%",height:h})}),(0,o.jsx)("g",{id:"legend-layer",transform:`translate(${s&&r?c:0})`,children:(0,o.jsx)(a.A,{model:e,orientation:"left",exportSVG:!0})}),s&&r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.A,{x:0,y:0,width:c,height:h}),(0,o.jsx)(l,{model:e})]}):null]})}}}]);
//# sourceMappingURL=2155.66723615.chunk.js.map