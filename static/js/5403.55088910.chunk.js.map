{"version":3,"file":"static/js/5403.55088910.chunk.js","mappings":"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","sources":["webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/buildClickMap.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/constants.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/createInterbaseItem.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/drawNoncovEvents.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/drawStackedBars.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/calculateModificationCounts.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/makeImage.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/drawSecondPassModifications.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/drawSecondPassMethylation.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/drawSecondPassSNPs.ts","webpack://@jbrowse/web/../../plugins/alignments/src/SNPCoverageRenderer/drawCrossHatches.ts"],"sourcesContent":["import Flatbush from '@jbrowse/core/util/flatbush'\n\nimport type { ClickMapItem } from './types.ts'\n\nexport function buildClickMap(coords: number[], items: ClickMapItem[]) {\n  const flatbush = new Flatbush(Math.max(items.length, 1))\n  if (coords.length) {\n    for (let i = 0; i < coords.length; i += 4) {\n      flatbush.add(coords[i]!, coords[i + 1]!, coords[i + 2], coords[i + 3])\n    }\n  } else {\n    flatbush.add(0, 0)\n  }\n  flatbush.finish()\n  return {\n    flatbush: flatbush.data,\n    items,\n  }\n}\n","// Constants for SNPCoverageRenderer\n\nexport const INTERBASE_INDICATOR_WIDTH = 7\nexport const INTERBASE_INDICATOR_HEIGHT = 4.5\n\n// minimum read depth to draw the insertion indicators, below this the\n// 'statistical significance' is low\nexport const MINIMUM_INTERBASE_INDICATOR_READ_DEPTH = 7\n\n// threshold for drawing interbase counts when zoomed out (to avoid skipping\n// significant signals due to pixel collision optimization)\nexport const INTERBASE_DRAW_THRESHOLD = 0.1\n\nexport const complementBase = {\n  C: 'G',\n  G: 'C',\n  A: 'T',\n  T: 'A',\n} as const\n\nexport const fudgeFactor = 0.6\nexport const SNP_CLICKMAP_THRESHOLD = 0.04\n","import type { InterbaseIndicatorItem } from './types.ts'\n\nexport function createInterbaseItem(\n  maxBase: string,\n  count: number,\n  total: number,\n  start: number,\n  maxEntry?: {\n    avgLength?: number\n    minLength?: number\n    maxLength?: number\n    topSequence?: string\n  },\n): InterbaseIndicatorItem {\n  return {\n    type: maxBase as 'insertion' | 'softclip' | 'hardclip',\n    base: maxBase,\n    count,\n    total,\n    avgLength: maxEntry?.avgLength,\n    minLength: maxEntry?.minLength,\n    maxLength: maxEntry?.maxLength,\n    topSequence: maxEntry?.topSequence,\n    start,\n  }\n}\n","import {\n  INTERBASE_DRAW_THRESHOLD,\n  INTERBASE_INDICATOR_HEIGHT,\n  INTERBASE_INDICATOR_WIDTH,\n  MINIMUM_INTERBASE_INDICATOR_READ_DEPTH,\n} from './constants.ts'\nimport { createInterbaseItem } from './createInterbaseItem.ts'\n\nimport type { SecondPassContext } from './types.ts'\nimport type { BaseCoverageBin } from '../shared/types.ts'\n\nexport function drawNoncovEvents(\n  passCtx: SecondPassContext,\n  snpinfo: BaseCoverageBin,\n  leftPx: number,\n  score0: number,\n  prevTotal: number,\n  skipDraw: boolean,\n  fstart: number,\n) {\n  const {\n    ctx,\n    colorMap,\n    toHeight2,\n    extraHorizontallyFlippedOffset,\n    coords,\n    items,\n    bpPerPx,\n    indicatorThreshold,\n    showInterbaseCounts,\n    showInterbaseIndicators,\n  } = passCtx\n\n  let totalCount = 0\n  let maxDepth = 0\n  let maxBase = ''\n  let totalHeight = 0\n  const r = 0.6\n  const x = leftPx - r + extraHorizontallyFlippedOffset\n\n  for (const base in snpinfo.noncov) {\n    const { entryDepth } = snpinfo.noncov[base]!\n    totalCount += entryDepth\n    if (entryDepth > maxDepth) {\n      maxDepth = entryDepth\n      maxBase = base\n    }\n  }\n\n  // allow significant interbase signals to be drawn even when skipDraw is true\n  // (similar to SNP drawing logic)\n  const isSignificant =\n    score0 > 0 && totalCount > score0 * INTERBASE_DRAW_THRESHOLD\n  const showCounts = showInterbaseCounts && (!skipDraw || isSignificant)\n\n  if (showCounts) {\n    for (const base in snpinfo.noncov) {\n      const { entryDepth } = snpinfo.noncov[base]!\n      const barHeight = toHeight2(entryDepth)\n      ctx.fillStyle = colorMap[base]!\n      ctx.fillRect(\n        x,\n        INTERBASE_INDICATOR_HEIGHT + totalHeight,\n        r * 2,\n        barHeight,\n      )\n      totalHeight += barHeight\n    }\n  }\n\n  if (totalCount > 0) {\n    const maxEntry = snpinfo.noncov[maxBase]\n\n    if (showCounts) {\n      if (bpPerPx < 50 || isSignificant) {\n        const clickWidth = Math.max(r * 2, 2)\n        coords.push(\n          x,\n          INTERBASE_INDICATOR_HEIGHT,\n          x + clickWidth,\n          INTERBASE_INDICATOR_HEIGHT + totalHeight,\n        )\n        items.push(\n          createInterbaseItem(maxBase, totalCount, score0, fstart, maxEntry),\n        )\n      }\n    }\n\n    if (showInterbaseIndicators && (!skipDraw || isSignificant)) {\n      const indicatorComparatorScore = Math.max(score0, prevTotal)\n      if (\n        totalCount > indicatorComparatorScore * indicatorThreshold &&\n        indicatorComparatorScore > MINIMUM_INTERBASE_INDICATOR_READ_DEPTH\n      ) {\n        ctx.fillStyle = colorMap[maxBase]!\n        ctx.beginPath()\n        const l = leftPx + extraHorizontallyFlippedOffset\n        ctx.moveTo(l - INTERBASE_INDICATOR_WIDTH / 2, 0)\n        ctx.lineTo(l + INTERBASE_INDICATOR_WIDTH / 2, 0)\n        ctx.lineTo(l, INTERBASE_INDICATOR_HEIGHT)\n        ctx.fill()\n\n        const hitboxPadding = 1\n        coords.push(\n          l - INTERBASE_INDICATOR_WIDTH / 2 - hitboxPadding,\n          0,\n          l + INTERBASE_INDICATOR_WIDTH / 2 + hitboxPadding,\n          INTERBASE_INDICATOR_HEIGHT + hitboxPadding,\n        )\n        items.push(\n          createInterbaseItem(\n            maxBase,\n            totalCount,\n            indicatorComparatorScore,\n            fstart,\n            maxEntry,\n          ),\n        )\n      }\n    }\n  }\n}\n","export function drawStackedBars(\n  ctx: CanvasRenderingContext2D,\n  entries: Record<string, { entryDepth: number }>,\n  colorMap: Record<string, string>,\n  x: number,\n  bottom: number,\n  w: number,\n  h: number,\n  depth: number,\n  startCurr: number,\n) {\n  let curr = startCurr\n  for (const base in entries) {\n    const { entryDepth } = entries[base]!\n    ctx.fillStyle = colorMap[base] || 'black'\n    ctx.fillRect(\n      x,\n      bottom - ((entryDepth + curr) / depth) * h,\n      w,\n      (entryDepth / depth) * h,\n    )\n    curr += entryDepth\n  }\n  return curr\n}\n","import { complementBase } from './constants.ts'\n\nimport type {\n  ModificationCountsParams,\n  ModificationCountsResult,\n} from './types.ts'\n\nexport function calculateModificationCounts({\n  base,\n  isSimplex,\n  refbase,\n  snps,\n  ref,\n  score0,\n}: ModificationCountsParams): ModificationCountsResult {\n  if (base === 'N') {\n    return { modifiable: score0, detectable: score0 }\n  }\n\n  const cmp = complementBase[base as keyof typeof complementBase]\n\n  const baseCount =\n    (snps[base]?.entryDepth || 0) + (refbase === base ? ref.entryDepth : 0)\n  const complCount =\n    (snps[cmp]?.entryDepth || 0) + (refbase === cmp ? ref.entryDepth : 0)\n\n  const modifiable = baseCount + complCount\n\n  const detectable = isSimplex\n    ? (snps[base]?.['1'] || 0) +\n      (snps[cmp]?.['-1'] || 0) +\n      (refbase === base ? ref['1'] : 0) +\n      (refbase === cmp ? ref['-1'] : 0)\n    : modifiable\n\n  return { modifiable, detectable }\n}\n","import { readConfObject } from '@jbrowse/core/configuration'\nimport { createJBrowseTheme } from '@jbrowse/core/ui'\nimport {\n  checkStopToken2,\n  featureSpanPx,\n  renderToAbstractCanvas,\n} from '@jbrowse/core/util'\nimport { rpcResult } from '@jbrowse/core/util/librpc'\nimport { collectTransferables } from '@jbrowse/core/util/offscreenCanvasPonyfill'\nimport {\n  YSCALEBAR_LABEL_OFFSET,\n  getOrigin,\n  getScale,\n} from '@jbrowse/plugin-wiggle'\n\nimport { buildClickMap } from './buildClickMap.ts'\nimport { fudgeFactor } from './constants.ts'\nimport { drawCrossHatches } from './drawCrossHatches.ts'\nimport { drawSecondPassMethylation } from './drawSecondPassMethylation.ts'\nimport { drawSecondPassModifications } from './drawSecondPassModifications.ts'\nimport { drawSecondPassSNPs } from './drawSecondPassSNPs.ts'\n\nimport type {\n  ClickMapItem,\n  ReducedFeature,\n  RenderArgsDeserializedWithFeatures,\n  SecondPassContext,\n  SkipFeatureSerialized,\n} from './types'\nimport type { Feature } from '@jbrowse/core/util'\n\nexport async function renderSNPCoverageToCanvas(\n  props: RenderArgsDeserializedWithFeatures,\n) {\n  const { features, regions, bpPerPx, adapterConfig } = props\n  const region = regions[0]!\n  const width = (region.end - region.start) / bpPerPx\n  const height = props.height\n  const adapterId = adapterConfig.adapterId ?? 'unknown'\n\n  const skipFeatures: SkipFeatureSerialized[] = []\n  const coverageFeatures: Feature[] = []\n\n  for (const feature of features.values()) {\n    if (feature.get('type') === 'skip') {\n      skipFeatures.push({\n        uniqueId: feature.id(),\n        type: 'skip',\n        refName: region.refName,\n        start: feature.get('start'),\n        end: feature.get('end'),\n        strand: feature.get('strand'),\n        score: feature.get('score'),\n        effectiveStrand: feature.get('effectiveStrand'),\n      })\n    } else {\n      coverageFeatures.push(feature)\n    }\n  }\n\n  const { reducedFeatures, coords, items, ...rest } =\n    await renderToAbstractCanvas(width, height, props, ctx =>\n      drawSNPCoverage(ctx, props, coverageFeatures),\n    )\n\n  const serialized = {\n    ...rest,\n    features: reducedFeatures.map((f, idx) => ({\n      ...f,\n      uniqueId: `${adapterId}-${f.start}-${idx}`,\n    })),\n    skipFeatures,\n    clickMap: buildClickMap(coords, items),\n    height,\n    width,\n  }\n\n  return rpcResult(serialized, collectTransferables(rest))\n}\n\nfunction drawSNPCoverage(\n  ctx: CanvasRenderingContext2D,\n  props: RenderArgsDeserializedWithFeatures,\n  coverageFeatures: Feature[],\n) {\n  const {\n    regions,\n    bpPerPx,\n    colorBy,\n    displayCrossHatches,\n    visibleModifications = {},\n    simplexModifications = [],\n    scaleOpts,\n    height: unadjustedHeight,\n    theme: configTheme,\n    config: cfg,\n    ticks,\n    stopTokenCheck,\n  } = props\n  const theme = createJBrowseTheme(configTheme)\n  const region = regions[0]!\n  const width = (region.end - region.start) / bpPerPx\n\n  const offset = YSCALEBAR_LABEL_OFFSET\n  const height = unadjustedHeight - offset * 2\n\n  const opts = { ...scaleOpts, range: [0, height] }\n  const viewScale = getScale(opts)\n\n  const indicatorViewScale = getScale({\n    ...opts,\n    range: [0, height / 2],\n    scaleType: 'linear',\n  })\n  const originY = getOrigin(scaleOpts.scaleType)\n\n  const indicatorThreshold = readConfObject(cfg, 'indicatorThreshold')\n  const showInterbaseCounts = readConfObject(cfg, 'showInterbaseCounts')\n  const showInterbaseIndicators = readConfObject(cfg, 'showInterbaseIndicators')\n\n  const toY = (n: number) => height - (viewScale(n) || 0) + offset\n  const toHeight = (n: number) => toY(originY) - toY(n)\n  const toHeight2 = (n: number) => indicatorViewScale(n) || 0\n\n  const { bases, softclip, hardclip, insertion } = theme.palette\n  const colorMap: Record<string, string> = {\n    A: bases.A.main,\n    C: bases.C.main,\n    G: bases.G.main,\n    T: bases.T.main,\n    insertion,\n    softclip,\n    hardclip,\n    total: readConfObject(cfg, 'color'),\n    mod_NONE: 'blue',\n    cpg_meth: 'red',\n    cpg_unmeth: 'blue',\n  }\n\n  const reducedFeatures: ReducedFeature[] = []\n  let prevReducedLeftPx = Number.NEGATIVE_INFINITY\n\n  const coords: number[] = []\n  const items: ClickMapItem[] = []\n\n  // First pass: draw the gray background\n  ctx.fillStyle = colorMap.total!\n  for (let i = 0, l = coverageFeatures.length; i < l; i++) {\n    checkStopToken2(stopTokenCheck)\n    const feature = coverageFeatures[i]!\n    const [leftPx, rightPx] = featureSpanPx(feature, region, bpPerPx)\n    const w = rightPx - leftPx + fudgeFactor\n    const score = feature.get('score') as number\n    ctx.fillRect(leftPx, toY(score), w, toHeight(score))\n\n    if (leftPx > prevReducedLeftPx + 1) {\n      reducedFeatures.push({\n        start: feature.get('start'),\n        end: feature.get('end'),\n        score,\n        snpinfo: feature.get('snpinfo'),\n        refName: region.refName,\n      })\n      prevReducedLeftPx = leftPx\n    }\n  }\n\n  const extraHorizontallyFlippedOffset = region.reversed ? 1 / bpPerPx : 0\n\n  const passCtx: SecondPassContext = {\n    ctx,\n    coverageFeatures,\n    region,\n    bpPerPx,\n    colorMap,\n    toY,\n    toHeight,\n    toHeight2,\n    stopTokenCheck,\n    extraHorizontallyFlippedOffset,\n    coords,\n    items,\n    indicatorThreshold,\n    showInterbaseCounts,\n    showInterbaseIndicators,\n  }\n\n  // Second pass: draw colored data based on colorBy mode\n  if (colorBy.type === 'modifications') {\n    const isolatedModification = colorBy.modifications?.isolatedModification\n    const simplexSet = new Set(simplexModifications)\n    drawSecondPassModifications(\n      passCtx,\n      visibleModifications,\n      isolatedModification,\n      simplexSet,\n    )\n  } else if (colorBy.type === 'methylation') {\n    drawSecondPassMethylation(passCtx)\n  } else {\n    drawSecondPassSNPs(passCtx)\n  }\n\n  if (displayCrossHatches) {\n    drawCrossHatches(ctx, ticks, width, toY)\n  }\n\n  return { reducedFeatures, coords, items }\n}\n","import { checkStopToken2, featureSpanPx } from '@jbrowse/core/util'\n\nimport { calculateModificationCounts } from './calculateModificationCounts.ts'\nimport { drawNoncovEvents } from './drawNoncovEvents.ts'\nimport { alphaColor } from '../shared/util.ts'\n\nimport type { SecondPassContext, SecondPassStats } from './types.ts'\n\nexport function drawSecondPassModifications(\n  passCtx: SecondPassContext,\n  visibleModifications: Record<\n    string,\n    { base: string; type: string; color?: string }\n  >,\n  isolatedModification: string | undefined,\n  simplexSet: Set<string>,\n): SecondPassStats {\n  const {\n    ctx,\n    coverageFeatures,\n    region,\n    bpPerPx,\n    toY,\n    toHeight,\n    stopTokenCheck,\n  } = passCtx\n\n  let snpDrawn = 0\n  let snpSkipped = 0\n  let lastDrawnX = Number.NEGATIVE_INFINITY\n  let prevTotal = 0\n\n  for (let i = 0, l = coverageFeatures.length; i < l; i++) {\n    checkStopToken2(stopTokenCheck)\n    const feature = coverageFeatures[i]!\n    const [leftPx, rightPx] = featureSpanPx(feature, region, bpPerPx)\n    const snpinfo = feature.get('snpinfo')\n    const w = Math.max(rightPx - leftPx, 1)\n    const score0 = feature.get('score')\n    const drawX = Math.round(leftPx)\n    const skipDraw = drawX === lastDrawnX\n\n    let curr = 0\n    const refbase = snpinfo?.refbase?.toUpperCase()\n    const { nonmods, mods, snps, ref } = snpinfo || {}\n    const h = toHeight(score0)\n    const bottom = toY(score0) + h\n\n    for (const key in nonmods) {\n      const modKey = key.slice(7)\n      const mod = visibleModifications[modKey]\n      if (!mod || (isolatedModification && mod.type !== isolatedModification)) {\n        continue\n      }\n\n      const { modifiable, detectable } = calculateModificationCounts({\n        base: mod.base,\n        isSimplex: simplexSet.has(mod.type),\n        refbase,\n        snps: snps || {},\n        ref: ref || { entryDepth: 0, '1': 0, '-1': 0, '0': 0 },\n        score0,\n      })\n\n      const { entryDepth, avgProbability = 0 } = nonmods[key]!\n      const modFraction = (modifiable / score0) * (entryDepth / detectable)\n      const barHeight = modFraction * h\n      if (skipDraw) {\n        snpSkipped++\n      } else {\n        ctx.fillStyle = alphaColor('blue', avgProbability)\n        ctx.fillRect(drawX, bottom - (curr + barHeight), w, barHeight)\n        snpDrawn++\n        lastDrawnX = drawX\n      }\n      curr += barHeight\n    }\n\n    for (const key in mods) {\n      const modKey = key.slice(4)\n      const mod = visibleModifications[modKey]\n      if (!mod || (isolatedModification && mod.type !== isolatedModification)) {\n        continue\n      }\n\n      const { modifiable, detectable } = calculateModificationCounts({\n        base: mod.base,\n        isSimplex: simplexSet.has(mod.type),\n        refbase,\n        snps: snps || {},\n        ref: ref || { entryDepth: 0, '1': 0, '-1': 0, '0': 0 },\n        score0,\n      })\n\n      const { entryDepth, avgProbability = 0 } = mods[key]!\n      const modFraction = (modifiable / score0) * (entryDepth / detectable)\n      const barHeight = modFraction * h\n      if (skipDraw) {\n        snpSkipped++\n      } else {\n        ctx.fillStyle = alphaColor(mod.color || 'black', avgProbability)\n        ctx.fillRect(drawX, bottom - (curr + barHeight), w, barHeight)\n        snpDrawn++\n        lastDrawnX = drawX\n      }\n      curr += barHeight\n    }\n\n    drawNoncovEvents(\n      passCtx,\n      snpinfo,\n      leftPx,\n      score0,\n      prevTotal,\n      skipDraw,\n      feature.get('start'),\n    )\n    prevTotal = score0\n  }\n\n  return { snpDrawn, snpSkipped }\n}\n","import { checkStopToken2, featureSpanPx } from '@jbrowse/core/util'\n\nimport { drawNoncovEvents } from './drawNoncovEvents.ts'\nimport { drawStackedBars } from './drawStackedBars.ts'\n\nimport type { SecondPassContext, SecondPassStats } from './types.ts'\nimport type { BaseCoverageBin } from '../shared/types.ts'\n\nexport function drawSecondPassMethylation(\n  passCtx: SecondPassContext,\n): SecondPassStats {\n  const {\n    ctx,\n    coverageFeatures,\n    region,\n    bpPerPx,\n    colorMap,\n    toY,\n    toHeight,\n    stopTokenCheck,\n  } = passCtx\n\n  let snpDrawn = 0\n  const snpSkipped = 0 // No skipping for the main methylation bars anymore\n\n  let lastDrawnX = Number.NEGATIVE_INFINITY\n  let prevTotal = 0\n\n  for (let i = 0, l = coverageFeatures.length; i < l; i++) {\n    checkStopToken2(stopTokenCheck)\n    const feature = coverageFeatures[i]!\n    const [leftPx, rightPx] = featureSpanPx(feature, region, bpPerPx)\n    const snpinfo = feature.get('snpinfo') as BaseCoverageBin\n    const w = Math.max(rightPx - leftPx, 1)\n    const score0 = feature.get('score') as number\n    const drawX = Math.round(leftPx)\n    const skipDraw = drawX === lastDrawnX\n\n    // Minimal fix: always draw stacked bars, allowing overlap if drawX is the same\n    const { depth, nonmods, mods } = snpinfo\n    const h = toHeight(score0)\n    const bottom = toY(score0) + h\n    const curr = drawStackedBars(\n      ctx,\n      mods,\n      colorMap,\n      drawX,\n      bottom,\n      w,\n      h,\n      depth,\n      0,\n    )\n    drawStackedBars(ctx, nonmods, colorMap, drawX, bottom, w, h, depth, curr)\n\n    snpDrawn++ // Increment snpDrawn for each methylation bar drawn\n\n    lastDrawnX = drawX // Update lastDrawnX always, for the next feature's skipDraw calculation\n\n    drawNoncovEvents(\n      passCtx,\n      snpinfo,\n      leftPx,\n      score0,\n      prevTotal,\n      skipDraw, // drawNoncovEvents still receives skipDraw for its own internal logic\n      feature.get('start'),\n    )\n    prevTotal = score0\n  }\n\n  return { snpDrawn, snpSkipped } // Return updated snpDrawn and 0 for snpSkipped\n}\n","import { checkStopToken2, featureSpanPx } from '@jbrowse/core/util'\n\nimport { SNP_CLICKMAP_THRESHOLD } from './constants.ts'\nimport { drawNoncovEvents } from './drawNoncovEvents.ts'\n\nimport type { SecondPassContext, SecondPassStats } from './types.ts'\nimport type { BaseCoverageBin } from '../shared/types.ts'\n\nexport function drawSecondPassSNPs(\n  passCtx: SecondPassContext,\n): SecondPassStats {\n  const {\n    ctx,\n    coverageFeatures,\n    region,\n    bpPerPx,\n    colorMap,\n    toY,\n    toHeight,\n    stopTokenCheck,\n    coords,\n    items,\n  } = passCtx\n\n  let snpDrawn = 0\n  let snpSkipped = 0\n  let lastDrawnX = Number.NEGATIVE_INFINITY\n  let lastDrawnDepth = -1\n  let prevTotal = 0\n\n  for (let i = 0, l = coverageFeatures.length; i < l; i++) {\n    checkStopToken2(stopTokenCheck)\n    const feature = coverageFeatures[i]!\n    const [leftPx, rightPx] = featureSpanPx(feature, region, bpPerPx)\n    const snpinfo = feature.get('snpinfo') as BaseCoverageBin\n    const w = Math.max(rightPx - leftPx, 1)\n    const score0 = feature.get('score')\n    const drawX = Math.round(leftPx)\n    const skipDraw = drawX === lastDrawnX\n\n    const { depth, snps, refbase } = snpinfo\n    const refbaseUpper = refbase?.toUpperCase()\n    const h = toHeight(score0)\n    const bottom = toY(score0) + h\n    let curr = 0\n\n    for (const base in snps) {\n      const entry = snps[base]!\n      const { entryDepth } = entry\n      const y1 = bottom - ((entryDepth + curr) / depth) * h\n      const barHeight = (entryDepth / depth) * h\n      const isSignificant = entryDepth / score0 >= SNP_CLICKMAP_THRESHOLD\n\n      const sameDepthAtSameX = skipDraw && entryDepth === lastDrawnDepth\n      if ((skipDraw && !isSignificant) || sameDepthAtSameX) {\n        snpSkipped++\n      } else {\n        ctx.fillStyle = colorMap[base] || 'black'\n        ctx.fillRect(drawX, y1, w, barHeight)\n        snpDrawn++\n        lastDrawnX = drawX\n        lastDrawnDepth = entryDepth\n      }\n\n      if (isSignificant) {\n        coords.push(drawX, y1, drawX + w, y1 + barHeight)\n        items.push({\n          type: 'snp',\n          base,\n          count: entryDepth,\n          total: score0,\n          refbase: refbaseUpper,\n          avgQual: entry.avgProbability,\n          fwdCount: entry['1'] || 0,\n          revCount: entry['-1'] || 0,\n          bin: snpinfo,\n          start: feature.get('start'),\n          end: feature.get('end'),\n        })\n      }\n      curr += entryDepth\n    }\n\n    drawNoncovEvents(\n      passCtx,\n      snpinfo,\n      leftPx,\n      score0,\n      prevTotal,\n      skipDraw,\n      feature.get('start'),\n    )\n    prevTotal = score0\n  }\n\n  return { snpDrawn, snpSkipped }\n}\n","export function drawCrossHatches(\n  ctx: CanvasRenderingContext2D,\n  ticks: { values: number[] },\n  width: number,\n  toY: (n: number) => number,\n) {\n  ctx.lineWidth = 1\n  ctx.strokeStyle = 'rgba(140,140,140,0.8)'\n  for (const tick of ticks.values) {\n    ctx.beginPath()\n    ctx.moveTo(0, Math.round(toY(tick)))\n    ctx.lineTo(width, Math.round(toY(tick)))\n    ctx.stroke()\n  }\n}\n"],"names":["buildClickMap","coords","items","flatbush","Flatbush","Math","max","length","i","add","finish","data","INTERBASE_INDICATOR_HEIGHT","complementBase","C","G","A","T","createInterbaseItem","maxBase","count","total","start","maxEntry","type","base","avgLength","minLength","maxLength","topSequence","drawNoncovEvents","passCtx","snpinfo","leftPx","score0","prevTotal","skipDraw","fstart","ctx","colorMap","toHeight2","extraHorizontallyFlippedOffset","bpPerPx","indicatorThreshold","showInterbaseCounts","showInterbaseIndicators","totalCount","maxDepth","totalHeight","x","noncov","entryDepth","isSignificant","showCounts","barHeight","fillStyle","fillRect","r","clickWidth","push","indicatorComparatorScore","beginPath","l","moveTo","INTERBASE_INDICATOR_WIDTH","lineTo","fill","hitboxPadding","drawStackedBars","entries","bottom","w","h","depth","startCurr","curr","calculateModificationCounts","isSimplex","refbase","snps","ref","modifiable","detectable","cmp","async","renderSNPCoverageToCanvas","props","features","regions","adapterConfig","region","width","end","height","adapterId","skipFeatures","coverageFeatures","feature","values","get","uniqueId","id","refName","strand","score","effectiveStrand","reducedFeatures","rest","renderToAbstractCanvas","colorBy","displayCrossHatches","visibleModifications","simplexModifications","scaleOpts","unadjustedHeight","theme","configTheme","config","cfg","ticks","stopTokenCheck","createJBrowseTheme","offset","YSCALEBAR_LABEL_OFFSET","opts","range","viewScale","getScale","indicatorViewScale","scaleType","originY","getOrigin","readConfObject","toY","n","toHeight","bases","softclip","hardclip","insertion","palette","main","mod_NONE","cpg_meth","cpg_unmeth","prevReducedLeftPx","Number","NEGATIVE_INFINITY","checkStopToken2","rightPx","featureSpanPx","reversed","isolatedModification","modifications","simplexSet","lastDrawnX","drawX","round","toUpperCase","nonmods","mods","key","mod","slice","has","avgProbability","snpSkipped","alphaColor","color","drawSecondPassModifications","Set","drawSecondPassMethylation","lastDrawnDepth","refbaseUpper","entry","y1","avgQual","fwdCount","revCount","bin","drawSecondPassSNPs","lineWidth","strokeStyle","tick","stroke","drawCrossHatches","drawSNPCoverage","serialized","map","f","idx","clickMap","rpcResult","collectTransferables"],"sourceRoot":""}