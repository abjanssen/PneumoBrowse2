"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[5913],{7227(e,t,r){r.d(t,{A:()=>y});var a=r(42918),o=r(77710),n=r(61648),s=r(42458),i=r(63108),l=r(98448),c=r(18496),d=r(55030),p=r(27997),h=r(11535),g=r(32118);const u=(0,c.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,s.A)(r.size)}`],"normal"!==r.padding&&t[`padding${(0,s.A)(r.padding)}`],"inherit"!==r.align&&t[`align${(0,s.A)(r.align)}`],r.stickyHeader&&t.stickyHeader]}})((0,d.A)(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===e.palette.mode?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${h.A.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),y=a.forwardRef(function(e,t){const r=(0,p.b)({props:e,name:"MuiTableCell"}),{align:c="inherit",className:d,component:y,padding:m,scope:b,size:A,sortDirection:f,variant:x,...v}=r,w=a.useContext(i.A),j=a.useContext(l.A),k=j&&"head"===j.variant;let S;S=y||(k?"th":"td");let C=b;"td"===S?C=void 0:!C&&k&&(C="col");const T=x||j&&j.variant,M={...r,align:c,component:S,padding:m||(w&&w.padding?w.padding:"normal"),size:A||(w&&w.size?w.size:"medium"),sortDirection:f,stickyHeader:"head"===T&&w&&w.stickyHeader,variant:T},H=(e=>{const{classes:t,variant:r,align:a,padding:o,size:i,stickyHeader:l}=e,c={root:["root",r,l&&"stickyHeader","inherit"!==a&&`align${(0,s.A)(a)}`,"normal"!==o&&`padding${(0,s.A)(o)}`,`size${(0,s.A)(i)}`]};return(0,n.A)(c,h.r,t)})(M);let R=null;return f&&(R="asc"===f?"ascending":"descending"),(0,g.jsx)(u,{as:S,ref:t,className:(0,o.A)(H.root,d),"aria-sort":R,scope:C,ownerState:M,...v})})},11535(e,t,r){r.d(t,{A:()=>s,r:()=>n});var a=r(97818),o=r(11042);function n(e){return(0,o.Ay)("MuiTableCell",e)}const s=(0,a.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"])},20619(e,t,r){r.d(t,{A:()=>u});var a=r(42918),o=r(77710),n=r(61648),s=r(63108),i=r(18496),l=r(55030),c=r(27997),d=r(76127),p=r(32118);const h=(0,i.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})((0,l.A)(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),g="table",u=a.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiTable"}),{className:i,component:l=g,padding:u="normal",size:y="medium",stickyHeader:m=!1,...b}=r,A={...r,component:l,padding:u,size:y,stickyHeader:m},f=(e=>{const{classes:t,stickyHeader:r}=e,a={root:["root",r&&"stickyHeader"]};return(0,n.A)(a,d.l,t)})(A),x=a.useMemo(()=>({padding:u,size:y,stickyHeader:m}),[u,y,m]);return(0,p.jsx)(s.A.Provider,{value:x,children:(0,p.jsx)(h,{as:l,role:l===g?null:"table",ref:t,className:(0,o.A)(f.root,i),ownerState:A,...b})})})},24199(e,t,r){r.d(t,{A:()=>s,X:()=>n});var a=r(97818),o=r(11042);function n(e){return(0,o.Ay)("MuiTableHead",e)}const s=(0,a.A)("MuiTableHead",["root"])},51873(e,t,r){r.d(t,{A:()=>u});var a=r(42918),o=r(77710),n=r(61648),s=r(98448),i=r(18496),l=r(55030),c=r(27997),d=r(60945),p=r(32118);const h=(0,i.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})((0,l.A)(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${d.A.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${d.A.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)}}}))),g="tr",u=a.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiTableRow"}),{className:i,component:l=g,hover:u=!1,selected:y=!1,...m}=r,b=a.useContext(s.A),A={...r,component:l,hover:u,selected:y,head:b&&"head"===b.variant,footer:b&&"footer"===b.variant},f=(e=>{const{classes:t,selected:r,hover:a,head:o,footer:s}=e,i={root:["root",r&&"selected",a&&"hover",o&&"head",s&&"footer"]};return(0,n.A)(i,d.r,t)})(A);return(0,p.jsx)(h,{as:l,ref:t,className:(0,o.A)(f.root,i),role:l===g?null:"row",ownerState:A,...m})})},60945(e,t,r){r.d(t,{A:()=>s,r:()=>n});var a=r(97818),o=r(11042);function n(e){return(0,o.Ay)("MuiTableRow",e)}const s=(0,a.A)("MuiTableRow",["root","selected","hover","head","footer"])},63108(e,t,r){r.d(t,{A:()=>a});const a=r(42918).createContext()},63459(e,t,r){r.d(t,{A:()=>s,b:()=>n});var a=r(97818),o=r(11042);function n(e){return(0,o.Ay)("MuiTableBody",e)}const s=(0,a.A)("MuiTableBody",["root"])},75913(e,t,r){r.r(t),r.d(t,{default:()=>C});var a=r(30936),o=r(42918),n=r(85787),s=r(77251),i=r(35951),l=r(43787),c=r(70885),d=r(99367),p=r(8039),h=r(35347),g=r(20619),u=r(96691),y=r(51873),m=r(7227),b=r(84567),A=r(99226),f=r(38567);function x(e){return e.flatMap(e=>e.get("subfeatures")?.filter(e=>"exon"===e.get("type")||"CDS"===e.get("type"))??[])}async function v({view:e,transcripts:t,assembly:r,padding:a}){const o=t[0]?.get("refName");if(!o)return;const n=r.getCanonicalRefName2(o),i=x(t),l=(0,A.getSnapshot)(e),{id:c,offsetPx:d,bpPerPx:p,...h}=l,g=(0,s.mergeIntervals)(i.map(t=>({refName:n,start:t.get("start")-a,end:t.get("end")+a,assemblyName:e.assemblyNames[0]})),a),u=function(e,t){const r=e.reduce((e,t)=>e+(t.end-t.start),0),a=r/(.9*t),o=(r/a+2*Math.max(0,e.length-1))/2;return{bpPerPx:a,offsetPx:Math.round(o-t/2)}}(g,e.width),y=(0,s.getSession)(e).addView("LinearGenomeView",{...h,tracks:h.tracks.map(({id:e,...t})=>t),displayedRegions:g,bpPerPx:u.bpPerPx,offsetPx:u.offsetPx});await(0,f.when)(()=>y.initialized)}var w=r(32118);function j(e){const t=(0,a.c)(35),{transcripts:r,view:o,assembly:n,padding:i,validPadding:l,handleClose:d}=e;let p,A,f,j,C,T,M,H,R,z,N;if(t[0]!==n||t[1]!==d||t[2]!==i||t[3]!==r||t[4]!==l||t[5]!==o){const e=[...r].sort(S);let a;f=h.A,t[14]===Symbol.for("react.memo_cache_sentinel")?(H={maxHeight:600,overflow:"auto"},t[14]=H):H=t[14],A=g.A,C="small",T=!0,t[15]===Symbol.for("react.memo_cache_sentinel")?(M=(0,w.jsx)(u.A,{children:(0,w.jsxs)(y.A,{children:[(0,w.jsx)(m.A,{children:"Name/ID"}),(0,w.jsx)(m.A,{children:"Type"}),(0,w.jsx)(m.A,{align:"right",children:"Length"}),(0,w.jsx)(m.A,{align:"right",children:"Exons"}),(0,w.jsx)(m.A,{align:"right",children:"CDS"}),(0,w.jsx)(m.A,{})]})}),t[15]=M):M=t[15],p=b.A,t[16]!==n||t[17]!==d||t[18]!==i||t[19]!==l||t[20]!==o?(a=(e,t)=>{const r=e.get("start"),a=e.get("end"),p=e.get("name")||e.get("id")||`Transcript ${t+1}`,h=e.get("type")||"transcript",g=x([e]),u=g.filter(k).length,b=g.length-u;return(0,w.jsxs)(y.A,{children:[(0,w.jsx)(m.A,{children:p}),(0,w.jsx)(m.A,{children:h}),(0,w.jsxs)(m.A,{align:"right",children:[(0,s.toLocale)(a-r)," bp"]}),(0,w.jsx)(m.A,{align:"right",children:u}),(0,w.jsx)(m.A,{align:"right",children:b}),(0,w.jsx)(m.A,{align:"right",children:(0,w.jsx)(c.A,{size:"small",variant:"contained",color:"primary",disabled:!l,onClick:()=>{(async()=>{try{await v({view:o,transcripts:[e],assembly:n,padding:i}),d()}catch(e){const t=e;(0,s.getSession)(o).notifyError(`${t}`,t),console.error(t)}})()},children:"Select"})})]},e.id())},t[16]=n,t[17]=d,t[18]=i,t[19]=l,t[20]=o,t[21]=a):a=t[21],j=e.map(a),t[0]=n,t[1]=d,t[2]=i,t[3]=r,t[4]=l,t[5]=o,t[6]=p,t[7]=A,t[8]=f,t[9]=j,t[10]=C,t[11]=T,t[12]=M,t[13]=H}else p=t[6],A=t[7],f=t[8],j=t[9],C=t[10],T=t[11],M=t[12],H=t[13];return t[22]!==p||t[23]!==j?(R=(0,w.jsx)(p,{children:j}),t[22]=p,t[23]=j,t[24]=R):R=t[24],t[25]!==A||t[26]!==C||t[27]!==T||t[28]!==M||t[29]!==R?(z=(0,w.jsxs)(A,{size:C,stickyHeader:T,children:[M,R]}),t[25]=A,t[26]=C,t[27]=T,t[28]=M,t[29]=R,t[30]=z):z=t[30],t[31]!==f||t[32]!==H||t[33]!==z?(N=(0,w.jsx)(f,{sx:H,children:z}),t[31]=f,t[32]=H,t[33]=z,t[34]=N):N=t[34],N}function k(e){return"exon"===e.get("type")}function S(e,t){const r=e.get("end")-e.get("start");return t.get("end")-t.get("start")-r}function C(e){const t=(0,a.c)(45),{view:r,transcripts:h,assembly:g,handleClose:u}=e,[y,m]=(0,o.useState)(!1),[b,A]=(0,o.useState)("100"),f=+b;let x;t[0]!==f?(x=!Number.isNaN(f)&&f>=0,t[0]=f,t[1]=x):x=t[1];const k=x;let S,C;t[2]===Symbol.for("react.memo_cache_sentinel")?(S=(0,w.jsxs)(i.A,{component:"div",children:[(0,w.jsx)("p",{children:"Select the 'window size' which will be the extra space surrounding splice boundary to include. 10bp will only include a small 10bp region around splice boundary"}),(0,w.jsx)("p",{children:'By default the union of exons from all transcripts will be used to create the collapsed intron view, but you can optionally use the exons of only a specific transcript by clicking "Show all transcripts" and then "Select"'})]}),t[2]=S):S=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(C=e=>{A(e.target.value)},t[3]=C):C=t[3];const M=""!==b&&!k,H=""===b||k?"":"Must be a non-negative number";let R,z,N,P,$;t[4]===Symbol.for("react.memo_cache_sentinel")?(R={htmlInput:{min:0,step:10}},z={marginBottom:16,width:250},t[4]=R,t[5]=z):(R=t[4],z=t[5]),t[6]!==M||t[7]!==H||t[8]!==b?(N=(0,w.jsx)(l.A,{label:"Number of bp around splice site to include",value:b,onChange:C,error:M,helperText:H,type:"number",slotProps:R,style:z}),t[6]=M,t[7]=H,t[8]=b,t[9]=N):N=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?($={float:"right"},P=()=>{m(T)},t[10]=P,t[11]=$):(P=t[10],$=t[11]);const _=y?"Hide":"Show";let B,D,I;t[12]!==_||t[13]!==h.length?(B=(0,w.jsxs)(c.A,{style:$,onClick:P,children:[_," all transcripts (",h.length,")"]}),t[12]=_,t[13]=h.length,t[14]=B):B=t[14],t[15]!==g||t[16]!==u||t[17]!==y||t[18]!==h||t[19]!==k||t[20]!==r||t[21]!==f?(D=y?(0,w.jsx)(j,{transcripts:h,view:r,assembly:g,padding:f,validPadding:k,handleClose:u}):null,t[15]=g,t[16]=u,t[17]=y,t[18]=h,t[19]=k,t[20]=r,t[21]=f,t[22]=D):D=t[22],t[23]!==B||t[24]!==D||t[25]!==N?(I=(0,w.jsxs)(d.A,{children:[S,N,B,D]}),t[23]=B,t[24]=D,t[25]=N,t[26]=I):I=t[26];const L=!k;let E,O,W,V,X;return t[27]!==g||t[28]!==u||t[29]!==h||t[30]!==r||t[31]!==f?(E=()=>{(async()=>{try{await v({view:r,transcripts:h,assembly:g,padding:f}),u()}catch(e){const t=e;(0,s.getSession)(r).notifyError(`${t}`,t),console.error(t)}})()},t[27]=g,t[28]=u,t[29]=h,t[30]=r,t[31]=f,t[32]=E):E=t[32],t[33]!==L||t[34]!==E?(O=(0,w.jsx)(c.A,{size:"small",variant:"contained",color:"primary",disabled:L,onClick:E,children:"Submit"}),t[33]=L,t[34]=E,t[35]=O):O=t[35],t[36]!==u?(W=(0,w.jsx)(c.A,{onClick:u,variant:"contained",color:"secondary",children:"Cancel"}),t[36]=u,t[37]=W):W=t[37],t[38]!==O||t[39]!==W?(V=(0,w.jsxs)(p.A,{children:[O,W]}),t[38]=O,t[39]=W,t[40]=V):V=t[40],t[41]!==u||t[42]!==I||t[43]!==V?(X=(0,w.jsxs)(n.A,{open:!0,maxWidth:"md",onClose:u,title:"Select transcript to collapse",children:[I,V]}),t[41]=u,t[42]=I,t[43]=V,t[44]=X):X=t[44],X}function T(e){return!e}},76127(e,t,r){r.d(t,{A:()=>s,l:()=>n});var a=r(97818),o=r(11042);function n(e){return(0,o.Ay)("MuiTable",e)}const s=(0,a.A)("MuiTable",["root","stickyHeader"])},84567(e,t,r){r.d(t,{A:()=>u});var a=r(42918),o=r(77710),n=r(61648),s=r(98448),i=r(18496),l=r(27997),c=r(63459),d=r(32118);const p=(0,i.Ay)("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),h={variant:"body"},g="tbody",u=a.forwardRef(function(e,t){const r=(0,l.b)({props:e,name:"MuiTableBody"}),{className:a,component:i=g,...u}=r,y={...r,component:i},m=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},c.b,t)})(y);return(0,d.jsx)(s.A.Provider,{value:h,children:(0,d.jsx)(p,{className:(0,o.A)(m.root,a),as:i,ref:t,role:i===g?null:"rowgroup",ownerState:y,...u})})})},96691(e,t,r){r.d(t,{A:()=>u});var a=r(42918),o=r(77710),n=r(61648),s=r(98448),i=r(18496),l=r(27997),c=r(24199),d=r(32118);const p=(0,i.Ay)("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),h={variant:"head"},g="thead",u=a.forwardRef(function(e,t){const r=(0,l.b)({props:e,name:"MuiTableHead"}),{className:a,component:i=g,...u}=r,y={...r,component:i},m=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},c.X,t)})(y);return(0,d.jsx)(s.A.Provider,{value:h,children:(0,d.jsx)(p,{as:i,className:(0,o.A)(m.root,a),ref:t,role:i===g?null:"rowgroup",ownerState:y,...u})})})},98448(e,t,r){r.d(t,{A:()=>a});const a=r(42918).createContext()}}]);
//# sourceMappingURL=5913.e7e0165e.chunk.js.map