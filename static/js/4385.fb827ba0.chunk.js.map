{"version":3,"file":"static/js/4385.fb827ba0.chunk.js","mappings":"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","sources":["../../../plugins/data-management/src/AddTrackWidget/components/AddTrackStatusMessage.tsx","../../../plugins/data-management/src/AddTrackWidget/components/util.ts","../../../plugins/data-management/src/AddTrackWidget/components/TrackAdapterSelector.tsx","../../../plugins/data-management/src/AddTrackWidget/components/AddTrackUnknownAdapterPrompt.tsx","../../../plugins/data-management/src/AddTrackWidget/components/TextIndexingConfig.tsx","../../../plugins/data-management/src/AddTrackWidget/components/TrackTypeSelector.tsx","../../../plugins/data-management/src/AddTrackWidget/components/Unsupported.tsx","../../../plugins/data-management/src/AddTrackWidget/components/ConfirmTrack.tsx","../../../plugins/data-management/src/AddTrackWidget/components/TrackSourceSelect.tsx","../../../plugins/data-management/src/AddTrackWidget/components/DefaultAddTrackWorkflow.tsx","../../../plugins/data-management/src/AddTrackWidget/components/doSubmit.ts","../../../plugins/data-management/src/AddTrackWidget/components/PasteConfigWorkflow.tsx","../../../plugins/data-management/src/AddTrackWidget/components/AddTrackWidget.tsx"],"sourcesContent":["import { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Typography } from '@mui/material'\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n}))\n\nexport default function StatusMessage({\n  trackAdapter,\n  trackType,\n}: {\n  trackAdapter: { type: string; subadapter?: { type: string } }\n  trackType: string\n}) {\n  const { classes } = useStyles()\n  const { type, subadapter } = trackAdapter\n  return type === 'SNPCoverageAdapter' ? (\n    <Typography className={classes.spacing}>\n      Selected <code>{trackType}</code>. Using adapter <code>{type}</code> with\n      subadapter <code>{subadapter?.type}</code>. Please enter a track name and,\n      if necessary, update the track type.\n    </Typography>\n  ) : (\n    <Typography className={classes.spacing}>\n      Using adapter <code>{type}</code> and guessing track type{' '}\n      <code>{trackType}</code>. Please enter a track name and, if necessary,\n      update the track type.\n    </Typography>\n  )\n}\n","import type { AdapterType } from '@jbrowse/core/pluggableElementTypes'\n\n// collate adapters into a map with\n// - key: category\n// - value: array of adapters with that category\nexport function categorizeAdapters(adaptersList: AdapterType[]) {\n  const map = {} as Record<string, AdapterType[]>\n  for (const adapter of adaptersList) {\n    const key = adapter.adapterMetadata?.category || 'Default'\n    if (!map[key]) {\n      map[key] = []\n    }\n    map[key].push(adapter)\n  }\n  return map\n}\n","import { getEnv } from '@jbrowse/core/util'\nimport { ListSubheader, MenuItem, TextField } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport { categorizeAdapters } from './util.ts'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst TrackAdapterSelector = observer(function ({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { trackAdapter } = model\n  const { pluginManager } = getEnv(model)\n\n  return (\n    <TextField\n      value={trackAdapter?.type !== 'UNKNOWN' ? trackAdapter?.type : ''}\n      label=\"Adapter type\"\n      variant=\"outlined\"\n      select\n      fullWidth\n      onChange={event => {\n        model.setAdapterHint(event.target.value)\n      }}\n      slotProps={{\n        select: {\n          SelectDisplayProps: {\n            // @ts-expect-error\n            'data-testid': 'adapterTypeSelect',\n          },\n        },\n      }}\n    >\n      {Object.entries(\n        categorizeAdapters(\n          pluginManager\n            .getAdapterElements()\n            .filter(e => !e.adapterMetadata?.hiddenFromGUI),\n        ),\n      ).map(([key, val]) => [\n        // returning array avoids needing to use a react fragment which\n        // Select/TextField sub-elements disagree with\n        <ListSubheader key={key}>{key}</ListSubheader>,\n        val.map(elt => (\n          <MenuItem key={elt.name} value={elt.name}>\n            {elt.displayName}\n          </MenuItem>\n        )),\n      ])}\n    </TextField>\n  )\n})\n\nexport default TrackAdapterSelector\n","import { ExternalLink } from '@jbrowse/core/ui'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Typography } from '@mui/material'\n\nimport TrackAdapterSelector from './TrackAdapterSelector.tsx'\n\nimport type { AddTrackModel } from '../model.ts'\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n}))\n\nexport default function UnknownAdapterPrompt({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  return (\n    <>\n      <Typography className={classes.spacing}>\n        JBrowse was not able to guess the adapter type for this data, but it may\n        be in the list below. If not, you can{' '}\n        <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/releases\">\n          check for new releases\n        </ExternalLink>{' '}\n        of JBrowse to see if they support this data type or{' '}\n        <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/issues/new\">\n          file an issue\n        </ExternalLink>{' '}\n        and add a feature request for this data type.\n      </Typography>\n      <TrackAdapterSelector model={model} />\n    </>\n  )\n}\n","import { useEffect, useState } from 'react'\n\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport AddIcon from '@mui/icons-material/Add'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport {\n  Card,\n  CardContent,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  List,\n  ListItem,\n  Paper,\n  TextField,\n} from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()(theme => ({\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(1),\n  },\n\n  card: {\n    marginTop: theme.spacing(1),\n  },\n}))\n\nconst TextIndexingConfig = observer(function TextIndexingConfig({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  const [attributeInput, setAttributeInput] = useState('')\n  const [excludeInput, setExcludeInput] = useState('')\n  const [attributes, setAttributes] = useState(['Name', 'ID'])\n  const [exclude, setExclude] = useState(['CDS', 'exon'])\n  const sections = [\n    {\n      label: 'Indexing attributes',\n      values: attributes,\n      setValues: setAttributes,\n      inputValue: attributeInput,\n      setInputValue: setAttributeInput,\n    },\n    {\n      label: 'Feature types to exclude',\n      values: exclude,\n      setValues: setExclude,\n      inputValue: excludeInput,\n      setInputValue: setExcludeInput,\n    },\n  ]\n  useEffect(() => {\n    model.setTextIndexingConf({ attributes, exclude })\n  }, [model, attributes, exclude])\n\n  return (\n    <Paper className={classes.paper}>\n      <InputLabel>Indexing configuration</InputLabel>\n      {sections.map(section => (\n        <Card raised key={section.label} className={classes.card}>\n          <CardContent>\n            <InputLabel>{section.label}</InputLabel>\n            <List disablePadding>\n              {section.values.map((val, idx) => (\n                /* biome-ignore lint/suspicious/noArrayIndexKey: */\n                <ListItem key={`${val}-${idx}`} disableGutters>\n                  <TextField\n                    value={val}\n                    slotProps={{\n                      input: {\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <IconButton\n                              onClick={() => {\n                                section.setValues(\n                                  section.values.filter((_, i) => i !== idx),\n                                )\n                              }}\n                            >\n                              <DeleteIcon />\n                            </IconButton>\n                          </InputAdornment>\n                        ),\n                      },\n                    }}\n                  />\n                </ListItem>\n              ))}\n              <ListItem disableGutters>\n                <TextField\n                  value={section.inputValue}\n                  placeholder=\"add new\"\n                  onChange={event => {\n                    section.setInputValue(event.target.value)\n                  }}\n                  slotProps={{\n                    input: {\n                      endAdornment: (\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            onClick={() => {\n                              section.setValues([\n                                ...section.values,\n                                section.inputValue,\n                              ])\n                              section.setInputValue('')\n                            }}\n                            disabled={section.inputValue === ''}\n                            data-testid=\"stringArrayAdd-Feat\"\n                          >\n                            <AddIcon />\n                          </IconButton>\n                        </InputAdornment>\n                      ),\n                    },\n                  }}\n                />\n              </ListItem>\n            </List>\n          </CardContent>\n        </Card>\n      ))}\n    </Paper>\n  )\n})\n\nexport default TextIndexingConfig\n","import { getEnv } from '@jbrowse/core/util'\nimport { MenuItem, TextField } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst TrackTypeSelector = observer(function TrackTypeSelector({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { pluginManager } = getEnv(model)\n  const { trackType } = model\n  const trackTypes = pluginManager.getTrackElements()\n\n  return (\n    <TextField\n      value={trackType}\n      variant=\"outlined\"\n      label=\"Track type\"\n      select\n      fullWidth\n      onChange={event => {\n        model.setTrackType(event.target.value)\n      }}\n      slotProps={{\n        select: {\n          SelectDisplayProps: {\n            // @ts-expect-error\n            'data-testid': 'trackTypeSelect',\n          },\n        },\n      }}\n    >\n      {trackTypes.map(({ name, displayName }) => (\n        <MenuItem key={name} value={name}>\n          {displayName}\n        </MenuItem>\n      ))}\n    </TextField>\n  )\n})\n\nexport default TrackTypeSelector\n","import { ExternalLink } from '@jbrowse/core/ui'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Typography } from '@mui/material'\n\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n}))\n\nexport default function Unsupported() {\n  const { classes } = useStyles()\n  return (\n    <Typography className={classes.spacing}>\n      This version of JBrowse cannot display data of this type. It is possible,\n      however, that there is a newer version that can display them. You can{' '}\n      <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/releases\">\n        check for new releases\n      </ExternalLink>{' '}\n      of JBrowse or{' '}\n      <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/issues/new\">\n        file an issue\n      </ExternalLink>{' '}\n      and add a feature request for this data type.\n    </Typography>\n  )\n}\n","import { Suspense, useEffect } from 'react'\n\nimport { AssemblySelector } from '@jbrowse/core/ui'\nimport {\n  getEnv,\n  getSession,\n  isElectron,\n  isSupportedIndexingAdapter,\n} from '@jbrowse/core/util'\nimport { UNKNOWN } from '@jbrowse/core/util/tracks'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport {\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  TextField,\n  Typography,\n} from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport StatusMessage from './AddTrackStatusMessage.tsx'\nimport UnknownAdapterPrompt from './AddTrackUnknownAdapterPrompt.tsx'\nimport TextIndexingConfig from './TextIndexingConfig.tsx'\nimport TrackAdapterSelector from './TrackAdapterSelector.tsx'\nimport TrackTypeSelector from './TrackTypeSelector.tsx'\nimport Unsupported from './Unsupported.tsx'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n  selectorsContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 10,\n  },\n}))\n\nconst ConfirmTrack = observer(function ConfirmTrack({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  const session = getSession(model)\n  const {\n    trackName,\n    unsupported,\n    trackAdapter,\n    trackType,\n    warningMessage,\n    adapterHint,\n    textIndexTrack,\n  } = model\n\n  useEffect(() => {\n    if (adapterHint === '' && trackAdapter) {\n      model.setAdapterHint(trackAdapter.type)\n    }\n  }, [adapterHint, trackAdapter, model])\n\n  if (unsupported) {\n    return <Unsupported />\n  } else if (trackAdapter?.type === UNKNOWN) {\n    return <UnknownAdapterPrompt model={model} />\n  } else if (!trackAdapter?.type) {\n    return <Typography>Could not recognize this data type.</Typography>\n  } else {\n    const supportedForIndexing = isSupportedIndexingAdapter(trackAdapter.type)\n    const { pluginManager } = getEnv(model)\n    const Component = pluginManager.evaluateExtensionPoint(\n      'Core-addTrackComponent',\n      ({ model }: { model: AddTrackModel }) => (\n        <AssemblySelector\n          session={session}\n          helperText=\"Select assembly to add track to\"\n          selected={model.assembly}\n          onChange={asm => {\n            model.setAssembly(asm)\n          }}\n          TextFieldProps={{\n            fullWidth: true,\n            SelectProps: {\n              SelectDisplayProps: {\n                // @ts-expect-error\n                'data-testid': 'assemblyNameSelect',\n              },\n            },\n          }}\n        />\n      ),\n      { model },\n    ) as React.FC<any>\n    return (\n      <div>\n        <StatusMessage trackAdapter={trackAdapter} trackType={trackType} />\n        {warningMessage ? (\n          <Typography color=\"warning\">{warningMessage}</Typography>\n        ) : null}\n        <TextField\n          className={classes.spacing}\n          label=\"Track name\"\n          helperText=\"A name for this track\"\n          fullWidth\n          value={trackName}\n          onChange={event => {\n            model.setTrackName(event.target.value)\n          }}\n          slotProps={{\n            htmlInput: {\n              'data-testid': 'trackNameInput',\n            },\n          }}\n        />\n        <div className={classes.selectorsContainer}>\n          <TrackAdapterSelector model={model} />\n          <TrackTypeSelector model={model} />\n\n          <Suspense fallback={null}>\n            <Component model={model} />\n          </Suspense>\n        </div>\n\n        {isElectron && supportedForIndexing && (\n          <FormControl>\n            <FormControlLabel\n              label=\"Index track for text searching?\"\n              control={\n                <Checkbox\n                  checked={textIndexTrack}\n                  onChange={e => {\n                    model.setTextIndexTrack(e.target.checked)\n                  }}\n                />\n              }\n            />\n          </FormControl>\n        )}\n        {isElectron && textIndexTrack && supportedForIndexing ? (\n          <TextIndexingConfig model={model} />\n        ) : null}\n      </div>\n    )\n  }\n})\n\nexport default ConfirmTrack\n","import { FileSelector } from '@jbrowse/core/ui'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { getRoot } from '@jbrowse/mobx-state-tree'\nimport { Paper } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\nimport type { AbstractRootModel } from '@jbrowse/core/util'\n\nconst useStyles = makeStyles()(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n  },\n  spacer: {\n    height: theme.spacing(8),\n  },\n}))\n\nconst TrackSourceSelect = observer(function TrackSourceSelect({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  const rootModel = getRoot<AbstractRootModel>(model)\n\n  return (\n    <Paper className={classes.paper}>\n      <FileSelector\n        name=\"Main file\"\n        description=\"\"\n        location={model.trackData}\n        setLocation={model.setTrackData}\n        setName={model.setTrackName}\n        rootModel={rootModel}\n      />\n      <div className={classes.spacer} />\n      <FileSelector\n        name=\"Index file\"\n        description=\"(Optional) The URL of the index file is automatically inferred from the URL of the main file if it is not supplied.\"\n        location={model.indexTrackData}\n        setLocation={model.setIndexTrackData}\n        rootModel={rootModel}\n      />\n    </Paper>\n  )\n})\n\nexport default TrackSourceSelect\n","import { useState } from 'react'\n\nimport { getSession } from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport {\n  Button,\n  Step,\n  StepContent,\n  StepLabel,\n  Stepper,\n  Typography,\n} from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport ConfirmTrack from './ConfirmTrack.tsx'\nimport TrackSourceSelect from './TrackSourceSelect.tsx'\nimport { doSubmit } from './doSubmit.ts'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()(theme => ({\n  root: {\n    marginTop: theme.spacing(1),\n  },\n  stepper: {\n    backgroundColor: theme.palette.background.default,\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  actionsContainer: {\n    marginTop: theme.spacing(10),\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nconst steps = ['Enter track data', 'Confirm track type']\n\nconst DefaultAddTrackWorkflow = observer(function DefaultAddTrackWorkflow({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const [activeStep, setActiveStep] = useState(0)\n  const { classes } = useStyles()\n  const { assembly, trackAdapter, trackData, trackName, trackType } = model\n\n  function getStepContent(step: number) {\n    switch (step) {\n      case 0:\n        return <TrackSourceSelect model={model} />\n      case 1:\n        return <ConfirmTrack model={model} />\n      default:\n        return <Typography>Unknown step</Typography>\n    }\n  }\n\n  function isNextDisabled() {\n    switch (activeStep) {\n      case 0:\n        return !trackData\n      case 1:\n        return !(trackName && trackType && trackAdapter?.type && assembly)\n      default:\n        return true\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Stepper\n        className={classes.stepper}\n        activeStep={activeStep}\n        orientation=\"vertical\"\n      >\n        {steps.map((label, idx) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n            <StepContent>\n              {getStepContent(idx)}\n              <div className={classes.actionsContainer}>\n                <Button\n                  disabled={activeStep === 0}\n                  className={classes.button}\n                  onClick={() => {\n                    setActiveStep(activeStep - 1)\n                  }}\n                  data-testid=\"addTrackBackButton\"\n                >\n                  Back\n                </Button>\n                <Button\n                  disabled={isNextDisabled()}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    if (activeStep !== steps.length - 1) {\n                      setActiveStep(activeStep + 1)\n                    } else {\n                      try {\n                        doSubmit({ model })\n                      } catch (e) {\n                        getSession(model).notifyError(`${e}`, e)\n                      }\n                    }\n                  }}\n                  className={classes.button}\n                  data-testid=\"addTrackNextButton\"\n                >\n                  {activeStep === steps.length - 1 ? 'Add' : 'Next'}\n                </Button>\n              </div>\n            </StepContent>\n          </Step>\n        ))}\n      </Stepper>\n    </div>\n  )\n})\nexport default DefaultAddTrackWorkflow\n","import {\n  getSession,\n  isElectron,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n  isSupportedIndexingAdapter,\n} from '@jbrowse/core/util'\nimport { getRoot } from '@jbrowse/mobx-state-tree'\n\nimport type { AddTrackModel } from '../model.ts'\n\nfunction doTextIndexTrack({\n  trackId,\n  model,\n}: {\n  trackId: string\n  model: AddTrackModel\n}) {\n  const { textIndexingConf, trackName, assembly } = model\n  const { jobsManager } = getRoot<any>(model)\n  const attr = textIndexingConf || {\n    attributes: ['Name', 'ID'],\n    exclude: ['CDS', 'exon'],\n  }\n  const indexName = `${trackName}-index`\n  jobsManager.queueJob({\n    indexingParams: {\n      ...attr,\n      assemblies: [assembly],\n      tracks: [trackId],\n      indexType: 'perTrack',\n      name: indexName,\n      timestamp: new Date().toISOString(),\n    },\n    name: indexName,\n    cancelCallback: () => jobsManager.abortJob(),\n  })\n}\n\nexport function doSubmit({ model }: { model: AddTrackModel }) {\n  const { textIndexTrack, trackAdapter, view } = model\n  const session = getSession(model)\n  const trackConfig = model.getTrackConfig(Date.now())\n\n  if (!isSessionWithAddTracks(session)) {\n    throw new Error(\"Can't add tracks to this session\")\n  } else if (trackConfig && trackAdapter) {\n    const { trackId } = trackConfig\n    session.addTrackConf(trackConfig)\n    view?.showTrack?.(trackId)\n\n    if (\n      isElectron &&\n      textIndexTrack &&\n      isSupportedIndexingAdapter(trackAdapter.type)\n    ) {\n      doTextIndexTrack({\n        model,\n        trackId: String(trackId),\n      })\n    }\n    model.clearData()\n    if (isSessionModelWithWidgets(session)) {\n      session.hideWidget(model)\n    }\n  } else {\n    throw new Error(\n      'Failed to add track.\\nThe configuration of this file is not currently supported.',\n    )\n  }\n}\n","import { useState } from 'react'\n\nimport { ErrorMessage } from '@jbrowse/core/ui'\nimport {\n  getSession,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Button, TextField } from '@mui/material'\nimport { transaction } from 'mobx'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()({\n  textbox: {\n    width: '100%',\n  },\n  submit: {\n    marginTop: 25,\n    marginBottom: 100,\n    display: 'block',\n  },\n})\n\nconst PasteConfigAddTrackWorkflow = observer(\n  function PasteConfigAddTrackWorkflow({ model }: { model: AddTrackModel }) {\n    const { classes } = useStyles()\n    const [val, setVal] = useState('')\n    const [error, setError] = useState<unknown>()\n\n    return (\n      <div>\n        {error ? <ErrorMessage error={error} /> : null}\n        <TextField\n          multiline\n          rows={10}\n          value={val}\n          placeholder=\"Paste track config or array of track configs in JSON format\"\n          variant=\"outlined\"\n          className={classes.textbox}\n          onChange={event => {\n            setVal(event.target.value)\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          className={classes.submit}\n          onClick={() => {\n            try {\n              setError(undefined)\n              const session = getSession(model)\n              const conf = JSON.parse(val)\n              const confs = Array.isArray(conf) ? conf : [conf]\n              if (\n                isSessionWithAddTracks(session) &&\n                isSessionModelWithWidgets(session)\n              ) {\n                transaction(() => {\n                  for (const c of confs) {\n                    session.addTrackConf(c)\n                  }\n                  for (const c of confs) {\n                    model.view?.showTrack?.(c.trackId)\n                  }\n                  model.clearData()\n                })\n\n                session.hideWidget(model)\n              }\n            } catch (e) {\n              console.error(e)\n              setError(e)\n            }\n          }}\n        >\n          Submit\n        </Button>\n      </div>\n    )\n  },\n)\nexport default PasteConfigAddTrackWorkflow\n","import { Suspense, useState } from 'react'\n\nimport { getEnv } from '@jbrowse/core/util'\nimport { FormControl, FormHelperText, MenuItem, Select } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport DefaultAddTrackWorkflow from './DefaultAddTrackWorkflow.tsx'\nimport PasteConfigWorkflow from './PasteConfigWorkflow.tsx'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst AddTrackSelector = observer(function AddTrackSelector({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const [val, setVal] = useState('Default add track workflow')\n  const ComponentMap = {\n    'Default add track workflow': DefaultAddTrackWorkflow,\n    'Add track JSON': PasteConfigWorkflow,\n    ...Object.fromEntries(\n      getEnv(model)\n        .pluginManager.getAddTrackWorkflowElements()\n        .map(w => [w.name, w.ReactComponent]),\n    ),\n  } as Record<string, React.FC<{ model: AddTrackModel }>>\n\n  // make sure the selected value is in the list\n  const val2 = ComponentMap[val] ? val : 'Default add track workflow'\n  const Component = ComponentMap[val2]!\n  return (\n    <>\n      <FormControl>\n        <Select\n          value={val2}\n          onChange={event => {\n            setVal(event.target.value)\n          }}\n        >\n          {Object.keys(ComponentMap).map(e => (\n            <MenuItem key={e} value={e}>\n              {e}\n            </MenuItem>\n          ))}\n        </Select>\n        <FormHelperText>Type of add track workflow</FormHelperText>\n      </FormControl>\n\n      <Suspense fallback={null}>\n        <Component model={model} />\n      </Suspense>\n    </>\n  )\n})\n\nexport default AddTrackSelector\n"],"names":["useStyles","makeStyles","theme","spacing","marginBottom","StatusMessage","t0","$","_c","trackAdapter","trackType","classes","type","subadapter","t1","_jsxs","Typography","className","children","_jsx","categorizeAdapters","adaptersList","map","adapter","key","adapterMetadata","category","push","observer","model","pluginManager","getEnv","TextField","value","label","variant","select","fullWidth","onChange","event","setAdapterHint","target","slotProps","SelectDisplayProps","Object","entries","getAdapterElements","filter","e","hiddenFromGUI","val","ListSubheader","elt","MenuItem","name","displayName","UnknownAdapterPrompt","t2","t3","t4","t5","Symbol","for","ExternalLink","href","TrackAdapterSelector","_Fragment","paper","display","flexDirection","padding","card","marginTop","attributeInput","setAttributeInput","useState","excludeInput","setExcludeInput","attributes","setAttributes","exclude","setExclude","sections","values","setValues","inputValue","setInputValue","useEffect","setTextIndexingConf","Paper","InputLabel","section","Card","raised","CardContent","List","disablePadding","idx","ListItem","disableGutters","input","endAdornment","InputAdornment","position","IconButton","onClick","_","i","DeleteIcon","placeholder","disabled","AddIcon","trackTypes","getTrackElements","setTrackType","Unsupported","selectorsContainer","gap","session","getSession","trackName","unsupported","warningMessage","adapterHint","textIndexTrack","UNKNOWN","supportedForIndexing","isSupportedIndexingAdapter","Component","evaluateExtensionPoint","AssemblySelector","helperText","selected","assembly","asm","setAssembly","TextFieldProps","SelectProps","color","setTrackName","htmlInput","TrackTypeSelector","Suspense","fallback","isElectron","FormControl","FormControlLabel","control","Checkbox","checked","setTextIndexTrack","TextIndexingConfig","spacer","height","rootModel","getRoot","FileSelector","description","location","trackData","setLocation","setTrackData","setName","indexTrackData","setIndexTrackData","root","stepper","backgroundColor","palette","background","default","button","marginRight","actionsContainer","steps","activeStep","setActiveStep","getStepContent","step","TrackSourceSelect","ConfirmTrack","isNextDisabled","Stepper","orientation","Step","StepLabel","StepContent","Button","length","view","trackConfig","getTrackConfig","Date","now","isSessionWithAddTracks","Error","trackId","addTrackConf","showTrack","textIndexingConf","jobsManager","attr","indexName","queueJob","indexingParams","assemblies","tracks","indexType","timestamp","toISOString","cancelCallback","abortJob","doTextIndexTrack","String","clearData","isSessionModelWithWidgets","hideWidget","doSubmit","notifyError","textbox","width","submit","setVal","error","setError","ErrorMessage","multiline","rows","undefined","conf","JSON","parse","confs","Array","isArray","transaction","c","console","ComponentMap","DefaultAddTrackWorkflow","PasteConfigWorkflow","fromEntries","getAddTrackWorkflowElements","w","ReactComponent","val2","Select","keys","FormHelperText"],"ignoreList":[],"sourceRoot":""}