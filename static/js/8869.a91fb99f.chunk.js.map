{"version":3,"file":"static/js/8869.a91fb99f.chunk.js","mappings":"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","sources":["webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/AddTrackStatusMessage.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/util.ts","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/TrackAdapterSelector.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/AddTrackUnknownAdapterPrompt.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/TextIndexingConfig.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/TrackTypeSelector.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/Unsupported.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/ConfirmTrack.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/TrackSourceSelect.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/DefaultAddTrackWorkflow.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/doSubmit.ts","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/PasteConfigWorkflow.tsx","webpack://@jbrowse/web/../../plugins/data-management/src/AddTrackWidget/components/AddTrackWidget.tsx"],"sourcesContent":["import { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Typography } from '@mui/material'\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n}))\n\nexport default function StatusMessage({\n  trackAdapter,\n  trackType,\n}: {\n  trackAdapter: { type: string; subadapter?: { type: string } }\n  trackType: string\n}) {\n  const { classes } = useStyles()\n  const { type, subadapter } = trackAdapter\n  return type === 'SNPCoverageAdapter' ? (\n    <Typography className={classes.spacing}>\n      Selected <code>{trackType}</code>. Using adapter <code>{type}</code> with\n      subadapter <code>{subadapter?.type}</code>. Please enter a track name and,\n      if necessary, update the track type.\n    </Typography>\n  ) : (\n    <Typography className={classes.spacing}>\n      Using adapter <code>{type}</code> and guessing track type{' '}\n      <code>{trackType}</code>. Please enter a track name and, if necessary,\n      update the track type.\n    </Typography>\n  )\n}\n","import type { AdapterType } from '@jbrowse/core/pluggableElementTypes'\n\n// collate adapters into a map with\n// - key: category\n// - value: array of adapters with that category\nexport function categorizeAdapters(adaptersList: AdapterType[]) {\n  const map = {} as Record<string, AdapterType[]>\n  for (const adapter of adaptersList) {\n    const key = adapter.adapterMetadata?.category || 'Default'\n    if (!map[key]) {\n      map[key] = []\n    }\n    map[key].push(adapter)\n  }\n  return map\n}\n","import { getEnv } from '@jbrowse/core/util'\nimport { ListSubheader, MenuItem, TextField } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport { categorizeAdapters } from './util.ts'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst TrackAdapterSelector = observer(function ({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { trackAdapter, adapterHintNotConfigurable } = model\n  const { adapterHint } = model\n  const { pluginManager } = getEnv(model)\n\n  // Show the adapterHint if set (even if config couldn't be built),\n  // otherwise show the resolved adapter type\n  const displayValue =\n    adapterHint || (trackAdapter?.type !== 'UNKNOWN' ? trackAdapter?.type : '')\n\n  return (\n    <TextField\n      value={displayValue}\n      label=\"Adapter type\"\n      variant=\"outlined\"\n      select\n      fullWidth\n      error={adapterHintNotConfigurable}\n      helperText={\n        adapterHintNotConfigurable\n          ? `The \"${adapterHint}\" adapter cannot be configured for the provided file. This adapter may require a specific file extension or additional setup.`\n          : undefined\n      }\n      onChange={event => {\n        model.setAdapterHint(event.target.value)\n      }}\n      slotProps={{\n        select: {\n          SelectDisplayProps: {\n            // @ts-expect-error\n            'data-testid': 'adapterTypeSelect',\n          },\n        },\n      }}\n    >\n      {Object.entries(\n        categorizeAdapters(\n          pluginManager\n            .getAdapterElements()\n            .filter(e => !e.adapterMetadata?.hiddenFromGUI),\n        ),\n      ).map(([key, val]) => [\n        // returning array avoids needing to use a react fragment which\n        // Select/TextField sub-elements disagree with\n        <ListSubheader key={key}>{key}</ListSubheader>,\n        val.map(elt => (\n          <MenuItem key={elt.name} value={elt.name}>\n            {elt.displayName}\n          </MenuItem>\n        )),\n      ])}\n    </TextField>\n  )\n})\n\nexport default TrackAdapterSelector\n","import { ExternalLink } from '@jbrowse/core/ui'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Typography } from '@mui/material'\n\nimport TrackAdapterSelector from './TrackAdapterSelector.tsx'\n\nimport type { AddTrackModel } from '../model.ts'\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n}))\n\nexport default function UnknownAdapterPrompt({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  return (\n    <>\n      <Typography className={classes.spacing}>\n        JBrowse was not able to guess the adapter type for this data, but it may\n        be in the list below. If not, you can{' '}\n        <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/releases\">\n          check for new releases\n        </ExternalLink>{' '}\n        of JBrowse to see if they support this data type or{' '}\n        <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/issues/new\">\n          file an issue\n        </ExternalLink>{' '}\n        and add a feature request for this data type.\n      </Typography>\n      <TrackAdapterSelector model={model} />\n    </>\n  )\n}\n","import { useEffect, useState } from 'react'\n\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport AddIcon from '@mui/icons-material/Add'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport {\n  Card,\n  CardContent,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  List,\n  ListItem,\n  Paper,\n  TextField,\n} from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()(theme => ({\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(1),\n  },\n\n  card: {\n    marginTop: theme.spacing(1),\n  },\n}))\n\nconst TextIndexingConfig = observer(function TextIndexingConfig({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  const [attributeInput, setAttributeInput] = useState('')\n  const [excludeInput, setExcludeInput] = useState('')\n  const [attributes, setAttributes] = useState(['Name', 'ID'])\n  const [exclude, setExclude] = useState(['CDS', 'exon'])\n  const sections = [\n    {\n      label: 'Indexing attributes',\n      values: attributes,\n      setValues: setAttributes,\n      inputValue: attributeInput,\n      setInputValue: setAttributeInput,\n    },\n    {\n      label: 'Feature types to exclude',\n      values: exclude,\n      setValues: setExclude,\n      inputValue: excludeInput,\n      setInputValue: setExcludeInput,\n    },\n  ]\n  useEffect(() => {\n    model.setTextIndexingConf({ attributes, exclude })\n  }, [model, attributes, exclude])\n\n  return (\n    <Paper className={classes.paper}>\n      <InputLabel>Indexing configuration</InputLabel>\n      {sections.map(section => (\n        <Card raised key={section.label} className={classes.card}>\n          <CardContent>\n            <InputLabel>{section.label}</InputLabel>\n            <List disablePadding>\n              {section.values.map((val, idx) => (\n                /* biome-ignore lint/suspicious/noArrayIndexKey: */\n                <ListItem key={`${val}-${idx}`} disableGutters>\n                  <TextField\n                    value={val}\n                    slotProps={{\n                      input: {\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <IconButton\n                              onClick={() => {\n                                section.setValues(\n                                  section.values.filter((_, i) => i !== idx),\n                                )\n                              }}\n                            >\n                              <DeleteIcon />\n                            </IconButton>\n                          </InputAdornment>\n                        ),\n                      },\n                    }}\n                  />\n                </ListItem>\n              ))}\n              <ListItem disableGutters>\n                <TextField\n                  value={section.inputValue}\n                  placeholder=\"add new\"\n                  onChange={event => {\n                    section.setInputValue(event.target.value)\n                  }}\n                  slotProps={{\n                    input: {\n                      endAdornment: (\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            onClick={() => {\n                              section.setValues([\n                                ...section.values,\n                                section.inputValue,\n                              ])\n                              section.setInputValue('')\n                            }}\n                            disabled={section.inputValue === ''}\n                            data-testid=\"stringArrayAdd-Feat\"\n                          >\n                            <AddIcon />\n                          </IconButton>\n                        </InputAdornment>\n                      ),\n                    },\n                  }}\n                />\n              </ListItem>\n            </List>\n          </CardContent>\n        </Card>\n      ))}\n    </Paper>\n  )\n})\n\nexport default TextIndexingConfig\n","import { getEnv } from '@jbrowse/core/util'\nimport { MenuItem, TextField } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst TrackTypeSelector = observer(function TrackTypeSelector({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { pluginManager } = getEnv(model)\n  const { trackType } = model\n  const trackTypes = pluginManager.getTrackElements()\n\n  return (\n    <TextField\n      value={trackType}\n      variant=\"outlined\"\n      label=\"Track type\"\n      select\n      fullWidth\n      onChange={event => {\n        model.setTrackType(event.target.value)\n      }}\n      slotProps={{\n        select: {\n          SelectDisplayProps: {\n            // @ts-expect-error\n            'data-testid': 'trackTypeSelect',\n          },\n        },\n      }}\n    >\n      {trackTypes.map(({ name, displayName }) => (\n        <MenuItem key={name} value={name}>\n          {displayName}\n        </MenuItem>\n      ))}\n    </TextField>\n  )\n})\n\nexport default TrackTypeSelector\n","import { ExternalLink } from '@jbrowse/core/ui'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Typography } from '@mui/material'\n\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n}))\n\nexport default function Unsupported() {\n  const { classes } = useStyles()\n  return (\n    <Typography className={classes.spacing}>\n      This version of JBrowse cannot display data of this type. It is possible,\n      however, that there is a newer version that can display them. You can{' '}\n      <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/releases\">\n        check for new releases\n      </ExternalLink>{' '}\n      of JBrowse or{' '}\n      <ExternalLink href=\"https://github.com/GMOD/jbrowse-components/issues/new\">\n        file an issue\n      </ExternalLink>{' '}\n      and add a feature request for this data type.\n    </Typography>\n  )\n}\n","import { Suspense, useEffect } from 'react'\n\nimport { AssemblySelector } from '@jbrowse/core/ui'\nimport {\n  getEnv,\n  getSession,\n  isElectron,\n  isSupportedIndexingAdapter,\n} from '@jbrowse/core/util'\nimport { UNKNOWN } from '@jbrowse/core/util/tracks'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport {\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  TextField,\n  Typography,\n} from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport StatusMessage from './AddTrackStatusMessage.tsx'\nimport UnknownAdapterPrompt from './AddTrackUnknownAdapterPrompt.tsx'\nimport TextIndexingConfig from './TextIndexingConfig.tsx'\nimport TrackAdapterSelector from './TrackAdapterSelector.tsx'\nimport TrackTypeSelector from './TrackTypeSelector.tsx'\nimport Unsupported from './Unsupported.tsx'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()(theme => ({\n  spacing: {\n    marginBottom: theme.spacing(3),\n  },\n  selectorsContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 10,\n  },\n}))\n\nconst ConfirmTrack = observer(function ConfirmTrack({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  const session = getSession(model)\n  const {\n    trackName,\n    unsupported,\n    trackAdapter,\n    trackType,\n    warningMessage,\n    adapterHint,\n    textIndexTrack,\n    adapterHintNotConfigurable,\n  } = model\n\n  useEffect(() => {\n    if (adapterHint === '' && trackAdapter && trackAdapter.type !== UNKNOWN) {\n      model.setAdapterHint(trackAdapter.type)\n    }\n  }, [adapterHint, trackAdapter, model])\n\n  if (unsupported) {\n    return <Unsupported />\n  } else if (trackAdapter?.type === UNKNOWN) {\n    return <UnknownAdapterPrompt model={model} />\n  } else if (adapterHintNotConfigurable) {\n    return (\n      <Typography color=\"error\">\n        The &quot;{adapterHint}&quot; adapter cannot be configured for the\n        provided file. This adapter may require a specific file extension or\n        format. Please check the file or select a different adapter.\n      </Typography>\n    )\n  } else if (!trackAdapter?.type) {\n    return <Typography>Could not recognize this data type.</Typography>\n  } else {\n    const supportedForIndexing = isSupportedIndexingAdapter(trackAdapter.type)\n    const { pluginManager } = getEnv(model)\n    const Component = pluginManager.evaluateExtensionPoint(\n      'Core-addTrackComponent',\n      ({ model }: { model: AddTrackModel }) => (\n        <AssemblySelector\n          session={session}\n          helperText=\"Select assembly to add track to\"\n          selected={model.assembly}\n          onChange={asm => {\n            model.setAssembly(asm)\n          }}\n          TextFieldProps={{\n            fullWidth: true,\n            SelectProps: {\n              SelectDisplayProps: {\n                // @ts-expect-error\n                'data-testid': 'assemblyNameSelect',\n              },\n            },\n          }}\n        />\n      ),\n      { model },\n    ) as React.FC<any>\n    return (\n      <div>\n        <StatusMessage trackAdapter={trackAdapter} trackType={trackType} />\n        {warningMessage ? (\n          <Typography color=\"warning\">{warningMessage}</Typography>\n        ) : null}\n        <TextField\n          className={classes.spacing}\n          label=\"Track name\"\n          helperText=\"A name for this track\"\n          fullWidth\n          value={trackName}\n          onChange={event => {\n            model.setTrackName(event.target.value)\n          }}\n          slotProps={{\n            htmlInput: {\n              'data-testid': 'trackNameInput',\n            },\n          }}\n        />\n        <div className={classes.selectorsContainer}>\n          <TrackAdapterSelector model={model} />\n          <TrackTypeSelector model={model} />\n\n          <Suspense fallback={null}>\n            <Component model={model} />\n          </Suspense>\n        </div>\n\n        {isElectron && supportedForIndexing && (\n          <FormControl>\n            <FormControlLabel\n              label=\"Index track for text searching?\"\n              control={\n                <Checkbox\n                  checked={textIndexTrack}\n                  onChange={e => {\n                    model.setTextIndexTrack(e.target.checked)\n                  }}\n                />\n              }\n            />\n          </FormControl>\n        )}\n        {isElectron && textIndexTrack && supportedForIndexing ? (\n          <TextIndexingConfig model={model} />\n        ) : null}\n      </div>\n    )\n  }\n})\n\nexport default ConfirmTrack\n","import { FileSelector } from '@jbrowse/core/ui'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { getRoot } from '@jbrowse/mobx-state-tree'\nimport { Paper } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\nimport type { AbstractRootModel } from '@jbrowse/core/util'\n\nconst useStyles = makeStyles()(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n  },\n  spacer: {\n    height: theme.spacing(8),\n  },\n}))\n\nconst TrackSourceSelect = observer(function TrackSourceSelect({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const { classes } = useStyles()\n  const rootModel = getRoot<AbstractRootModel>(model)\n\n  return (\n    <Paper className={classes.paper}>\n      <FileSelector\n        name=\"Main file\"\n        description=\"\"\n        location={model.trackData}\n        setLocation={model.setTrackData}\n        rootModel={rootModel}\n      />\n      <div className={classes.spacer} />\n      <FileSelector\n        name=\"Index file\"\n        description=\"(Optional) The URL of the index file is automatically inferred from the URL of the main file if it is not supplied.\"\n        location={model.indexTrackData}\n        setLocation={model.setIndexTrackData}\n        rootModel={rootModel}\n      />\n    </Paper>\n  )\n})\n\nexport default TrackSourceSelect\n","import { useState } from 'react'\n\nimport { getSession } from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport {\n  Button,\n  Step,\n  StepContent,\n  StepLabel,\n  Stepper,\n  Typography,\n} from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport ConfirmTrack from './ConfirmTrack.tsx'\nimport TrackSourceSelect from './TrackSourceSelect.tsx'\nimport { doSubmit } from './doSubmit.ts'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()(theme => ({\n  root: {\n    marginTop: theme.spacing(1),\n  },\n  stepper: {\n    backgroundColor: theme.palette.background.default,\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  actionsContainer: {\n    marginTop: theme.spacing(10),\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nconst steps = ['Enter track data', 'Confirm track type']\n\nconst DefaultAddTrackWorkflow = observer(function DefaultAddTrackWorkflow({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const [activeStep, setActiveStep] = useState(0)\n  const { classes } = useStyles()\n  const { assembly, trackAdapter, trackData, trackName, trackType } = model\n\n  function getStepContent(step: number) {\n    switch (step) {\n      case 0:\n        return <TrackSourceSelect model={model} />\n      case 1:\n        return <ConfirmTrack model={model} />\n      default:\n        return <Typography>Unknown step</Typography>\n    }\n  }\n\n  function isNextDisabled() {\n    switch (activeStep) {\n      case 0:\n        return !trackData\n      case 1:\n        return !(trackName && trackType && trackAdapter?.type && assembly)\n      default:\n        return true\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Stepper\n        className={classes.stepper}\n        activeStep={activeStep}\n        orientation=\"vertical\"\n      >\n        {steps.map((label, idx) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n            <StepContent>\n              {getStepContent(idx)}\n              <div className={classes.actionsContainer}>\n                <Button\n                  disabled={activeStep === 0}\n                  className={classes.button}\n                  onClick={() => {\n                    setActiveStep(activeStep - 1)\n                  }}\n                  data-testid=\"addTrackBackButton\"\n                >\n                  Back\n                </Button>\n                <Button\n                  disabled={isNextDisabled()}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    if (activeStep !== steps.length - 1) {\n                      setActiveStep(activeStep + 1)\n                    } else {\n                      try {\n                        doSubmit({ model })\n                      } catch (e) {\n                        getSession(model).notifyError(`${e}`, e)\n                      }\n                    }\n                  }}\n                  className={classes.button}\n                  data-testid=\"addTrackNextButton\"\n                >\n                  {activeStep === steps.length - 1 ? 'Add' : 'Next'}\n                </Button>\n              </div>\n            </StepContent>\n          </Step>\n        ))}\n      </Stepper>\n    </div>\n  )\n})\nexport default DefaultAddTrackWorkflow\n","import {\n  getSession,\n  isElectron,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n  isSupportedIndexingAdapter,\n} from '@jbrowse/core/util'\nimport { getRoot } from '@jbrowse/mobx-state-tree'\n\nimport type { AddTrackModel } from '../model.ts'\n\nfunction doTextIndexTrack({\n  trackId,\n  model,\n}: {\n  trackId: string\n  model: AddTrackModel\n}) {\n  const { textIndexingConf, trackName, assembly } = model\n  const { jobsManager } = getRoot<any>(model)\n  const attr = textIndexingConf || {\n    attributes: ['Name', 'ID'],\n    exclude: ['CDS', 'exon'],\n  }\n  const indexName = `${trackName}-index`\n  jobsManager.queueJob({\n    indexingParams: {\n      ...attr,\n      assemblies: [assembly],\n      tracks: [trackId],\n      indexType: 'perTrack',\n      name: indexName,\n      timestamp: new Date().toISOString(),\n    },\n    name: indexName,\n    cancelCallback: () => jobsManager.abortJob(),\n  })\n}\n\nexport function doSubmit({ model }: { model: AddTrackModel }) {\n  const { textIndexTrack, trackAdapter, view } = model\n  const session = getSession(model)\n  const trackConfig = model.getTrackConfig(Date.now())\n\n  if (!isSessionWithAddTracks(session)) {\n    throw new Error(\"Can't add tracks to this session\")\n  } else if (trackConfig && trackAdapter) {\n    const { trackId } = trackConfig\n    session.addTrackConf(trackConfig)\n    if (view?.assemblyNames?.includes(model.assembly)) {\n      view.showTrack(trackId)\n    }\n\n    if (\n      isElectron &&\n      textIndexTrack &&\n      isSupportedIndexingAdapter(trackAdapter.type)\n    ) {\n      doTextIndexTrack({\n        model,\n        trackId: String(trackId),\n      })\n    }\n    model.clearData()\n    if (isSessionModelWithWidgets(session)) {\n      session.hideWidget(model)\n    }\n  } else {\n    throw new Error(\n      'Failed to add track.\\nThe configuration of this file is not currently supported.',\n    )\n  }\n}\n","import { useState } from 'react'\n\nimport { ErrorMessage } from '@jbrowse/core/ui'\nimport {\n  getSession,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { Button, TextField } from '@mui/material'\nimport { transaction } from 'mobx'\nimport { observer } from 'mobx-react'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst useStyles = makeStyles()({\n  textbox: {\n    width: '100%',\n  },\n  submit: {\n    marginTop: 25,\n    marginBottom: 100,\n    display: 'block',\n  },\n})\n\nconst PasteConfigAddTrackWorkflow = observer(\n  function PasteConfigAddTrackWorkflow({ model }: { model: AddTrackModel }) {\n    const { classes } = useStyles()\n    const [val, setVal] = useState('')\n    const [error, setError] = useState<unknown>()\n\n    return (\n      <div>\n        {error ? <ErrorMessage error={error} /> : null}\n        <TextField\n          multiline\n          rows={10}\n          value={val}\n          placeholder=\"Paste track config or array of track configs in JSON format\"\n          variant=\"outlined\"\n          className={classes.textbox}\n          onChange={event => {\n            setVal(event.target.value)\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          className={classes.submit}\n          onClick={() => {\n            try {\n              setError(undefined)\n              const session = getSession(model)\n              const conf = JSON.parse(val)\n              const confs = Array.isArray(conf) ? conf : [conf]\n              if (\n                isSessionWithAddTracks(session) &&\n                isSessionModelWithWidgets(session)\n              ) {\n                transaction(() => {\n                  for (const c of confs) {\n                    session.addTrackConf(c)\n                  }\n                  for (const c of confs) {\n                    model.view?.showTrack?.(c.trackId)\n                  }\n                  model.clearData()\n                })\n\n                session.hideWidget(model)\n              }\n            } catch (e) {\n              console.error(e)\n              setError(e)\n            }\n          }}\n        >\n          Submit\n        </Button>\n      </div>\n    )\n  },\n)\nexport default PasteConfigAddTrackWorkflow\n","import { Suspense, useState } from 'react'\n\nimport { getEnv } from '@jbrowse/core/util'\nimport { FormControl, FormHelperText, MenuItem, Select } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport DefaultAddTrackWorkflow from './DefaultAddTrackWorkflow.tsx'\nimport PasteConfigWorkflow from './PasteConfigWorkflow.tsx'\n\nimport type { AddTrackModel } from '../model.ts'\n\nconst AddTrackSelector = observer(function AddTrackSelector({\n  model,\n}: {\n  model: AddTrackModel\n}) {\n  const [val, setVal] = useState('Default add track workflow')\n  const ComponentMap = {\n    'Default add track workflow': DefaultAddTrackWorkflow,\n    'Add track JSON': PasteConfigWorkflow,\n    ...Object.fromEntries(\n      getEnv(model)\n        .pluginManager.getAddTrackWorkflowElements()\n        .map(w => [w.name, w.ReactComponent]),\n    ),\n  } as Record<string, React.FC<{ model: AddTrackModel }>>\n\n  // make sure the selected value is in the list\n  const val2 = ComponentMap[val] ? val : 'Default add track workflow'\n  const Component = ComponentMap[val2]!\n  return (\n    <>\n      <FormControl>\n        <Select\n          value={val2}\n          onChange={event => {\n            setVal(event.target.value)\n          }}\n        >\n          {Object.keys(ComponentMap).map(e => (\n            <MenuItem key={e} value={e}>\n              {e}\n            </MenuItem>\n          ))}\n        </Select>\n        <FormHelperText>Type of add track workflow</FormHelperText>\n      </FormControl>\n\n      <Suspense fallback={null}>\n        <Component model={model} />\n      </Suspense>\n    </>\n  )\n})\n\nexport default AddTrackSelector\n"],"names":["useStyles","makeStyles","theme","spacing","marginBottom","StatusMessage","t0","$","_c","trackAdapter","trackType","classes","type","subadapter","t1","_jsxs","Typography","className","children","_jsx","categorizeAdapters","adaptersList","map","adapter","key","adapterMetadata","category","push","observer","model","adapterHintNotConfigurable","adapterHint","pluginManager","getEnv","displayValue","TextField","value","label","variant","select","fullWidth","error","helperText","undefined","onChange","event","setAdapterHint","target","slotProps","SelectDisplayProps","Object","entries","getAdapterElements","filter","e","hiddenFromGUI","val","ListSubheader","elt","MenuItem","name","displayName","UnknownAdapterPrompt","t2","t3","t4","t5","Symbol","for","ExternalLink","href","TrackAdapterSelector","_Fragment","paper","display","flexDirection","padding","card","marginTop","attributeInput","setAttributeInput","useState","excludeInput","setExcludeInput","attributes","setAttributes","exclude","setExclude","sections","values","setValues","inputValue","setInputValue","useEffect","setTextIndexingConf","Paper","InputLabel","section","Card","raised","CardContent","List","disablePadding","idx","ListItem","disableGutters","input","endAdornment","InputAdornment","position","IconButton","onClick","_","i","DeleteIcon","placeholder","disabled","AddIcon","trackTypes","getTrackElements","setTrackType","Unsupported","selectorsContainer","gap","session","getSession","trackName","unsupported","warningMessage","textIndexTrack","UNKNOWN","color","supportedForIndexing","isSupportedIndexingAdapter","Component","evaluateExtensionPoint","AssemblySelector","selected","assembly","asm","setAssembly","TextFieldProps","SelectProps","setTrackName","htmlInput","TrackTypeSelector","Suspense","fallback","isElectron","FormControl","FormControlLabel","control","Checkbox","checked","setTextIndexTrack","TextIndexingConfig","spacer","height","rootModel","getRoot","FileSelector","description","location","trackData","setLocation","setTrackData","indexTrackData","setIndexTrackData","root","stepper","backgroundColor","palette","background","default","button","marginRight","actionsContainer","steps","activeStep","setActiveStep","getStepContent","step","TrackSourceSelect","ConfirmTrack","isNextDisabled","Stepper","orientation","Step","StepLabel","StepContent","Button","length","view","trackConfig","getTrackConfig","Date","now","isSessionWithAddTracks","Error","trackId","addTrackConf","assemblyNames","includes","showTrack","textIndexingConf","jobsManager","attr","indexName","queueJob","indexingParams","assemblies","tracks","indexType","timestamp","toISOString","cancelCallback","abortJob","doTextIndexTrack","String","clearData","isSessionModelWithWidgets","hideWidget","doSubmit","notifyError","textbox","width","submit","setVal","setError","ErrorMessage","multiline","rows","conf","JSON","parse","confs","Array","isArray","transaction","c","console","ComponentMap","DefaultAddTrackWorkflow","PasteConfigWorkflow","fromEntries","getAddTrackWorkflowElements","w","ReactComponent","val2","Select","keys","FormHelperText"],"sourceRoot":""}