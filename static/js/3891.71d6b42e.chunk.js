"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[3891,5049],{18403(e,t,r){r.d(t,{A:()=>n,u:()=>l});var o=r(99287),a=r(47739);function l(e){return(0,a.Ay)("MuiFormControlLabel",e)}const n=(0,o.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"])},33667(e,t,r){r.d(t,{A:()=>n,w:()=>l});var o=r(99287),a=r(47739);function l(e){return(0,a.Ay)("MuiCheckbox",e)}const n=(0,o.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"])},37015(e,t,r){r.d(t,{A:()=>f});var o=r(42918),a=r(77710),l=r(62981),n=r(74620),s=r(41680),i=r(711),c=r(32717),d=r(1591),p=r(88842),u=r(18403),h=r(89278),m=r(53137),b=r(32118);const v=(0,s.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${u.A.label}`]:t.label},t.root,t[`labelPlacement${(0,p.A)(r.labelPlacement)}`]]}})((0,i.A)(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${u.A.disabled}`]:{cursor:"default"},[`& .${u.A.label}`]:{[`&.${u.A.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),A=(0,s.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk"})((0,i.A)(({theme:e})=>({[`&.${u.A.error}`]:{color:(e.vars||e).palette.error.main}}))),f=o.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiFormControlLabel"}),{checked:s,className:i,componentsProps:f={},control:g,disabled:x,disableTypography:y,inputRef:k,label:j,labelPlacement:w="end",name:C,onChange:P,required:S,slots:z={},slotProps:R={},value:F,...B}=r,$=(0,n.A)(),L=x??g.props.disabled??$?.disabled,M=S??g.props.required,T={disabled:L,required:M};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===g.props[e]&&void 0!==r[e]&&(T[e]=r[e])});const N=(0,h.A)({props:r,muiFormControl:$,states:["error"]}),O={...r,disabled:L,labelPlacement:w,required:M,error:N.error},I=(e=>{const{classes:t,disabled:r,labelPlacement:o,error:a,required:n}=e,s={root:["root",r&&"disabled",`labelPlacement${(0,p.A)(o)}`,a&&"error",n&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",a&&"error"]};return(0,l.A)(s,u.u,t)})(O),q={slots:z,slotProps:{...f,...R}},[E,V]=(0,m.A)("typography",{elementType:d.A,externalForwardedProps:q,ownerState:O});let H=j;return null==H||H.type===d.A||y||(H=(0,b.jsx)(E,{component:"span",...V,className:(0,a.A)(I.label,V?.className),children:H})),(0,b.jsxs)(v,{className:(0,a.A)(I.root,i),ownerState:O,ref:t,...B,children:[o.cloneElement(g,T),M?(0,b.jsxs)("div",{children:[H,(0,b.jsxs)(A,{ownerState:O,"aria-hidden":!0,className:I.asterisk,children:["â€‰","*"]})]}):H]})})},42783(e,t,r){r.d(t,{A:()=>C});var o=r(42918),a=r(77710),l=r(62981),n=r(94116),s=r(63881),i=r(32118);const c=(0,s.A)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=(0,s.A)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,s.A)((0,i.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var u=r(88842),h=r(62466),m=r(33667),b=r(41680),v=r(711),A=r(70668),f=r(32717),g=r(41370),x=r(53137);const y=(0,b.Ay)(n.A,{shouldForwardProp:e=>(0,h.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${(0,u.A)(r.size)}`],"default"!==r.color&&t[`color${(0,u.A)(r.color)}`]]}})((0,v.A)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,A.A)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,A.A)()).map(([t])=>({props:{color:t},style:{[`&.${m.A.checked}, &.${m.A.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${m.A.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),k=(0,i.jsx)(d,{}),j=(0,i.jsx)(c,{}),w=(0,i.jsx)(p,{}),C=o.forwardRef(function(e,t){const r=(0,f.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:n=k,color:s="primary",icon:c=j,indeterminate:d=!1,indeterminateIcon:p=w,inputProps:h,size:b="medium",disableRipple:v=!1,className:A,slots:C={},slotProps:P={},...S}=r,z=d?p:c,R=d?p:n,F={...r,disableRipple:v,color:s,indeterminate:d,size:b},B=(e=>{const{classes:t,indeterminate:r,color:o,size:a}=e,n={root:["root",r&&"indeterminate",`color${(0,u.A)(o)}`,`size${(0,u.A)(a)}`]},s=(0,l.A)(n,m.w,t);return{...t,...s}})(F),$=P.input??h,[L,M]=(0,x.A)("root",{ref:t,elementType:y,className:(0,a.A)(B.root,A),shouldForwardComponentProp:!0,externalForwardedProps:{slots:C,slotProps:P,...S},ownerState:F,additionalProps:{type:"checkbox",icon:o.cloneElement(z,{fontSize:z.props.fontSize??b}),checkedIcon:o.cloneElement(R,{fontSize:R.props.fontSize??b}),disableRipple:v,slots:C,slotProps:{input:(0,g.A)("function"==typeof $?$(F):$,{"data-indeterminate":d})}}});return(0,i.jsx)(L,{...M,classes:B})})},93891(e,t,r){r.r(t),r.d(t,{default:()=>y});var o=r(30936),a=r(42918),l=r(85787),n=r(27351),s=r(77251),i=r(25861),c=r(1591),d=r(24215),p=r(9625),u=r(37015),h=r(42783),m=r(11543),b=r(65525),v=r(15675),A=r(32118);function f(e){const t=(0,o.c)(6);let r,a,l;return t[0]!==e?(({children:r,...a}=e),t[0]=e,t[1]=r,t[2]=a):(r=t[1],a=t[2]),t[3]!==r||t[4]!==a?(l=(0,A.jsx)("div",{children:(0,A.jsx)(v.A,{...a,children:r})}),t[3]=r,t[4]=a,t[5]=l):l=t[5],l}function g(){const e=(0,o.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,A.jsxs)("div",{children:[(0,A.jsx)(i.A,{size:20,style:{marginRight:20}}),(0,A.jsx)(c.A,{display:"inline",children:"Creating SVG"})]}),e[0]=t):t=e[0],t}function x(e,t){return(0,s.useLocalStorage)(`svg-${e}`,t)}function y({model:e,handleClose:t}){const r=(0,s.getSession)(e),o="undefined"!=typeof OffscreenCanvas,[i,v]=(0,a.useState)(o),[y,k]=x("gridlines",!1),[j,w]=(0,a.useState)(!1),[C,P]=x("file","jbrowse.svg"),[S,z]=x("tracklabels","offset"),[R,F]=x("theme",r.themeName||"default"),[B,$]=(0,a.useState)();return(0,A.jsxs)(l.A,{open:!0,onClose:t,title:"Export SVG",children:[(0,A.jsxs)(d.A,{children:[B?(0,A.jsx)(n.A,{error:B}):j?(0,A.jsx)(g,{}):null,(0,A.jsx)(f,{helperText:"filename",value:C,onChange:e=>{P(e.target.value)}}),(0,A.jsxs)(f,{select:!0,label:"Track label positioning",variant:"outlined",value:S,style:{width:150},onChange:e=>{z(e.target.value)},children:[(0,A.jsx)(p.A,{value:"offset",children:"Offset"}),(0,A.jsx)(p.A,{value:"overlay",children:"Overlay"}),(0,A.jsx)(p.A,{value:"left",children:"Left"}),(0,A.jsx)(p.A,{value:"none",children:"None"})]}),(0,A.jsx)("br",{}),r.allThemes?(0,A.jsx)(f,{select:!0,label:"Theme",variant:"outlined",value:R,onChange:e=>{F(e.target.value)},children:Object.entries(r.allThemes()).map(([e,t])=>(0,A.jsx)(p.A,{value:e,children:t.name||"(Unknown name)"},e))}):null,(0,A.jsx)(u.A,{control:(0,A.jsx)(h.A,{checked:y,onChange:()=>{k(e=>!e)}}),label:"Show gridlines"}),o?(0,A.jsx)(u.A,{control:(0,A.jsx)(h.A,{checked:i,onChange:()=>{v(e=>!e)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):(0,A.jsx)(c.A,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),(0,A.jsxs)(m.A,{children:[(0,A.jsx)(b.A,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"}),(0,A.jsx)(b.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{w(!0),$(void 0);try{await e.exportSvg({rasterizeLayers:i,filename:C,themeName:R,trackLabels:S,showGridlines:y}),t()}catch(e){console.error(e),$(e)}finally{w(!1)}},children:"Submit"})]})]})}},94116(e,t,r){r.d(t,{A:()=>f});var o=r(42918),a=r(62981),l=r(88842),n=r(62466),s=r(41680),i=r(6335),c=r(74620),d=r(61302),p=r(99287),u=r(47739);function h(e){return(0,u.Ay)("PrivateSwitchBase",e)}(0,p.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var m=r(53137),b=r(32118);const v=(0,s.Ay)(d.A,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>"start"===e&&"small"!==t.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>"end"===e&&"small"!==t.size,style:{marginRight:-12}}]}),A=(0,s.Ay)("input",{name:"MuiSwitchBase",shouldForwardProp:n.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),f=o.forwardRef(function(e,t){const{autoFocus:r,checked:o,checkedIcon:n,defaultChecked:s,disabled:d,disableFocusRipple:p=!1,edge:u=!1,icon:f,id:g,inputProps:x,inputRef:y,name:k,onBlur:j,onChange:w,onFocus:C,readOnly:P,required:S=!1,tabIndex:z,type:R,value:F,slots:B={},slotProps:$={},...L}=e,[M,T]=(0,i.A)({controlled:o,default:Boolean(s),name:"SwitchBase",state:"checked"}),N=(0,c.A)();let O=d;N&&void 0===O&&(O=N.disabled);const I="checkbox"===R||"radio"===R,q={...e,checked:M,disabled:O,disableFocusRipple:p,edge:u},E=(e=>{const{classes:t,checked:r,disabled:o,edge:n}=e,s={root:["root",r&&"checked",o&&"disabled",n&&`edge${(0,l.A)(n)}`],input:["input"]};return(0,a.A)(s,h,t)})(q),V={slots:B,slotProps:{input:x,...$}},[H,_]=(0,m.A)("root",{ref:t,elementType:v,className:E.root,shouldForwardComponentProp:!0,externalForwardedProps:{...V,component:"span",...L},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),(e=>{C&&C(e),N&&N.onFocus&&N.onFocus(e)})(t)},onBlur:t=>{e.onBlur?.(t),(e=>{j&&j(e),N&&N.onBlur&&N.onBlur(e)})(t)}}),ownerState:q,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:O,role:void 0,tabIndex:null}}),[G,D]=(0,m.A)("input",{ref:y,elementType:A,className:E.input,externalForwardedProps:V,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented||P)return;const t=e.target.checked;T(t),w&&w(e,t)})(t)}}),ownerState:q,additionalProps:{autoFocus:r,checked:o,defaultChecked:s,disabled:O,id:I?g:void 0,name:k,readOnly:P,required:S,tabIndex:z,type:R,..."checkbox"===R&&void 0===F?{}:{value:F}}});return(0,b.jsxs)(H,{..._,children:[(0,b.jsx)(G,{...D}),M?n:f]})})}}]);
//# sourceMappingURL=3891.71d6b42e.chunk.js.map