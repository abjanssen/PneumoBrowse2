"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7408],{47408(e,n,t){t.d(n,{doAfterAttachRPC:()=>o});var a=t(10533),s=t(40241),i=t(52301);function o(e){const n=(0,s.y)({self:e,rpcMethodName:"RenderLinearReadArcsDisplay",getRPCParams:()=>e.renderProps(),onResult:()=>{}});(0,i.vi)(e,async()=>{(0,a.isAlive)(e)&&n()},{delay:1e3,name:"PerformRender"}),(0,s.K)(e)}},40241(e,n,t){t.d(n,{K:()=>p,y:()=>l});var a=t(23886),s=t(15146),i=t(29458),o=t(19608),r=t(10533),d=t(73539),c=t(44934),g=t(52301);function l({self:e,rpcMethodName:n,getRPCParams:t,onResult:d}){return async()=>{const g=(0,a.getContainingView)(e);if(!g.initialized||e.error||!e.featureDensityStatsReadyAndRegionNotTooLarge)return;const{bpPerPx:l}=g;try{const s=(0,a.getSession)(e),{rpcManager:p,assemblyManager:f}=s,u=g.assemblyNames[0];if(!u)return;const P=f.get(u),m=P?.configuration?.sequence?.adapter,R=m?(0,r.getSnapshot)(m):void 0,h=(0,c.untracked)(()=>e.renderingStopToken);h&&(0,i.CF)(h);const y=(0,i.y5)();e.setRenderingStopToken(y),e.setLoading(!0),e.setCanvasDrawn?.(!1);const w={displayedRegions:structuredClone(g.displayedRegions),bpPerPx:g.bpPerPx,offsetPx:g.offsetPx,interRegionPaddingWidth:g.interRegionPaddingWidth,minimumBlockWidth:g.minimumBlockWidth,width:g.width},v=(0,o.getRpcSessionId)(e),b=e.adapterConfig,C=(0,r.getSnapshot)(e.configuration),k=await p.call(v,n,{sessionId:v,view:w,adapterConfig:b,sequenceAdapter:R,config:C,statusCallback:n=>{(0,r.isAlive)(e)&&e.setStatusMessage?.(n)},stopToken:y,...t({view:g,session:s,sequenceAdapter:R,stopToken:y})});k.imageData&&(e.setRenderingImageData(k.imageData),void 0!==k.offsetPx&&e.setLastDrawnOffsetPx(k.offsetPx),d(k)),e.setLastDrawnBpPerPx(l)}catch(n){(0,s.Kp)(n)||(console.error(n),e.setError(n))}finally{e.setRenderingStopToken(void 0),e.setLoading(!1)}}}function p(e){(0,g.vi)(e,async()=>{const n=(0,d.y6)(e.ref,e.renderingImageData);(0,r.isAlive)(e)&&e.setCanvasDrawn?.(n)},{name:"CanvasRenderAutorun"})}}}]);
//# sourceMappingURL=7408.9bad9828.chunk.js.map