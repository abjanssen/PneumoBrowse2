{"version":3,"file":"static/js/7523.cbcd8989.chunk.js","mappings":"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","sources":["../../../plugins/linear-comparative-view/src/LinearSyntenyDisplay/components/BlockError.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyDisplay/components/BlockMessage.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyDisplay/components/SyntenyContextMenu.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyDisplay/components/LinearSyntenyRendering.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyDisplay/components/LoadingMessage.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyDisplay/components/Component.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyDisplay/components/util.ts"],"sourcesContent":["import { makeStyles } from '@jbrowse/core/util/tss-react'\n\nconst useStyles = makeStyles()({\n  blockError: {\n    background: '#f1f1f1',\n    padding: 10,\n    color: 'red',\n  },\n})\n\nexport default function BlockError({ error }: { error: unknown }) {\n  const { classes } = useStyles()\n  return <div className={classes.blockError}>{`${error}`}</div>\n}\n","import { makeStyles } from '@jbrowse/core/util/tss-react'\n\nconst useStyles = makeStyles()({\n  blockMessage: {\n    background: '#f1f1f1',\n    padding: 10,\n  },\n})\n\nexport default function BlockMessage({ messageText }: { messageText: string }) {\n  const { classes } = useStyles()\n  return <div className={classes.blockMessage}>{messageText}</div>\n}\n","import { Menu } from '@jbrowse/core/ui'\nimport { getContainingView } from '@jbrowse/core/util'\n\nimport type { LinearSyntenyViewModel } from '../../LinearSyntenyView/model.ts'\nimport type { LinearSyntenyDisplayModel } from '../model.ts'\nimport type { Feature } from '@jbrowse/core/util'\n\ninterface ClickCoord {\n  clientX: number\n  clientY: number\n  feature: { f: Feature }\n}\n\nexport default function SyntenyContextMenu({\n  model,\n  onClose,\n  anchorEl,\n}: {\n  onClose: () => void\n  model: LinearSyntenyDisplayModel\n  anchorEl: ClickCoord\n}) {\n  const view = getContainingView(model) as LinearSyntenyViewModel\n  const { clientX, clientY, feature } = anchorEl\n  return (\n    <Menu\n      onMenuItemClick={(_, callback) => {\n        callback()\n        onClose()\n      }}\n      anchorReference=\"anchorPosition\"\n      anchorPosition={{ top: clientY, left: clientX }}\n      onClose={onClose}\n      open={Boolean(anchorEl)}\n      menuItems={[\n        {\n          label: 'Center on feature',\n          onClick: () => {\n            const { f } = feature\n            const start = f.get('start')\n            const end = f.get('end')\n            const refName = f.get('refName')\n            const mate = f.get('mate')\n\n            const l1 = view.views[model.level]!\n            const l2 = view.views[model.level + 1]!\n\n            const center1 = (start + end) / 2\n            const center2 = (mate.start + mate.end) / 2\n\n            l1.centerAt(center1, refName)\n            l2.centerAt(center2, mate.refName)\n          },\n        },\n      ]}\n    />\n  )\n}\n","import { lazy, useCallback, useEffect, useRef, useState } from 'react'\n\nimport { getContainingView } from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { transaction } from 'mobx'\nimport { observer } from 'mobx-react'\n\nimport { MAX_COLOR_RANGE, getId } from '../drawSynteny.ts'\nimport SyntenyContextMenu from './SyntenyContextMenu.tsx'\nimport { getTooltip, onSynClick, onSynContextClick } from './util.ts'\n\nimport type { ClickCoord } from './util.ts'\nimport type { LinearSyntenyViewModel } from '../../LinearSyntenyView/model.ts'\nimport type { LinearSyntenyDisplayModel } from '../model.ts'\n\nconst SyntenyTooltip = lazy(() => import('./SyntenyTooltip.tsx'))\n\ntype Timer = ReturnType<typeof setTimeout>\n\nconst useStyles = makeStyles()({\n  pix: {\n    imageRendering: 'pixelated',\n    pointerEvents: 'none',\n    visibility: 'hidden',\n    position: 'absolute',\n  },\n  rel: {\n    position: 'relative',\n  },\n  mouseoverCanvas: {\n    position: 'absolute',\n    pointerEvents: 'none',\n  },\n  mainCanvas: {\n    position: 'absolute',\n  },\n})\n\nconst LinearSyntenyRendering = observer(function LinearSyntenyRendering({\n  model,\n}: {\n  model: LinearSyntenyDisplayModel\n}) {\n  const { classes } = useStyles()\n  const { mouseoverId, height } = model\n  const xOffset = useRef(0)\n  const view = getContainingView(model) as LinearSyntenyViewModel\n  const width = view.width\n  const delta = useRef(0)\n  const scheduled = useRef(false)\n  const timeout = useRef<Timer>(null)\n  const [anchorEl, setAnchorEl] = useState<ClickCoord>()\n  const [tooltip, setTooltip] = useState('')\n  const [currX, setCurrX] = useState<number>()\n  const [mouseCurrDownX, setMouseCurrDownX] = useState<number>()\n  const [mouseInitialDownX, setMouseInitialDownX] = useState<number>()\n  const [currY, setCurrY] = useState<number>()\n  const mainSyntenyCanvasRefp = useRef<HTMLCanvasElement>(null)\n\n  // these useCallbacks avoid new refs from being created on any mouseover,\n  // etc.\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const mouseoverDetectionCanvasRef = useCallback(\n    (ref: HTMLCanvasElement | null) => {\n      model.setMouseoverCanvasRef(ref)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, height, width],\n  )\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const mainSyntenyCanvasRef = useCallback(\n    (ref: HTMLCanvasElement | null) => {\n      model.setMainCanvasRef(ref)\n      mainSyntenyCanvasRefp.current = ref // this ref is additionally used in useEffect below\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, height, width],\n  )\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  useEffect(() => {\n    function onWheel(event: WheelEvent) {\n      event.preventDefault()\n      if (event.ctrlKey) {\n        delta.current += event.deltaY / 500\n        for (const v of view.views) {\n          v.setScaleFactor(\n            delta.current < 0 ? 1 - delta.current : 1 / (1 + delta.current),\n          )\n        }\n        if (timeout.current) {\n          clearTimeout(timeout.current)\n        }\n        timeout.current = setTimeout(() => {\n          for (const v of view.views) {\n            v.setScaleFactor(1)\n            v.zoomTo(\n              delta.current > 0\n                ? v.bpPerPx * (1 + delta.current)\n                : v.bpPerPx / (1 - delta.current),\n              event.clientX -\n                (mainSyntenyCanvasRefp.current?.getBoundingClientRect().left ||\n                  0),\n            )\n          }\n          delta.current = 0\n        }, 300)\n      } else {\n        if (Math.abs(event.deltaY) < Math.abs(event.deltaX)) {\n          xOffset.current += event.deltaX / 2\n        }\n        if (!scheduled.current) {\n          scheduled.current = true\n          window.requestAnimationFrame(() => {\n            transaction(() => {\n              for (const v of view.views) {\n                v.horizontalScroll(xOffset.current)\n              }\n              xOffset.current = 0\n              scheduled.current = false\n            })\n          })\n        }\n      }\n    }\n    mainSyntenyCanvasRefp.current?.addEventListener('wheel', onWheel)\n    return () => {\n      mainSyntenyCanvasRefp.current?.removeEventListener('wheel', onWheel)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [model, height, width])\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const clickMapCanvasRef = useCallback(\n    (ref: HTMLCanvasElement | null) => {\n      model.setClickMapCanvasRef(ref)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, height, width],\n  )\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const cigarClickMapCanvasRef = useCallback(\n    (ref: HTMLCanvasElement | null) => {\n      model.setCigarClickMapCanvasRef(ref)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, height, width],\n  )\n\n  return (\n    <div className={classes.rel}>\n      <canvas\n        ref={mainSyntenyCanvasRef}\n        onMouseMove={event => {\n          if (mouseCurrDownX !== undefined) {\n            xOffset.current += mouseCurrDownX - event.clientX\n            setMouseCurrDownX(event.clientX)\n            if (!scheduled.current) {\n              scheduled.current = true\n              window.requestAnimationFrame(() => {\n                transaction(() => {\n                  for (const v of view.views) {\n                    v.horizontalScroll(xOffset.current)\n                  }\n                  xOffset.current = 0\n                  scheduled.current = false\n                })\n              })\n            }\n          } else {\n            const ref1 = model.clickMapCanvas\n            const ref2 = model.cigarClickMapCanvas\n            if (!ref1 || !ref2) {\n              return\n            }\n            const rect = ref1.getBoundingClientRect()\n            const ctx1 = ref1.getContext('2d')\n            const ctx2 = ref2.getContext('2d')\n            if (!ctx1 || !ctx2) {\n              return\n            }\n            const { clientX, clientY } = event\n            const x = clientX - rect.left\n            const y = clientY - rect.top\n            setCurrX(clientX)\n            setCurrY(clientY)\n            const [r1, g1, b1] = ctx1.getImageData(x, y, 1, 1).data\n            const [r2, g2, b2] = ctx2.getImageData(x, y, 1, 1).data\n            if (model.numFeats === 0) {\n              setTooltip('')\n              return\n            }\n            const unitMultiplier = Math.floor(MAX_COLOR_RANGE / model.numFeats)\n            const id = getId(r1!, g1!, b1!, unitMultiplier)\n            model.setMouseoverId(model.featPositions[id]?.f.id())\n            if (id === -1 || !model.featPositions[id]) {\n              setTooltip('')\n            } else {\n              const { f, cigar } = model.featPositions[id]\n              const unitMultiplier2 = Math.floor(MAX_COLOR_RANGE / cigar.length)\n              const cigarIdx = getId(r2!, g2!, b2!, unitMultiplier2)\n              // this is hacky but the index sometimes returns odd number which\n              // is invalid due to the color-to-id mapping, check it is even to\n              // ensure better validity\n              // Also check that the CIGAR pixel data is not all zeros (no CIGAR data drawn)\n              const hasCigarData =\n                cigarIdx % 2 === 0 && (r2 !== 0 || g2 !== 0 || b2 !== 0)\n              setTooltip(\n                getTooltip({\n                  feature: f,\n                  cigarOp: hasCigarData ? cigar[cigarIdx + 1] : undefined,\n                  cigarOpLen: hasCigarData ? cigar[cigarIdx] : undefined,\n                }),\n              )\n            }\n          }\n        }}\n        onMouseLeave={() => {\n          model.setMouseoverId(undefined)\n          setMouseInitialDownX(undefined)\n          setMouseCurrDownX(undefined)\n        }}\n        onMouseDown={evt => {\n          setMouseCurrDownX(evt.clientX)\n          setMouseInitialDownX(evt.clientX)\n        }}\n        onMouseUp={evt => {\n          setMouseCurrDownX(undefined)\n          if (\n            mouseInitialDownX !== undefined &&\n            Math.abs(evt.clientX - mouseInitialDownX) < 5\n          ) {\n            onSynClick(evt, model)\n          }\n        }}\n        onContextMenu={evt => {\n          onSynContextClick(evt, model, setAnchorEl)\n        }}\n        data-testid=\"synteny_canvas\"\n        className={classes.mainCanvas}\n        width={width}\n        height={height}\n      />\n      <canvas\n        ref={mouseoverDetectionCanvasRef}\n        width={width}\n        height={height}\n        className={classes.mouseoverCanvas}\n      />\n      <canvas\n        ref={clickMapCanvasRef}\n        className={classes.pix}\n        width={width}\n        height={height}\n      />\n      <canvas\n        ref={cigarClickMapCanvasRef}\n        className={classes.pix}\n        width={width}\n        height={height}\n      />\n      {mouseoverId && tooltip && currX && currY ? (\n        <SyntenyTooltip title={tooltip} />\n      ) : null}\n      {anchorEl ? (\n        <SyntenyContextMenu\n          model={model}\n          anchorEl={anchorEl}\n          onClose={() => {\n            setAnchorEl(undefined)\n          }}\n        />\n      ) : null}\n    </div>\n  )\n})\n\nexport default LinearSyntenyRendering\n","import { LoadingEllipses } from '@jbrowse/core/ui'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\n\nconst useStyles = makeStyles()(theme => {\n  const bg = theme.palette.action.disabledBackground\n  return {\n    loading: {\n      paddingLeft: '0.6em',\n      backgroundColor: theme.palette.background.default,\n      backgroundImage: `repeating-linear-gradient(45deg, transparent, transparent 5px, ${bg} 5px, ${bg} 10px)`,\n      textAlign: 'center',\n    },\n  }\n})\n\nexport default function LoadingMessage({ message }: { message?: string }) {\n  const { classes } = useStyles()\n\n  return (\n    <div className={classes.loading}>\n      <LoadingEllipses message={message} />\n    </div>\n  )\n}\n","import { observer } from 'mobx-react'\n\nimport BlockError from './BlockError.tsx'\nimport BlockMessage from './BlockMessage.tsx'\nimport LinearSyntenyRendering from './LinearSyntenyRendering.tsx'\nimport LoadingMessage from './LoadingMessage.tsx'\n\nimport type { LinearSyntenyDisplayModel } from '../model.ts'\n\nconst ServerSideRenderedBlockContent = observer(\n  function ServerSideRenderedBlockContent({\n    model,\n  }: {\n    model: LinearSyntenyDisplayModel\n  }) {\n    if (model.error) {\n      return <BlockError error={model.error} />\n    } else if (model.message) {\n      return <BlockMessage messageText={model.message} />\n    } else if (!model.features) {\n      return <LoadingMessage message={model.loadingStatus} />\n    } else {\n      return <LinearSyntenyRendering model={model} />\n    }\n  },\n)\n\nexport default ServerSideRenderedBlockContent\n","import type React from 'react'\n\nimport {\n  assembleLocString,\n  doesIntersect2,\n  getContainingTrack,\n  getContainingView,\n  getSession,\n  isSessionModelWithWidgets,\n  toLocale,\n} from '@jbrowse/core/util'\n\nimport { MAX_COLOR_RANGE, getId } from '../drawSynteny.ts'\n\nimport type { LinearSyntenyDisplayModel } from '../model.ts'\nimport type { Feature } from '@jbrowse/core/util'\n\ninterface Pos {\n  offsetPx: number\n}\n\nexport interface ClickCoord {\n  clientX: number\n  clientY: number\n  feature: { f: Feature }\n}\n\ninterface FeatPos {\n  p11: Pos\n  p12: Pos\n  p21: Pos\n  p22: Pos\n  f: Feature\n  cigar: string[]\n}\n\nexport function drawMatchSimple({\n  feature,\n  ctx,\n  offsets,\n  level,\n  cb,\n  height,\n  drawCurves,\n  oobLimit,\n  viewWidth,\n  hideTiny,\n}: {\n  feature: FeatPos\n  ctx: CanvasRenderingContext2D\n  offsets: number[]\n  level: number\n  oobLimit: number\n  viewWidth: number\n  cb: (ctx: CanvasRenderingContext2D) => void\n  height: number\n  drawCurves?: boolean\n  hideTiny?: boolean\n}) {\n  const { p11, p12, p21, p22 } = feature\n\n  const x11 = p11.offsetPx - offsets[level]!\n  const x12 = p12.offsetPx - offsets[level]!\n  const x21 = p21.offsetPx - offsets[level + 1]!\n  const x22 = p22.offsetPx - offsets[level + 1]!\n\n  const l1 = Math.abs(x12 - x11)\n  const l2 = Math.abs(x22 - x21)\n  const y1 = 0\n  const y2 = height\n  const mid = (y2 - y1) / 2\n  const minX = Math.min(x21, x22)\n  const maxX = Math.max(x21, x22)\n\n  if (!doesIntersect2(minX, maxX, -oobLimit, viewWidth + oobLimit)) {\n    return\n  }\n\n  // drawing a line if the results are thin: drawing a line results in much\n  // less pixellation than filling in a thin polygon\n  if (l1 <= 1 && l2 <= 1) {\n    // hideTiny can be used to avoid drawing mouseover for thin lines in this\n    // case\n    if (!hideTiny) {\n      ctx.beginPath()\n      ctx.moveTo(x11, y1)\n      if (drawCurves) {\n        ctx.bezierCurveTo(x11, mid, x21, mid, x21, y2)\n      } else {\n        ctx.lineTo(x21, y2)\n      }\n      ctx.stroke()\n    }\n  } else {\n    draw(ctx, x11, x12, y1, x22, x21, y2, mid, drawCurves)\n    cb(ctx)\n  }\n}\n\nexport function draw(\n  ctx: CanvasRenderingContext2D,\n  x1: number,\n  x2: number,\n  y1: number,\n  x3: number,\n  x4: number,\n  y2: number,\n  mid: number,\n  drawCurves?: boolean,\n) {\n  if (drawCurves) {\n    drawBezierBox(ctx, x1, x2, y1, x3, x4, y2, mid)\n  } else {\n    drawBox(ctx, x1, x2, y1, x3, x4, y2)\n  }\n}\n\nexport function drawLocationMarkers(\n  ctx: CanvasRenderingContext2D,\n  x1: number,\n  x2: number,\n  y1: number,\n  x3: number,\n  x4: number,\n  y2: number,\n  mid: number,\n  bpPerPx1: number,\n  bpPerPx2: number,\n  drawCurves?: boolean,\n) {\n  const width1 = Math.abs(x2 - x1)\n  const width2 = Math.abs(x4 - x3)\n  const averageWidth = (width1 + width2) / 2\n\n  // Only draw markers for sufficiently large matches (wider than ~30 pixels)\n  if (averageWidth < 30) {\n    return\n  }\n\n  // Aim for markers at consistent pixel spacing for even visual density\n  // Target spacing of ~20 pixels between markers regardless of feature size\n  const targetPixelSpacing = 20\n  const numMarkers = Math.max(\n    2,\n    Math.floor(averageWidth / targetPixelSpacing) + 1,\n  )\n\n  const prevStrokeStyle = ctx.strokeStyle\n  const prevLineWidth = ctx.lineWidth\n\n  ctx.strokeStyle = 'rgba(0, 0, 0, 0.25)' // Dark semi-transparent line\n  ctx.lineWidth = 0.5\n\n  // Create single path for all markers\n  ctx.beginPath()\n  if (drawCurves) {\n    for (let step = 0; step < numMarkers; step++) {\n      const t = step / numMarkers\n      const topX = x1 + (x2 - x1) * t\n      const bottomX = x4 + (x3 - x4) * t\n      ctx.moveTo(topX, y1)\n      ctx.bezierCurveTo(topX, mid, bottomX, mid, bottomX, y2)\n    }\n  } else {\n    for (let step = 0; step < numMarkers; step++) {\n      const t = step / numMarkers\n      const topX = x1 + (x2 - x1) * t\n      const bottomX = x4 + (x3 - x4) * t\n      ctx.moveTo(topX, y1)\n      ctx.lineTo(bottomX, y2)\n    }\n  }\n  ctx.stroke()\n\n  ctx.strokeStyle = prevStrokeStyle\n  ctx.lineWidth = prevLineWidth\n}\n\nexport function drawBox(\n  ctx: CanvasRenderingContext2D,\n  x1: number,\n  x2: number,\n  y1: number,\n  x3: number,\n  x4: number,\n  y2: number,\n) {\n  ctx.beginPath()\n  ctx.moveTo(x1, y1)\n  ctx.lineTo(x2, y1)\n  ctx.lineTo(x3, y2)\n  ctx.lineTo(x4, y2)\n  ctx.closePath()\n}\n\nexport function drawBezierBox(\n  ctx: CanvasRenderingContext2D,\n  x1: number,\n  x2: number,\n  y1: number,\n  x3: number,\n  x4: number,\n  y2: number,\n  mid: number,\n) {\n  const len1 = Math.abs(x1 - x2)\n  const len2 = Math.abs(x1 - x2)\n\n  // heuristic to not draw hourglass inversions with bezier curves when they\n  // are thin and far apart because it results in areas that are not drawn well\n  // demo https://codesandbox.io/s/fast-glitter-q3b1or?file=/src/index.js\n  if (len1 < 5 && len2 < 5 && x2 < x1 && Math.abs(x1 - x3) > 100) {\n    const tmp = x1\n    x1 = x2\n    x2 = tmp\n  }\n  ctx.beginPath()\n  ctx.moveTo(x1, y1)\n  ctx.lineTo(x2, y1)\n  ctx.bezierCurveTo(x2, mid, x3, mid, x3, y2)\n  ctx.lineTo(x4, y2)\n  ctx.bezierCurveTo(x4, mid, x1, mid, x1, y1)\n  ctx.closePath()\n}\n\nexport function getFeatureAtClick(\n  event: React.MouseEvent,\n  model: LinearSyntenyDisplayModel,\n) {\n  const { clickMapCanvas, numFeats, featPositions } = model\n  if (!clickMapCanvas) {\n    return undefined\n  }\n  const ctx = clickMapCanvas.getContext('2d')\n  if (!ctx) {\n    return undefined\n  }\n  const rect = clickMapCanvas.getBoundingClientRect()\n  const x = event.clientX - rect.left\n  const y = event.clientY - rect.top\n  const [r, g, b] = ctx.getImageData(x, y, 1, 1).data\n  const unitMultiplier = Math.floor(MAX_COLOR_RANGE / numFeats)\n  const id = getId(r!, g!, b!, unitMultiplier)\n  return featPositions[id]\n}\n\nexport function onSynClick(\n  event: React.MouseEvent,\n  model: LinearSyntenyDisplayModel,\n) {\n  const feat = getFeatureAtClick(event, model)\n  if (feat) {\n    const { f } = feat\n    model.setClickId(f.id())\n    const session = getSession(model)\n    if (isSessionModelWithWidgets(session)) {\n      const view = getContainingView(model)\n      const track = getContainingTrack(model)\n      session.showWidget(\n        session.addWidget('SyntenyFeatureWidget', 'syntenyFeature', {\n          view,\n          track,\n          featureData: f.toJSON(),\n          level: model.level,\n        }),\n      )\n    }\n  }\n  return feat\n}\n\nexport function onSynContextClick(\n  event: React.MouseEvent,\n  model: LinearSyntenyDisplayModel,\n  setAnchorEl: (arg: ClickCoord) => void,\n) {\n  event.preventDefault()\n  const feat = getFeatureAtClick(event, model)\n  if (feat) {\n    model.setClickId(feat.f.id())\n    setAnchorEl({\n      clientX: event.clientX,\n      clientY: event.clientY,\n      feature: feat,\n    })\n  }\n}\n\nexport function getTooltip({\n  feature,\n  cigarOp,\n  cigarOpLen,\n}: {\n  feature: Feature\n  cigarOpLen?: string\n  cigarOp?: string\n}) {\n  // @ts-expect-error\n  const f1 = feature.toJSON() as {\n    refName: string\n    start: number\n    end: number\n    strand?: number\n    assemblyName: string\n    identity?: number\n    name?: string\n    mate: {\n      start: number\n      end: number\n      refName: string\n      name: string\n    }\n  }\n  const f2 = f1.mate\n  const l1 = f1.end - f1.start\n  const l2 = f2.end - f2.start\n  const identity = f1.identity\n  const n1 = f1.name\n  const n2 = f2.name\n  return [\n    `Loc1: ${assembleLocString(f1)}`,\n    `Loc2: ${assembleLocString(f2)}`,\n    `Inverted: ${f1.strand === -1}`,\n    `Query len: ${toLocale(l1)}`,\n    `Target len: ${toLocale(l2)}`,\n    identity ? `Identity: ${identity.toPrecision(2)}` : '',\n    cigarOp ? `CIGAR operator: ${toLocale(+cigarOpLen!)}${cigarOp}` : '',\n    n1 ? `Name 1: ${n1}` : '',\n    n2 ? `Name 2: ${n2}` : '',\n  ]\n    .filter(f => !!f)\n    .join('<br/>')\n}\n"],"names":["useStyles","makeStyles","blockError","background","padding","color","BlockError","t0","$","_c","error","classes","t1","t2","_jsx","className","children","blockMessage","BlockMessage","messageText","SyntenyContextMenu","model","onClose","anchorEl","getContainingView","view","clientX","clientY","feature","t3","_","callback","top","left","t4","Boolean","t5","t6","label","onClick","f","start","get","end","refName","mate","l1","views","level","l2","center1","center2","centerAt","Menu","onMenuItemClick","anchorReference","anchorPosition","open","menuItems","SyntenyTooltip","lazy","pix","imageRendering","pointerEvents","visibility","position","rel","mouseoverCanvas","mainCanvas","observer","mouseoverId","height","xOffset","useRef","width","delta","scheduled","timeout","setAnchorEl","useState","tooltip","setTooltip","currX","setCurrX","mouseCurrDownX","setMouseCurrDownX","mouseInitialDownX","setMouseInitialDownX","currY","setCurrY","mainSyntenyCanvasRefp","mouseoverDetectionCanvasRef","useCallback","ref","setMouseoverCanvasRef","mainSyntenyCanvasRef","setMainCanvasRef","current","useEffect","onWheel","event","preventDefault","ctrlKey","deltaY","v","setScaleFactor","clearTimeout","setTimeout","zoomTo","bpPerPx","getBoundingClientRect","Math","abs","deltaX","window","requestAnimationFrame","transaction","horizontalScroll","addEventListener","removeEventListener","clickMapCanvasRef","setClickMapCanvasRef","cigarClickMapCanvasRef","setCigarClickMapCanvasRef","_jsxs","onMouseMove","undefined","ref1","clickMapCanvas","ref2","cigarClickMapCanvas","rect","ctx1","getContext","ctx2","x","y","r1","g1","b1","getImageData","data","r2","g2","b2","numFeats","unitMultiplier","floor","MAX_COLOR_RANGE","id","getId","setMouseoverId","featPositions","cigar","unitMultiplier2","length","cigarIdx","hasCigarData","getTooltip","cigarOp","cigarOpLen","onMouseLeave","onMouseDown","evt","onMouseUp","onSynClick","onContextMenu","onSynContextClick","title","theme","bg","palette","action","disabledBackground","loading","paddingLeft","backgroundColor","default","backgroundImage","textAlign","LoadingMessage","message","LoadingEllipses","features","LinearSyntenyRendering","loadingStatus","drawMatchSimple","ctx","offsets","cb","drawCurves","oobLimit","viewWidth","hideTiny","p11","p12","p21","p22","x11","offsetPx","x12","x21","x22","y2","mid","minX","min","maxX","max","doesIntersect2","beginPath","moveTo","bezierCurveTo","lineTo","stroke","draw","x1","x2","y1","x3","x4","len1","len2","tmp","closePath","drawBezierBox","drawBox","drawLocationMarkers","bpPerPx1","bpPerPx2","averageWidth","numMarkers","prevStrokeStyle","strokeStyle","prevLineWidth","lineWidth","step","t","topX","bottomX","getFeatureAtClick","r","g","b","feat","setClickId","session","getSession","isSessionModelWithWidgets","track","getContainingTrack","showWidget","addWidget","featureData","toJSON","f1","f2","identity","n1","name","n2","assembleLocString","strand","toLocale","toPrecision","filter","join"],"ignoreList":[],"sourceRoot":""}