(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7815,8284,9044],{869(e,t,o){"use strict";o.d(t,{A:()=>f});var a=o(42918),n=o(77710),r=o(61648),s=o(96887),i=o(93597),l=o(51484),c=o(21583),d=o(76830),u=o(30764),p=o(32118);const f=a.forwardRef(function(e,t){const{actions:o,children:f,className:m,defaultValue:h,name:v,onChange:g,value:b,...A}=e,y=a.useRef(null),w=(e=>{const{classes:t,row:o,error:a}=e,n={root:["root",o&&"row",a&&"error"]};return(0,r.A)(n,i.B,t)})(e),[x,C]=(0,c.A)({controlled:b,default:h,name:"RadioGroup"});a.useImperativeHandle(o,()=>({focus:()=>{let e=y.current.querySelector("input:not(:disabled):checked");e||(e=y.current.querySelector("input:not(:disabled)")),e&&e.focus()}}),[]);const j=(0,l.A)(t,y),S=(0,u.A)(v),R=a.useMemo(()=>({name:S,onChange(e){C(e.target.value),g&&g(e,e.target.value)},value:x}),[S,g,C,x]);return(0,p.jsx)(d.A.Provider,{value:R,children:(0,p.jsx)(s.A,{role:"radiogroup",ref:j,className:(0,n.A)(w.root,m),...A,children:f})})})},17815(e,t,o){"use strict";o.r(t),o.d(t,{default:()=>D});var a=o(42918),n=o(90548),r=o(55925),s=o(50731),i=o(99367),l=o(43787),c=o(25415),d=o(12723),u=o(869),p=o(28519),f=o(54690),m=o(87),h=o(8039),v=o(70885),g=o(66919),b=o(35951),A=o(88284),y=o.n(A),w=o(99044),x=o(64074),C=o(11259),j=o(85787),S=o(27351),R=o(77251),k=o(70203),E=o(65045),M=o(32118);const T=(0,E.n)()({root:{width:"80em"},textAreaFont:{fontFamily:"Courier New",whiteSpace:"pre"}}),D=(0,x.observer)(function({model:e,handleClose:t}){const{classes:o}=T(),A=(0,a.useMemo)(()=>e.saveTrackFileFormatOptions(),[e]),[x,E]=(0,a.useState)(),[D,z]=(0,a.useState)(Object.keys(A)[0]),[I,O]=(0,a.useState)(""),[F,L]=(0,a.useState)(!1),[P,U]=(0,a.useState)(!1),[B,N]=(0,a.useState)(!1),[H,_]=(0,a.useState)(""),[G,$]=(0,a.useState)(!1),q=(0,R.getContainingView)(e),{visibleRegions:V,coarseVisibleLocStrings:W}=q;return(0,a.useEffect)(()=>{let t=!1;return(async()=>{try{E(void 0),U(!0);const o=(0,R.getSession)(e);if(!V?.length||!D)return;const{pluginManager:a}=(0,R.getEnv)(e),n=(0,C.FI)(e,["adapter"]),r=a.getAdapterType(n.type),s=r?.adapterCapabilities?.includes("exportData"),i=function(e){return e.map(e=>({...e,start:Math.floor(e.start),end:Math.ceil(e.end)}))}(V);if(s){const{rpcManager:a}=o,r=(0,k.getRpcSessionId)(e),s=await a.call("getExportData","CoreGetExportData",{adapterConfig:n,regions:i,formatType:D,sessionId:r});if(t)return;L(!0),O(s??"")}else{const a=await async function(e,t){const o=(0,R.getSession)(e),{rpcManager:a}=o,n=(0,C.FI)(e,["adapter"]),r=(0,k.getRpcSessionId)(e);return a.call(r,"CoreGetFeatures",{adapterConfig:n,regions:t,sessionId:r})}(e,i);if(t)return;const n=await A[D].callback({features:a,session:o,assemblyName:i[0].assemblyName});if(t)return;L(!1),O(n??"")}}catch(e){t||(E(e),console.error(e))}finally{t||U(!1)}})(),()=>{t=!0}},[D,V,A,e]),(0,M.jsxs)(j.A,{maxWidth:"xl",open:!0,onClose:t,title:"Save track data",children:[(0,M.jsxs)(i.A,{className:o.root,children:[x?(0,M.jsx)(S.A,{error:x}):null,(0,M.jsx)("div",{children:(0,M.jsx)(l.A,{label:"Region",value:W,slotProps:{input:{readOnly:!0}}})}),(0,M.jsxs)(c.A,{children:[(0,M.jsx)(d.A,{children:["File type",F?"(adapter export)":""].filter(e=>!!e).join(" ")}),(0,M.jsx)(u.A,{value:D,onChange:e=>{z(e.target.value)},children:Object.entries(A).map(([e,t])=>(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,M.jsx)(p.A,{value:e,control:(0,M.jsx)(f.A,{}),label:t.name}),t.helpText?(0,M.jsx)(m.A,{size:"small",onClick:()=>{_(t.helpText),N(!0)},title:"Show help for this format",children:(0,M.jsx)(s.A,{fontSize:"small"})}):null]},e))})]}),(0,M.jsx)(l.A,{variant:"outlined",multiline:!0,minRows:5,maxRows:15,fullWidth:!0,value:P?"Loading...":I.length>5e5?'File greater than 500kb, too large to view here. Click "Download" to save results to file':I,slotProps:{input:{readOnly:!0,classes:{input:o.textAreaFont}}}})]}),(0,M.jsxs)(h.A,{children:[(0,M.jsx)(v.A,{disabled:P||!!x,onClick:()=>{y()(I),$(!0),setTimeout(()=>{$(!1)},1e3)},startIcon:(0,M.jsx)(n.A,{}),children:G?"Copied!":"Copy to clipboard"}),(0,M.jsx)(v.A,{disabled:P||!!x,onClick:()=>{const e=A[D].extension,t=new Blob([I],{type:"text/plain;charset=utf-8"});(0,w.saveAs)(t,`jbrowse_track_data.${e}`,{autoBom:!1})},startIcon:(0,M.jsx)(r.A,{}),children:"Download"}),(0,M.jsx)(v.A,{variant:"contained",type:"submit",onClick:()=>{t()},children:"Close"})]}),(0,M.jsxs)(j.A,{open:B,onClose:()=>{N(!1)},children:[(0,M.jsx)(g.A,{children:"Format Information"}),(0,M.jsx)(i.A,{children:(0,M.jsx)(b.A,{children:H})}),(0,M.jsx)(h.A,{children:(0,M.jsx)(v.A,{autoFocus:!0,onClick:()=>{N(!1)},children:"Close"})})]})]})})},54690(e,t,o){"use strict";o.d(t,{A:()=>M});var a=o(42918),n=o(77710),r=o(61648),s=o(69364),i=o(2425),l=o(32118);const c=(0,i.A)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),d=(0,i.A)((0,l.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var u=o(63154),p=o(18496),f=o(55030);const m=(0,p.Ay)("span",{name:"MuiRadioButtonIcon",shouldForwardProp:u.A})({position:"relative",display:"flex"}),h=(0,p.Ay)(c,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),v=(0,p.Ay)(d,{name:"MuiRadioButtonIcon"})((0,f.A)(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]}))),g=function(e){const{checked:t=!1,classes:o={},fontSize:a}=e,n={...e,checked:t};return(0,l.jsxs)(m,{className:o.root,ownerState:n,children:[(0,l.jsx)(h,{fontSize:a,className:o.background,ownerState:n}),(0,l.jsx)(v,{fontSize:a,className:o.dot,ownerState:n})]})};var b=o(42458),A=o(31286),y=o(19116),w=o(59922),x=o(67728),C=o(77180),j=o(84961),S=o(27997);const R=(0,p.Ay)(s.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"medium"!==o.size&&t[`size${(0,b.A)(o.size)}`],t[`color${(0,b.A)(o.color)}`]]}})((0,f.A)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${x.A.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,C.A)()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,C.A)()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${x.A.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),k=(0,l.jsx)(g,{checked:!0}),E=(0,l.jsx)(g,{}),M=a.forwardRef(function(e,t){const o=(0,S.b)({props:e,name:"MuiRadio"}),{checked:s,checkedIcon:i=k,color:c="primary",icon:d=E,name:u,onChange:p,size:f="medium",className:m,disabled:h,disableRipple:v=!1,slots:g={},slotProps:C={},inputProps:M,...T}=o,D=(0,y.A)();let z=h;D&&void 0===z&&(z=D.disabled),z??=!1;const I={...o,disabled:z,disableRipple:v,color:c,size:f},O=(e=>{const{classes:t,color:o,size:a}=e,n={root:["root",`color${(0,b.A)(o)}`,"medium"!==a&&`size${(0,b.A)(a)}`]};return{...t,...(0,r.A)(n,x.q,t)}})(I),F=(0,w.A)();let L=s;const P=(0,A.A)(p,F&&F.onChange);let U=u;var B,N;F&&(void 0===L&&(B=F.value,L="object"==typeof(N=o.value)&&null!==N?B===N:String(B)===String(N)),void 0===U&&(U=F.name));const H=C.input??M,[_,G]=(0,j.A)("root",{ref:t,elementType:R,className:(0,n.A)(O.root,m),shouldForwardComponentProp:!0,externalForwardedProps:{slots:g,slotProps:C,...T},getSlotProps:e=>({...e,onChange:(t,...o)=>{e.onChange?.(t,...o),P(t,...o)}}),ownerState:I,additionalProps:{type:"radio",icon:a.cloneElement(d,{fontSize:d.props.fontSize??f}),checkedIcon:a.cloneElement(i,{fontSize:i.props.fontSize??f}),disabled:z,name:U,checked:L,slots:g,slotProps:{input:"function"==typeof H?H(I):H}}});return(0,l.jsx)(_,{...G,classes:O})})},55925(e,t,o){"use strict";o.d(t,{A:()=>r});var a=o(2425),n=o(32118);const r=(0,a.A)((0,n.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")},59922(e,t,o){"use strict";o.d(t,{A:()=>r});var a=o(42918),n=o(76830);function r(){return a.useContext(n.A)}},67728(e,t,o){"use strict";o.d(t,{A:()=>s,q:()=>r});var a=o(97818),n=o(11042);function r(e){return(0,n.Ay)("MuiRadio",e)}const s=(0,a.A)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"])},72138(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],a=0;a<e.rangeCount;a++)o.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},76830(e,t,o){"use strict";o.d(t,{A:()=>a});const a=o(42918).createContext(void 0)},88284(e,t,o){"use strict";var a=o(72138),n={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var o,r,s,i,l,c,d=!1;t||(t={}),o=t.debug||!1;try{if(s=a(),i=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),void 0===a.clipboardData){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=n[t.format]||n.default;window.clipboardData.setData(r,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))}),document.body.appendChild(c),i.selectNodeContents(c),l.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(a){o&&console.error("unable to copy using execCommand: ",a),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(a){o&&console.error("unable to copy using clipboardData: ",a),o&&console.error("falling back to prompt"),r=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(i):l.removeAllRanges()),c&&document.body.removeChild(c),s()}return d}},93597(e,t,o){"use strict";o.d(t,{A:()=>s,B:()=>r});var a=o(97818),n=o(11042);function r(e){return(0,n.Ay)("MuiRadioGroup",e)}const s=(0,a.A)("MuiRadioGroup",["root","row","error"])},99044(e,t,o){"use strict";o.d(t,{saveAs:()=>l});var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof globalThis&&globalThis.global===globalThis?globalThis:void 0;function n(e,t,o){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){l(a.response,t,o)},a.onerror=function(){console.error("could not download file")},a.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,o){var i=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin!==location.origin?r(l.href)?n(e,t,o):s(l,l.target="_blank"):s(l)):(l.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){s(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,o){if(t=t||e.name||"download","string"==typeof e)if(r(e))n(e,t,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){s(a)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,o),t)}:function(e,t,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,o);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,p=u.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});a.saveAs=l.saveAs=l}}]);
//# sourceMappingURL=7815.9af9bfd9.chunk.js.map