"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[9098],{10537(e,t,n){n.d(t,{A:()=>o});var s=n(30936),a=n(65045),i=n(32118);const r=(0,a.n)()({flexContainer:{display:"flex",flexDirection:"column"}});function o(e){const t=(0,s.c)(4),{children:n,style:a}=e,{classes:o}=r();let l;return t[0]!==n||t[1]!==o.flexContainer||t[2]!==a?(l=(0,i.jsx)("div",{className:o.flexContainer,style:a,children:n}),t[0]=n,t[1]=o.flexContainer,t[2]=a,t[3]=l):l=t[3],l}},89098(e,t,n){n.r(t),n.d(t,{default:()=>N});var s=n(10537),a=n(77251),i=n(65045),r=n(11125),o=n(46714),l=n(2425),d=n(32118);const c=(0,l.A)((0,d.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder");var h=n(28519),f=n(76143),u=n(70885),v=n(87),g=n(94750),m=n(7623),x=n(43637),j=n(96470),w=n(77685),S=n(66670),b=n(91574);function A(e,t){const n=(0,b.a)(e,t?.in);return n.setHours(0,0,0,0),n}function C(e,t,n){const[s,a]=(0,j.x)(n?.in,e,t),i=M(s,a),r=Math.abs(function(e,t,n){const[s,a]=(0,j.x)(n?.in,e,t),i=A(s),r=A(a),o=+i-(0,w.G)(i),l=+r-(0,w.G)(r);return Math.round((o-l)/S.w4)}(s,a));s.setDate(s.getDate()-i*r);const o=i*(r-Number(M(s,a)===-i));return 0===o?0:o}function M(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}var p=n(32911),k=n(64074);const D=(0,i.n)()(e=>({mb:{margin:e.spacing(1),marginBottom:e.spacing(4)}})),N=(0,k.observer)(function({session:e}){const{classes:t}=D(),[n,i]=(0,a.useLocalStorage)("sessionManager-showOnlyFavs",!1),l=e.savedSessionMetadata?.map(e=>({id:e.id,name:e.name,createdAt:e.createdAt,fav:e.favorite})).filter(e=>!n||e.fav);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:t.mb,children:[(0,d.jsx)(h.A,{control:(0,d.jsx)(f.A,{checked:n,onChange:()=>{i(e=>!e)}}),label:"Show favorites only?"}),(0,d.jsx)(u.A,{variant:"contained",onClick:()=>{let t=0;if(e.savedSessionMetadata)for(const n of e.savedSessionMetadata)C(Date.now(),n.createdAt)>1&&!n.favorite&&(e.deleteSavedSession(n.id),t++);e.notify(`${t} sessions deleted`,"info")},children:"Delete non-fav sessions older than 7 days?"})]}),l?(0,d.jsx)(s.A,{children:(0,d.jsx)(x.z,{disableRowSelectionOnClick:!0,columnHeaderHeight:35,rowHeight:25,hideFooter:l.length<100,slotProps:{toolbar:{showQuickFilter:!0}},rows:l,columns:[{field:"fav",headerName:"Fav",width:20,renderCell:({row:t})=>(0,d.jsx)(v.A,{onClick:()=>{t.fav?e.unfavoriteSavedSession(t.id):e.favoriteSavedSession(t.id)},children:t.fav?(0,d.jsx)(o.A,{}):(0,d.jsx)(c,{})})},{field:"name",headerName:"Name",editable:!0,width:(0,a.measureGridWidth)(l.map(e=>e.name)),renderCell:({row:t})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.A,{href:"#",onClick:n=>{n.preventDefault(),e.activateSession(t.id)},children:t.name}),e.id===t.id?" (current)":""]})},{headerName:"Created at",field:"createdAt",renderCell:({row:e})=>(0,d.jsx)(m.A,{disableInteractive:!0,slotProps:{transition:{timeout:0}},title:e.createdAt.toLocaleString(),children:(0,d.jsx)("div",{children:(0,p.m)(e.createdAt,{addSuffix:!0})})})},{field:"delete",width:10,headerName:"Delete",renderCell:({row:t})=>(0,d.jsx)(v.A,{onClick:()=>{e.deleteSavedSession(t.id)},children:(0,d.jsx)(r.A,{})})}]})}):(0,d.jsx)("div",{children:"No sessions loaded"})]})})}}]);
//# sourceMappingURL=9098.73aa0dbb.chunk.js.map