"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7561],{55187(e,t,n){n.d(t,{A:()=>l});var r=n(30936),s=n(77251),i=n(32118);function l(e){const t=(0,r.c)(12),{items:n,width:s,legendAreaWidth:l}=e;if(0===n.length)return null;const o=14*n.length+6;let d;t[0]!==n?(d=Math.max(...n.map(a)),t[0]=n,t[1]=d):d=t[1];const c=20+d+6,h=`translate(${l?s+10:s-c-10}, 10)`;let g,x,u;if(t[2]!==o||t[3]!==c?(g=(0,i.jsx)("rect",{x:0,y:0,width:c,height:o,fill:"rgba(255,255,255,0.9)",stroke:"#ccc",strokeWidth:1,rx:4}),t[2]=o,t[3]=c,t[4]=g):g=t[4],t[5]!==n){let e;t[7]===Symbol.for("react.memo_cache_sentinel")?(e=(e,t)=>(0,i.jsxs)("g",{transform:`translate(3, ${3+14*t})`,children:[e.color?(0,i.jsx)("rect",{x:0,y:0,width:12,height:12,fill:e.color}):null,(0,i.jsx)("text",{x:18,y:10,fontSize:10,fill:"black",children:e.label})]},`legend-${t}`),t[7]=e):e=t[7],x=n.map(e),t[5]=n,t[6]=x}else x=t[6];return t[8]!==h||t[9]!==g||t[10]!==x?(u=(0,i.jsxs)("g",{transform:h,children:[g,x]}),t[8]=h,t[9]=g,t[10]=x,t[11]=u):u=t[11],u}function a(e){return(0,s.measureText)(e.label,10)}},57561(e,t,n){n.d(t,{renderSvg:()=>h});var r=n(77251),s=n(70203),i=n(28423),l=n(99226),a=n(55187),o=n(14050),d=n(81325),c=n(32118);async function h(e,t){const n=(0,r.getContainingView)(e),h=(0,r.getSession)(e),{rpcManager:g,assemblyManager:x}=h,u=t.overrideHeight??e.height,f=n.assemblyNames[0],m=f?x.get(f):void 0,p=m?.configuration?.sequence?.adapter,k=p?(0,l.getSnapshot)(p):void 0,j=structuredClone({...(0,l.getSnapshot)(n),staticBlocks:n.staticBlocks,width:n.width}),w=(0,s.getRpcSessionId)(e),b=await g.call(w,"RenderLinearReadCloudDisplay",{sessionId:w,view:j,adapterConfig:e.adapterConfig,sequenceAdapter:k,config:(0,l.getSnapshot)(e.configuration),...e.renderProps(),cloudModeHeight:u,exportSVG:t,theme:t.theme}),y=await(0,i.MD)(b,n.staticBlocks.totalWidthPx,u),$=n.width,v=`clip-${e.id}-svg`,S=e.showLegend?e.legendItems():[],M=void 0!==b.cloudMaxDistance&&e.drawCloud?[1,b.cloudMaxDistance]:null,A=M&&e.showYScalebar?(0,o.og)(M,u):null;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:v,children:(0,c.jsx)("rect",{x:0,y:0,width:$,height:u})})}),(0,c.jsx)("g",{clipPath:`url(#${v})`,children:(0,c.jsx)("g",{transform:`translate(${Math.max(0,-n.offsetPx)} 0)`,children:(0,c.jsx)(i.aE,{rendering:y})})}),A?(0,c.jsx)("g",{transform:`translate(${Math.max(-n.offsetPx,0)})`,children:(0,c.jsx)(d.A,{model:{cloudTicks:A},orientation:"left"})}):null,S.length>0?(0,c.jsx)(a.A,{items:S,width:$,legendAreaWidth:t.legendWidth}):null]})}},81325(e,t,n){n.d(t,{A:()=>a});var r=n(33579),s=n(64074),i=n(32118);function l(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}k`:`${e}`}const a=(0,s.observer)(function({model:e,orientation:t}){const n=(0,r.A)(),s=e.cloudTicks;if(!s)return null;const{ticks:a,height:o}=s,d=n.palette.background.default,c=n.palette.text.primary,h="left"===t,g=h?-1:1;return(0,i.jsxs)("g",{fill:"none",fontSize:10,fontFamily:"sans-serif",textAnchor:h?"end":"start",strokeWidth:1,children:[(0,i.jsx)("path",{stroke:c,d:`M${6*g},0H0.5V${o}H${6*g}`}),a.map(({value:e,y:t})=>(0,i.jsxs)("g",{transform:`translate(0,${t})`,children:[(0,i.jsx)("line",{stroke:c,x2:6*g,y1:.5,y2:.5}),(0,i.jsx)("text",{stroke:d,strokeWidth:2.5,paintOrder:"stroke",fill:c,dy:"0.32em",x:9*g,y:.5,children:l(e)})]},e)),(0,i.jsx)("text",{stroke:d,strokeWidth:2.5,paintOrder:"stroke",fill:c,fontSize:10,textAnchor:"middle",transform:`translate(${h?-30:30}, ${o/2}) rotate(-90)`,children:"Insert size (bp)"})]})})}}]);
//# sourceMappingURL=7561.5aa1db69.chunk.js.map