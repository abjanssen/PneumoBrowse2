"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[2372,5049],{18403(e,t,o){o.d(t,{A:()=>n,u:()=>a});var r=o(99287),s=o(47739);function a(e){return(0,s.Ay)("MuiFormControlLabel",e)}const n=(0,r.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"])},33667(e,t,o){o.d(t,{A:()=>n,w:()=>a});var r=o(99287),s=o(47739);function a(e){return(0,s.Ay)("MuiCheckbox",e)}const n=(0,r.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"])},37015(e,t,o){o.d(t,{A:()=>g});var r=o(42918),s=o(77710),a=o(62981),n=o(74620),l=o(41680),i=o(711),c=o(32717),d=o(1591),p=o(88842),u=o(18403),m=o(89278),h=o(53137),b=o(32118);const A=(0,l.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${u.A.label}`]:t.label},t.root,t[`labelPlacement${(0,p.A)(o.labelPlacement)}`]]}})((0,i.A)(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${u.A.disabled}`]:{cursor:"default"},[`& .${u.A.label}`]:{[`&.${u.A.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),f=(0,l.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk"})((0,i.A)(({theme:e})=>({[`&.${u.A.error}`]:{color:(e.vars||e).palette.error.main}}))),g=r.forwardRef(function(e,t){const o=(0,c.b)({props:e,name:"MuiFormControlLabel"}),{checked:l,className:i,componentsProps:g={},control:v,disabled:x,disableTypography:y,inputRef:w,label:k,labelPlacement:C="end",name:P,onChange:j,required:S,slots:R={},slotProps:F={},value:z,...$}=o,q=(0,n.A)(),M=x??v.props.disabled??q?.disabled,B=S??v.props.required,N={disabled:M,required:B};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===v.props[e]&&void 0!==o[e]&&(N[e]=o[e])});const I=(0,m.A)({props:o,muiFormControl:q,states:["error"]}),E={...o,disabled:M,labelPlacement:C,required:B,error:I.error},L=(e=>{const{classes:t,disabled:o,labelPlacement:r,error:s,required:n}=e,l={root:["root",o&&"disabled",`labelPlacement${(0,p.A)(r)}`,s&&"error",n&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",s&&"error"]};return(0,a.A)(l,u.u,t)})(E),O={slots:R,slotProps:{...g,...F}},[T,H]=(0,h.A)("typography",{elementType:d.A,externalForwardedProps:O,ownerState:E});let _=k;return null==_||_.type===d.A||y||(_=(0,b.jsx)(T,{component:"span",...H,className:(0,s.A)(L.label,H?.className),children:_})),(0,b.jsxs)(A,{className:(0,s.A)(L.root,i),ownerState:E,ref:t,...$,children:[r.cloneElement(v,N),B?(0,b.jsxs)("div",{children:[_,(0,b.jsxs)(f,{ownerState:E,"aria-hidden":!0,className:L.asterisk,children:["â€‰","*"]})]}):_]})})},42372(e,t,o){o.r(t),o.d(t,{default:()=>k});var r=o(42918),s=o(85787),a=o(27351),n=o(87574),l=o(77251),i=o(65045),c=o(2193),d=o(80402),p=o(24215),u=o(15675),m=o(58919),h=o(37015),b=o(42783),A=o(1591),f=o(11543),g=o(65525),v=o(64074),x=o(11259),y=o(32118);const w=(0,i.n)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"}}),k=(0,v.observer)(function({model:e,handleClose:t}){const{classes:i}=w(),[v,k]=(0,r.useState)(),[C,P]=(0,r.useState)(),[j,S]=(0,r.useState)(!1),[R,F]=(0,r.useState)(!1),[z,$]=(0,r.useState)(!1),{leftOffset:q,rightOffset:M}=e,B=void 0===C;(0,r.useEffect)(()=>{const t=new AbortController;return(async()=>{try{const t=e.getSelectedRegions(q,M);if(0===t.length)throw new Error("Selected region is out of bounds");P(await async function(e,t){const o=(0,l.getSession)(e),{leftOffset:r,rightOffset:s}=e;if(!r||!s)throw new Error("no offsets on model to use for range");if(new Set(t.map(e=>e.assemblyName)).size>1)throw new Error("not able to fetch sequences from multiple assemblies currently");const{rpcManager:a,assemblyManager:n}=o,i=r.assemblyName||s.assemblyName||"",c=n.get(i);if(!c)throw new Error(`assembly ${i} not found`);const d=(0,x.FI)(c,["sequence","adapter"]),p="getSequence";return a.call(p,"CoreGetFeatures",{adapterConfig:d,regions:t,sessionId:p})}(e,t))}catch(e){console.error(e),k(e)}})(),()=>{t.abort()}},[e,q,M]);const N=C?C.map(e=>{let t=e.get("seq");const o=e.get("refName"),r=e.get("start")+1,s=e.get("end"),a=`${o}:${r}-${s}`;if(t?.length!==s-r+1)throw new Error(`${a} returned ${(0,l.toLocale)(t.length)} bases, but should have returned ${(0,l.toLocale)(s-r)}`);return j&&(t=(0,l.reverse)(t)),z&&(t=(0,l.complement)(t)),{header:a+(j?"-rev":"")+(z?"-comp":""),seq:t}}).map(e=>{return`>${e.header}\n${t=e.seq,t.replaceAll(/(.{1,80})/g,"$1\n").trimEnd()}`;var t}).join("\n"):"",I=!!N&&N.length>1e6;return(0,y.jsxs)(s.A,{maxWidth:"xl",open:!0,title:"Reference sequence",onClose:()=>{t(),e.setOffsets()},children:[(0,y.jsxs)(p.A,{children:[v?(0,y.jsx)(a.A,{error:v}):B?(0,y.jsx)(n.A,{message:"Retrieving sequences"}):null,(0,y.jsx)(u.A,{variant:"outlined",multiline:!0,minRows:5,maxRows:10,disabled:I,className:i.dialogContent,fullWidth:!0,value:I?"Reference sequence too large to display, use the download FASTA button":N,slotProps:{input:{readOnly:!0,classes:{input:i.textAreaFont}}}}),(0,y.jsxs)(m.A,{children:[(0,y.jsx)(h.A,{control:(0,y.jsx)(b.A,{value:j,onChange:e=>{S(e.target.checked)}}),label:"Reverse sequence"}),(0,y.jsx)(h.A,{control:(0,y.jsx)(b.A,{value:z,onChange:e=>{$(e.target.checked)}}),label:"Complement sequence"})]}),(0,y.jsx)(A.A,{style:{margin:10},children:'Note: Check both boxes for the "reverse complement"'})]}),(0,y.jsxs)(f.A,{children:[(0,y.jsx)(g.A,{onClick:async()=>{const{default:e}=await o.e(8284).then(o.t.bind(o,88284,23));e(N),F(!0),setTimeout(()=>{F(!1)},500)},disabled:B||!!v||I,color:"primary",startIcon:(0,y.jsx)(c.A,{}),children:R?"Copied":"Copy to clipboard"}),(0,y.jsx)(g.A,{onClick:async()=>{const{saveAs:e}=await o.e(9044).then(o.bind(o,99044));e(new Blob([N||""],{type:"text/x-fasta;charset=utf-8"}),"jbrowse_ref_seq.fa")},disabled:B||!!v,color:"primary",startIcon:(0,y.jsx)(d.A,{}),children:"Download FASTA"}),(0,y.jsx)(g.A,{onClick:t,variant:"contained",children:"Close"})]})]})})},42783(e,t,o){o.d(t,{A:()=>P});var r=o(42918),s=o(77710),a=o(62981),n=o(94116),l=o(63881),i=o(32118);const c=(0,l.A)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=(0,l.A)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,l.A)((0,i.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var u=o(88842),m=o(62466),h=o(33667),b=o(41680),A=o(711),f=o(70668),g=o(32717),v=o(41370),x=o(53137);const y=(0,b.Ay)(n.A,{shouldForwardProp:e=>(0,m.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t[`size${(0,u.A)(o.size)}`],"default"!==o.color&&t[`color${(0,u.A)(o.color)}`]]}})((0,A.A)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,f.A)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,f.A)()).map(([t])=>({props:{color:t},style:{[`&.${h.A.checked}, &.${h.A.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${h.A.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),w=(0,i.jsx)(d,{}),k=(0,i.jsx)(c,{}),C=(0,i.jsx)(p,{}),P=r.forwardRef(function(e,t){const o=(0,g.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:n=w,color:l="primary",icon:c=k,indeterminate:d=!1,indeterminateIcon:p=C,inputProps:m,size:b="medium",disableRipple:A=!1,className:f,slots:P={},slotProps:j={},...S}=o,R=d?p:c,F=d?p:n,z={...o,disableRipple:A,color:l,indeterminate:d,size:b},$=(e=>{const{classes:t,indeterminate:o,color:r,size:s}=e,n={root:["root",o&&"indeterminate",`color${(0,u.A)(r)}`,`size${(0,u.A)(s)}`]},l=(0,a.A)(n,h.w,t);return{...t,...l}})(z),q=j.input??m,[M,B]=(0,x.A)("root",{ref:t,elementType:y,className:(0,s.A)($.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:P,slotProps:j,...S},ownerState:z,additionalProps:{type:"checkbox",icon:r.cloneElement(R,{fontSize:R.props.fontSize??b}),checkedIcon:r.cloneElement(F,{fontSize:F.props.fontSize??b}),disableRipple:A,slots:P,slotProps:{input:(0,v.A)("function"==typeof q?q(z):q,{"data-indeterminate":d})}}});return(0,i.jsx)(M,{...B,classes:$})})},80402(e,t,o){o.d(t,{A:()=>a});var r=o(63881),s=o(32118);const a=(0,r.A)((0,s.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")},94116(e,t,o){o.d(t,{A:()=>g});var r=o(42918),s=o(62981),a=o(88842),n=o(62466),l=o(41680),i=o(6335),c=o(74620),d=o(61302),p=o(99287),u=o(47739);function m(e){return(0,u.Ay)("PrivateSwitchBase",e)}(0,p.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var h=o(53137),b=o(32118);const A=(0,l.Ay)(d.A,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>"start"===e&&"small"!==t.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>"end"===e&&"small"!==t.size,style:{marginRight:-12}}]}),f=(0,l.Ay)("input",{name:"MuiSwitchBase",shouldForwardProp:n.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),g=r.forwardRef(function(e,t){const{autoFocus:o,checked:r,checkedIcon:n,defaultChecked:l,disabled:d,disableFocusRipple:p=!1,edge:u=!1,icon:g,id:v,inputProps:x,inputRef:y,name:w,onBlur:k,onChange:C,onFocus:P,readOnly:j,required:S=!1,tabIndex:R,type:F,value:z,slots:$={},slotProps:q={},...M}=e,[B,N]=(0,i.A)({controlled:r,default:Boolean(l),name:"SwitchBase",state:"checked"}),I=(0,c.A)();let E=d;I&&void 0===E&&(E=I.disabled);const L="checkbox"===F||"radio"===F,O={...e,checked:B,disabled:E,disableFocusRipple:p,edge:u},T=(e=>{const{classes:t,checked:o,disabled:r,edge:n}=e,l={root:["root",o&&"checked",r&&"disabled",n&&`edge${(0,a.A)(n)}`],input:["input"]};return(0,s.A)(l,m,t)})(O),H={slots:$,slotProps:{input:x,...q}},[_,V]=(0,h.A)("root",{ref:t,elementType:A,className:T.root,shouldForwardComponentProp:!0,externalForwardedProps:{...H,component:"span",...M},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),(e=>{P&&P(e),I&&I.onFocus&&I.onFocus(e)})(t)},onBlur:t=>{e.onBlur?.(t),(e=>{k&&k(e),I&&I.onBlur&&I.onBlur(e)})(t)}}),ownerState:O,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:E,role:void 0,tabIndex:null}}),[D,W]=(0,h.A)("input",{ref:y,elementType:f,className:T.input,externalForwardedProps:H,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented||j)return;const t=e.target.checked;N(t),C&&C(e,t)})(t)}}),ownerState:O,additionalProps:{autoFocus:o,checked:r,defaultChecked:l,disabled:E,id:L?v:void 0,name:w,readOnly:j,required:S,tabIndex:R,type:F,..."checkbox"===F&&void 0===z?{}:{value:z}}});return(0,b.jsxs)(_,{...V,children:[(0,b.jsx)(D,{...W}),B?n:g]})})}}]);
//# sourceMappingURL=2372.d253adea.chunk.js.map