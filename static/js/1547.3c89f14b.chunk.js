"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1547,7105],{5690:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(7552),o=a(93878),i=a(75100),r=a(80317),s=a(21928),l=a(50864),c=a(69112),d=a(69500);const g=(0,r.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableGutters&&t.gutters,t[a.variant]]}})((0,s.A)(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),p=n.forwardRef(function(e,t){const a=(0,l.b)({props:e,name:"MuiToolbar"}),{className:n,component:r="div",disableGutters:s=!1,variant:p="regular",...m}=a,h={...a,component:r,disableGutters:s,variant:p},u=(e=>{const{classes:t,disableGutters:a,variant:n}=e,o={root:["root",!a&&"gutters",n]};return(0,i.A)(o,c.U,t)})(h);return(0,d.jsx)(g,{as:r,className:(0,o.A)(u.root,n),ref:t,ownerState:h,...m})})},26167:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var n=a(7552),o=a(67112),i=a(68446),r=a(93062),s=a(10240),l=a(28194),c=a(76218),d=a(30698),g=a(69092),p=a(69500);const m=(0,i.observer)(function({adapterSelection:e,setAdapterSelection:t,adapterTypes:a}){return(0,p.jsx)(r.A,{value:e,variant:"outlined",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:e=>{t(e.target.value)},children:a.map(e=>(0,p.jsx)(s.A,{value:e,children:e},e))})}),h=(0,i.observer)(function({fastaLocation:e,setFastaLocation:t}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.A,{severity:"warning",style:{margin:8},children:"Note: a FASTA index will be generated on submit, might take a couple minutes and if the file is remote, it will be downloaded in full"}),(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:"FASTA file",location:e,setLocation:t})})]})}),u=(0,i.observer)(function({fastaLocation:e,faiLocation:t,setFaiLocation:a,setFastaLocation:n}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:"FASTA file",location:e,setLocation:n})}),(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:"FASTA index (.fai) file",location:t,setLocation:a})})]})}),f=(0,i.observer)(function({fastaLocation:e,faiLocation:t,gziLocation:a,setFaiLocation:n,setGziLocation:i,setFastaLocation:r}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:"FASTA file (.fa.gz)",location:e,setLocation:r})}),(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:"FASTA index (.fai) file",location:t,setLocation:n})}),(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:"FASTA gzip index (.gzi) file",location:a,setLocation:i})})]})}),v=(0,i.observer)(function({twoBitLocation:e,chromSizesLocation:t,setTwoBitLocation:a,setChromSizesLocation:n}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:"2bit file",location:e,setLocation:a})}),(0,p.jsx)("div",{children:(0,p.jsx)(o.FileSelector,{inline:!0,name:".chrom.sizes (optional, can speed up loading 2bit files with many contigs)",location:t,setLocation:n})})]})}),b={uri:""},A=["IndexedFastaAdapter","BgzipFastaAdapter","UnindexedFastaAdapter","TwoBitAdapter"],x=(0,i.observer)(function({session:e,onClose:t}){const[a,o]=(0,n.useState)(""),[i,s]=(0,n.useState)(""),[l,x]=(0,n.useState)(A[0]),[y,j]=(0,n.useState)(b),[S,L]=(0,n.useState)(b),[O,w]=(0,n.useState)(b),[C,F]=(0,n.useState)(b),[z,T]=(0,n.useState)(b);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.A,{children:[(0,p.jsx)(r.A,{id:"assembly-name",label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:a,onChange:e=>{o(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-name"}}}),(0,p.jsx)(r.A,{id:"assembly-display-name",label:"Assembly display name",helperText:'(optional) A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:i,onChange:e=>{s(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-display-name"}}}),(0,p.jsx)(m,{adapterSelection:l,adapterTypes:A,setAdapterSelection:x}),"IndexedFastaAdapter"===l?(0,p.jsx)(u,{fastaLocation:y,faiLocation:S,setFaiLocation:L,setFastaLocation:j}):"UnindexedFastaAdapter"===l?(0,p.jsx)(h,{fastaLocation:y,setFastaLocation:j}):"TwoBitAdapter"===l?(0,p.jsx)(v,{twoBitLocation:C,chromSizesLocation:z,setTwoBitLocation:F,setChromSizesLocation:T}):(0,p.jsx)(f,{fastaLocation:y,gziLocation:O,faiLocation:S,setFaiLocation:L,setGziLocation:w,setFastaLocation:j})]}),(0,p.jsxs)(d.A,{children:[(0,p.jsx)(g.A,{variant:"contained",color:"primary",onClick:()=>{""===a?e.notify("Can't create an assembly without a name"):(t(),e.addAssembly({name:a,displayName:i,sequence:{type:"ReferenceSequenceTrack",trackId:`${a}-${performance.now()}`,adapter:"IndexedFastaAdapter"===l?{type:"IndexedFastaAdapter",fastaLocation:y,faiLocation:S}:"BgzipFastaAdapter"===l?{type:"BgzipFastaAdapter",fastaLocation:y,faiLocation:S,gziLocation:O}:"UnindexedFastaAdapter"===l?{type:"UnindexedFastaAdapter",fastaLocation:y}:{type:"TwoBitAdapter",twoBitLocation:C,chromSizesLocation:z}}}),e.notify(`Added "${a}"`,"success"))},children:"Submit"}),(0,p.jsx)(g.A,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})});var y=a(59099);const j=(0,a(75785).n9)()({container:{overflow:"auto",maxHeight:600}}),S=(0,i.observer)(function({assembly:e,onClose:t}){const{classes:a}=j();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.A,{children:(0,p.jsx)("div",{className:a.container,children:e?(0,p.jsx)(y.S,{model:{target:e}}):(0,p.jsx)("div",{children:"No assembly"})})}),(0,p.jsx)(d.A,{children:(0,p.jsx)(g.A,{variant:"contained",onClick:()=>{t()},children:"Back"})})]})});var L=a(68584),O=a(62162),w=a(18423);const C=(0,a(29772).A)((0,p.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var F=a(74281),z=a(89870),T=a(53435);const B=(0,i.observer)(function({onEditAssembly:e,onAddAssembly:t,onClose:a,session:n}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.A,{children:(0,p.jsx)(O.A,{children:(0,p.jsx)(T.z,{rowHeight:25,columnHeaderHeight:35,hideFooter:n.assemblies.length<25,rows:n.assemblies.map(e=>({id:(0,L.readConfObject)(e,"name"),name:(0,L.readConfObject)(e,"name"),displayName:(0,L.readConfObject)(e,"displayName"),aliases:(0,L.readConfObject)(e,"aliases"),assembly:e})),columns:[{field:"name"},{field:"displayName"},{field:"aliases"},{field:"actions",renderCell:({row:t})=>{const{assembly:a,name:o}=t,i=!!n.sessionAssemblies.includes(a)||n.adminMode;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(z.A,{disabled:!i,onClick:()=>{e(a)},children:(0,p.jsx)(C,{})}),(0,p.jsx)(z.A,{"data-testid":`${o}-delete`,disabled:!i,onClick:()=>{i&&(n.removeAssembly?n.removeAssembly(o):n.notify("Unable to find removeAssembly function"))},children:(0,p.jsx)(F.A,{})})]})}}]})})}),(0,p.jsxs)(d.A,{children:[(0,p.jsx)(g.A,{color:"secondary",variant:"contained",onClick:()=>{a()},children:"Close"}),(0,p.jsx)(g.A,{variant:"contained",startIcon:(0,p.jsx)(w.A,{}),onClick:()=>{t()},children:"Add new assembly"})]})]})}),R=(0,i.observer)(function({session:e,onClose:t}){const[a,i]=(0,n.useState)(!1),[r,s]=(0,n.useState)();return(0,p.jsx)(o.Dialog,{open:!0,title:"Assembly manager",onClose:()=>{t()},children:r?(0,p.jsx)(S,{assembly:r,onClose:()=>{s(void 0)}}):a?(0,p.jsx)(x,{session:e,onClose:()=>{i(!1)}}):(0,p.jsx)(B,{session:e,onClose:()=>{t()},onAddAssembly:()=>{i(!0)},onEditAssembly:e=>{s(e)}})})})},43816:(e,t,a)=>{a.d(t,{A:()=>r,w:()=>i});var n=a(51062),o=a(2958);function i(e){return(0,o.Ay)("MuiBadge",e)}const r=(0,n.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"])},62162:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(67758),o=a(75785),i=a(69500);const r=(0,o.n9)()({flexContainer:{display:"flex",flexDirection:"column"}});function s(e){const t=(0,n.c)(3),{children:a}=e,{classes:o}=r();let s;return t[0]!==a||t[1]!==o.flexContainer?(s=(0,i.jsx)("div",{className:o.flexContainer,children:a}),t[0]=a,t[1]=o.flexContainer,t[2]=s):s=t[2],s}},69112:(e,t,a)=>{a.d(t,{A:()=>r,U:()=>i});var n=a(51062),o=a(2958);function i(e){return(0,o.Ay)("MuiToolbar",e)}const r=(0,n.A)("MuiToolbar",["root","gutters","regular","dense"])},74281:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(29772),o=a(69500);const i=(0,n.A)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},85877:(e,t,a)=>{a.d(t,{A:()=>b});var n=a(7552),o=a(93878),i=a(48908),r=a(75100);var s=a(80317),l=a(21928),c=a(20535),d=a(50864),g=a(74325),p=a(43816),m=a(22020),h=a(69500);const u=(0,s.Ay)("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),f=(0,s.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.badge,t[a.variant],t[`anchorOrigin${(0,g.A)(a.anchorOrigin.vertical)}${(0,g.A)(a.anchorOrigin.horizontal)}${(0,g.A)(a.overlap)}`],"default"!==a.color&&t[`color${(0,g.A)(a.color)}`],a.invisible&&t.invisible]}})((0,l.A)(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter((0,c.A)(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${p.A.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function v(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const b=n.forwardRef(function(e,t){const a=(0,d.b)({props:e,name:"MuiBadge"}),{anchorOrigin:n,className:s,classes:l,component:c,components:b={},componentsProps:A={},children:x,overlap:y="rectangular",color:j="default",invisible:S=!1,max:L=99,badgeContent:O,slots:w,slotProps:C,showZero:F=!1,variant:z="standard",...T}=a,{badgeContent:B,invisible:R,max:$,displayValue:k}=function(e){const{badgeContent:t,invisible:a=!1,max:n=99,showZero:o=!1}=e,r=(0,i.A)({badgeContent:t,max:n});let s=a;!1!==a||0!==t||o||(s=!0);const{badgeContent:l,max:c=n}=s?r:e;return{badgeContent:l,invisible:s,max:c,displayValue:l&&Number(l)>c?`${c}+`:l}}({max:L,invisible:S,badgeContent:O,showZero:F}),M=(0,i.A)({anchorOrigin:v(n),color:j,overlap:y,variant:z,badgeContent:O}),I=R||null==B&&"dot"!==z,{color:N=j,overlap:H=y,anchorOrigin:P,variant:G=z}=I?M:a,U=v(P),W="dot"!==G?k:void 0,V={...a,badgeContent:B,invisible:I,max:$,displayValue:W,showZero:F,anchorOrigin:U,color:N,overlap:H,variant:G},D=(e=>{const{color:t,anchorOrigin:a,invisible:n,overlap:o,variant:i,classes:s={}}=e,l={root:["root"],badge:["badge",i,n&&"invisible",`anchorOrigin${(0,g.A)(a.vertical)}${(0,g.A)(a.horizontal)}`,`anchorOrigin${(0,g.A)(a.vertical)}${(0,g.A)(a.horizontal)}${(0,g.A)(o)}`,`overlap${(0,g.A)(o)}`,"default"!==t&&`color${(0,g.A)(t)}`]};return(0,r.A)(l,p.w,s)})(V),Z={slots:{root:w?.root??b.Root,badge:w?.badge??b.Badge},slotProps:{root:C?.root??A.root,badge:C?.badge??A.badge}},[_,E]=(0,m.A)("root",{elementType:u,externalForwardedProps:{...Z,...T},ownerState:V,className:(0,o.A)(D.root,s),ref:t,additionalProps:{as:c}}),[q,J]=(0,m.A)("badge",{elementType:f,externalForwardedProps:Z,ownerState:V,className:D.badge});return(0,h.jsxs)(_,{...E,children:[x,(0,h.jsx)(q,{...J,children:W})]})})},98930:(e,t,a)=>{a.d(t,{A:()=>n});const n=(0,a(70770).Ay)()}}]);
//# sourceMappingURL=1547.3c89f14b.chunk.js.map