{"version":3,"file":"static/js/5837.607f598c.chunk.js","mappings":"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","sources":["webpack://@jbrowse/web/../../packages/core/src/ui/ErrorMessageStackTraceContents.tsx","webpack://@jbrowse/web/../../packages/core/src/ui/ErrorMessageStackTraceDialog.tsx","webpack://@jbrowse/web/../../plugins/alignments/src/LinearReadCloudDisplay/components/CloudYScaleBar.tsx","webpack://@jbrowse/web/../../plugins/alignments/src/LinearReadCloudDisplay/components/LinearReadCloudReactComponent.tsx","webpack://@jbrowse/web/../../plugins/alignments/src/PileupRenderer/types.ts","webpack://@jbrowse/web/../../plugins/linear-genome-view/src/BaseLinearDisplay/components/BlockErrorMessage.tsx","webpack://@jbrowse/web/../../plugins/linear-genome-view/src/BaseLinearDisplay/components/NonBlockCanvasDisplayComponent.tsx"],"sourcesContent":["import { Typography, alpha } from '@mui/material'\n\nimport ExternalLink from './ExternalLink.tsx'\nimport { makeStyles } from '../util/tss-react/index.ts'\n\n// produce a source-map resolved stack trace\n// reference code https://stackoverflow.com/a/77158517/2129219\nconst EMAIL = 'jbrowse2@berkeley.edu'\n\nconst useStyles = makeStyles()(theme => ({\n  pre: {\n    background: alpha(theme.palette.error.main, 0.2),\n    border: `1px solid ${theme.palette.divider}`,\n    overflow: 'auto',\n    margin: 20,\n    maxHeight: 300,\n  },\n}))\n\nexport default function ErrorMessageStackTraceContents({\n  text,\n  extra,\n}: {\n  text: string\n  extra?: unknown\n}) {\n  const { classes } = useStyles()\n  const extraStr = extra\n    ? `supporting data: ${JSON.stringify(extra, null, 2)}`\n    : ''\n  const displayText = [text, extraStr].filter(Boolean).join('\\n')\n  const issueBody = encodeURIComponent(\n    `I got this error from JBrowse, here is the stack trace:\\n\\n\\`\\`\\`\\n${text}\\n\\`\\`\\`\\n${extraStr}\\n`,\n  )\n  const githubLink = `https://github.com/GMOD/jbrowse-components/issues/new?labels=bug&title=JBrowse+issue&body=${issueBody}`\n  const emailLink = `mailto:${EMAIL}?subject=JBrowse%202%20error&body=${issueBody}`\n\n  return (\n    <>\n      <Typography>\n        Post a new issue at{' '}\n        <ExternalLink href={githubLink}>GitHub</ExternalLink> or send an email\n        to <ExternalLink href={emailLink}>{EMAIL}</ExternalLink>\n      </Typography>\n      <pre className={classes.pre}>{displayText}</pre>\n    </>\n  )\n}\n","import { useEffect, useState } from 'react'\n\nimport CloseIcon from '@mui/icons-material/Close'\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n} from '@mui/material'\nimport { SourceMapConsumer } from 'source-map-js'\n\nimport ErrorMessageStackTraceContents from './ErrorMessageStackTraceContents.tsx'\nimport LoadingEllipses from './LoadingEllipses.tsx'\n\nasync function myfetchtext(uri: string) {\n  const res = await fetch(uri)\n  if (!res.ok) {\n    throw new Error(`HTTP ${res.status} fetching ${uri}: ${await res.text()}`)\n  }\n  return res.text()\n}\n\nasync function myfetchjson(uri: string) {\n  return JSON.parse(await myfetchtext(uri))\n}\n\n// produce a source-map resolved stack trace\n// reference code https://stackoverflow.com/a/77158517/2129219\nconst sourceMaps: Record<string, SourceMapConsumer> = {}\nconst sourceMappingUrlRe = /\\/\\/# sourceMappingURL=(.*)/\nconst stackLineRe = /(.*)((?:https?|file):\\/\\/.*):(\\d+):(\\d+)/\n\nasync function getSourceMapFromUri(uri: string) {\n  if (sourceMaps[uri]) {\n    return sourceMaps[uri]\n  }\n  const uriQuery = new URL(uri).search\n  const currentScriptContent = await myfetchtext(uri)\n  const mapUri = sourceMappingUrlRe.exec(currentScriptContent)?.[1] ?? ''\n  const data = await myfetchjson(new URL(mapUri, uri).href + uriQuery)\n  const map = new SourceMapConsumer(data)\n  sourceMaps[uri] = map\n  return map\n}\n\nasync function mapStackTrace(stack: string) {\n  const mappedStack = []\n  for (const line of stack.split('\\n')) {\n    const match = stackLineRe.exec(line)\n    if (!match) {\n      mappedStack.push(line)\n      continue\n    }\n\n    const uri = match[2]!\n    const consumer = await getSourceMapFromUri(uri)\n    const pos = consumer.originalPositionFor({\n      line: +match[3]!,\n      column: +match[4]!,\n    })\n\n    if (!pos.source || !pos.line || !pos.column) {\n      mappedStack.push(line)\n      continue\n    }\n\n    mappedStack.push(\n      `${pos.source}:${pos.line}:${pos.column + 1} (${match[1]!.trim()})`,\n    )\n  }\n  return mappedStack.join('\\n')\n}\n\nconst MAX_ERR_LEN = 10_000\n\n// Chrome has the error message in the stacktrace, firefox doesn't.\n// Remove it since it can be very long due to mobx-state-tree stuff\nfunction stripMessage(trace: string, error: unknown) {\n  return trace.startsWith('Error:') ? trace.slice(`${error}`.length) : trace\n}\n\nfunction getStackTrace(error: unknown) {\n  return typeof error === 'object' && error !== null && 'stack' in error\n    ? `${error.stack}`\n    : ''\n}\n\nexport default function ErrorMessageStackTraceDialog({\n  error,\n  onClose,\n  extra,\n}: {\n  onClose: () => void\n  error: unknown\n  extra?: unknown\n}) {\n  const [mappedStackTrace, setMappedStackTrace] = useState<string>()\n  const [secondaryError, setSecondaryError] = useState<unknown>()\n  const [clicked, setClicked] = useState(false)\n  const errorText = error ? `${error}` : ''\n  const stackTrace = stripMessage(getStackTrace(error), errorText)\n\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    ;(async () => {\n      try {\n        setMappedStackTrace(await mapStackTrace(stackTrace))\n      } catch (e) {\n        console.error(e)\n        setMappedStackTrace(stackTrace)\n        setSecondaryError(e)\n      }\n    })()\n  }, [stackTrace])\n\n  // @ts-expect-error\n  const version = window.JBrowseSession?.version\n  const errorBoxText = [\n    secondaryError\n      ? 'Error loading source map, showing raw stack trace below:'\n      : '',\n    errorText.length > MAX_ERR_LEN\n      ? `${errorText.slice(0, MAX_ERR_LEN)}...`\n      : errorText,\n    mappedStackTrace || 'No stack trace available',\n    version ? `JBrowse ${version}` : '',\n  ]\n    .filter(Boolean)\n    .join('\\n')\n\n  return (\n    <Dialog open onClose={onClose} maxWidth=\"xl\">\n      <DialogTitle>\n        Stack trace\n        <IconButton\n          onClick={onClose}\n          sx={{\n            position: 'absolute',\n            right: 8,\n            top: 8,\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n      <DialogContent>\n        {mappedStackTrace === undefined ? (\n          <LoadingEllipses variant=\"h6\" />\n        ) : (\n          <ErrorMessageStackTraceContents text={errorBoxText} extra={extra} />\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={async () => {\n            const { default: copy } = await import('copy-to-clipboard')\n            copy(errorBoxText)\n            setClicked(true)\n            setTimeout(() => {\n              setClicked(false)\n            }, 1000)\n          }}\n        >\n          {clicked ? 'Copied!' : 'Copy stack trace to clipboard'}\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={onClose}>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { useTheme } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { CloudTicks } from '../../RenderLinearReadCloudDisplayRPC/drawFeatsCloud.ts'\n\nfunction formatTickValue(value: number): string {\n  if (value >= 1000000) {\n    return `${(value / 1000000).toFixed(1)}M`\n  }\n  if (value >= 1000) {\n    return `${(value / 1000).toFixed(0)}k`\n  }\n  return `${value}`\n}\n\nconst CloudYScaleBar = observer(function CloudYScaleBar({\n  model,\n  orientation,\n}: {\n  model: { cloudTicks?: CloudTicks }\n  orientation?: 'left' | 'right'\n}) {\n  const theme = useTheme()\n  const cloudTicks = model.cloudTicks\n\n  if (!cloudTicks) {\n    return null\n  }\n\n  const { ticks, height } = cloudTicks\n  const bg = theme.palette.background.default\n  const fg = theme.palette.text.primary\n  const isLeft = orientation === 'left'\n  const k = isLeft ? -1 : 1\n  const tickLength = 6\n\n  return (\n    <g\n      fill=\"none\"\n      fontSize={10}\n      fontFamily=\"sans-serif\"\n      textAnchor={isLeft ? 'end' : 'start'}\n      strokeWidth={1}\n    >\n      {/* Axis line */}\n      <path\n        stroke={fg}\n        d={`M${k * tickLength},0H0.5V${height}H${k * tickLength}`}\n      />\n      {/* Ticks and labels */}\n      {ticks.map(({ value, y }) => (\n        <g key={value} transform={`translate(0,${y})`}>\n          <line stroke={fg} x2={k * tickLength} y1={0.5} y2={0.5} />\n          <text\n            stroke={bg}\n            strokeWidth={2.5}\n            paintOrder=\"stroke\"\n            fill={fg}\n            dy=\"0.32em\"\n            x={k * 9}\n            y={0.5}\n          >\n            {formatTickValue(value)}\n          </text>\n        </g>\n      ))}\n      {/* Axis label */}\n      <text\n        stroke={bg}\n        strokeWidth={2.5}\n        paintOrder=\"stroke\"\n        fill={fg}\n        fontSize={10}\n        textAnchor=\"middle\"\n        transform={`translate(${isLeft ? -30 : 30}, ${height / 2}) rotate(-90)`}\n      >\n        Insert size (bp)\n      </text>\n    </g>\n  )\n})\n\nexport default CloudYScaleBar\n","import { useCallback, useMemo, useRef, useState } from 'react'\n\nimport BaseTooltip from '@jbrowse/core/ui/BaseTooltip'\nimport {\n  assembleLocString,\n  getContainingTrack,\n  getContainingView,\n  getSession,\n  isSessionModelWithWidgets,\n  toLocale,\n} from '@jbrowse/core/util'\nimport Flatbush from '@jbrowse/core/util/flatbush'\nimport { NonBlockCanvasDisplayComponent as BaseDisplayComponent } from '@jbrowse/plugin-linear-genome-view'\nimport { observer } from 'mobx-react'\n\nimport CloudYScaleBar from './CloudYScaleBar.tsx'\nimport {\n  type FlatbushItem,\n  flatbushItemToFeatureData,\n  getFlatbushItemLabel,\n} from '../../PileupRenderer/types.ts'\nimport { PairType, getPairedType } from '../../shared/color.ts'\nimport { orientationTypes } from '../../util.ts'\n\nimport type { ReducedFeature } from '../../shared/types.ts'\nimport type { LinearReadCloudDisplayModel } from '../model.ts'\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\ntype LGV = LinearGenomeViewModel\n\nfunction getPairTypeDescription(data: ReducedFeature) {\n  const pairType = getPairedType({\n    type: 'insertSizeAndOrientation',\n    f: {\n      refName: data.refName,\n      next_ref: data.next_ref,\n      pair_orientation: data.pair_orientation,\n      tlen: data.tlen,\n      flags: data.flags,\n    },\n  })\n\n  switch (pairType) {\n    case PairType.LONG_INSERT:\n      return 'Long insert size (colored red)'\n    case PairType.SHORT_INSERT:\n      return 'Short insert size (colored blue)'\n    case PairType.INTER_CHROM:\n      return data.next_ref\n        ? `Inter-chromosomal (mate on ${data.next_ref})`\n        : undefined\n    case PairType.UNMAPPED_MATE:\n      return 'Unmapped mate'\n    case PairType.ABNORMAL_ORIENTATION: {\n      const orientationType = orientationTypes.fr\n      const orient = orientationType[data.pair_orientation || ''] || ''\n      if (orient === 'RR') {\n        return 'Both mates reverse strand'\n      }\n      if (orient === 'RL') {\n        return 'Outward facing pair'\n      }\n      if (orient === 'LL') {\n        return 'Both mates forward strand'\n      }\n      return `Abnormal orientation ${data.pair_orientation || ''}`\n    }\n    default:\n      return undefined\n  }\n}\n\nfunction FeatureTooltip({\n  hoveredFeatureData,\n  hasSupplementary,\n  mousePosition,\n}: {\n  hoveredFeatureData: ReducedFeature\n  hasSupplementary: boolean\n  mousePosition: {\n    x: number\n    y: number\n  }\n}) {\n  const pairTypeDesc = getPairTypeDescription(hoveredFeatureData)\n\n  return (\n    <BaseTooltip\n      clientPoint={{\n        x: mousePosition.x,\n        y: mousePosition.y + 20,\n      }}\n      placement=\"bottom-start\"\n    >\n      <div>\n        <div>\n          <strong>{hoveredFeatureData.name}</strong>\n        </div>\n        <div>{assembleLocString(hoveredFeatureData)}</div>\n        {hoveredFeatureData.tlen !== 0 ? (\n          <div>Template length: {toLocale(hoveredFeatureData.tlen)}</div>\n        ) : null}\n        {pairTypeDesc ? <div>{pairTypeDesc}</div> : null}\n        {hasSupplementary ? (\n          <div>Has supplementary/split alignments</div>\n        ) : null}\n      </div>\n    </BaseTooltip>\n  )\n}\n\nfunction MismatchTooltip({\n  mismatchData,\n  mousePosition,\n}: {\n  mismatchData: FlatbushItem\n  mousePosition: { x: number; y: number }\n}) {\n  return (\n    <BaseTooltip\n      clientPoint={{\n        x: mousePosition.x,\n        y: mousePosition.y + 20,\n      }}\n      placement=\"bottom-start\"\n    >\n      <div>\n        <div>{getFlatbushItemLabel(mismatchData)}</div>\n        <div>Position: {toLocale(mismatchData.start + 1)}</div>\n      </div>\n    </BaseTooltip>\n  )\n}\n\nconst FeatureHighlights = observer(function FeatureHighlights({\n  selectedFeatureBounds,\n  hoveredFeature,\n}: {\n  selectedFeatureBounds: {\n    x: number\n    y: number\n    width: number\n    height: number\n  } | null\n  hoveredFeature:\n    | {\n        x: number\n        y: number\n        width: number\n        height: number\n      }\n    | undefined\n}) {\n  return (\n    <>\n      {selectedFeatureBounds ? (\n        <div\n          style={{\n            position: 'absolute',\n            left: selectedFeatureBounds.x,\n            top: selectedFeatureBounds.y,\n            width: selectedFeatureBounds.width,\n            height: selectedFeatureBounds.height,\n            border: '2px solid #00b8ff',\n            boxSizing: 'border-box',\n            pointerEvents: 'none',\n          }}\n        />\n      ) : null}\n      {hoveredFeature ? (\n        <div\n          style={{\n            position: 'absolute',\n            left: hoveredFeature.x,\n            top: hoveredFeature.y,\n            width: hoveredFeature.width,\n            height: hoveredFeature.height,\n            backgroundColor: 'rgba(0, 0, 0, 0.2)',\n            pointerEvents: 'none',\n          }}\n        />\n      ) : null}\n    </>\n  )\n})\n\nconst CloudCanvases = observer(function CloudCanvases({\n  model,\n  width,\n  height,\n}: {\n  width: number\n  height: number\n  model: LinearReadCloudDisplayModel\n}) {\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const cb = useCallback(\n    (ref: HTMLCanvasElement) => {\n      model.setRef(ref)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, width, height],\n  )\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies:\n  const mouseoverCb = useCallback(\n    (ref: HTMLCanvasElement) => {\n      model.setMouseoverRef(ref)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [model, width, height],\n  )\n  return (\n    <>\n      <canvas\n        data-testid={model.dataTestId}\n        ref={cb}\n        style={{\n          width,\n          height,\n          position: 'absolute',\n          left: 0,\n          top: 0,\n        }}\n        width={width * 2}\n        height={height * 2}\n      />\n      <canvas\n        data-testid=\"cloud-mouseover-canvas\"\n        ref={mouseoverCb}\n        style={{\n          width,\n          height,\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          pointerEvents: 'none',\n        }}\n        width={width * 2}\n        height={height * 2}\n      />\n    </>\n  )\n})\n\nconst Cloud = observer(function Cloud({\n  model,\n}: {\n  model: LinearReadCloudDisplayModel\n}) {\n  const view = getContainingView(model) as LGV\n  const width = Math.round(view.dynamicBlocks.totalWidthPx)\n  const height = model.drawCloud ? model.height : model.layoutHeight\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [hoveredFeature, setHoveredFeature] = useState<{\n    x: number\n    y: number\n    width: number\n    height: number\n  }>()\n  const [hoveredFeatureData, setHoveredFeatureData] = useState<ReducedFeature>()\n  const [hoveredHasSupplementary, setHoveredHasSupplementary] = useState(false)\n  const [hoveredMismatchData, setHoveredMismatchData] = useState<FlatbushItem>()\n  const [mousePosition, setMousePosition] = useState<{\n    x: number\n    y: number\n  }>()\n\n  // Convert flatbush data to Flatbush instance\n  const flatbushIndex = useMemo(() => {\n    return model.featureLayout ? Flatbush.from(model.featureLayout.data) : null\n  }, [model.featureLayout])\n\n  // Convert mismatch flatbush data to Flatbush instance\n  const mismatchFlatbushIndex = useMemo(() => {\n    return model.mismatchLayout\n      ? Flatbush.from(model.mismatchLayout.data)\n      : null\n  }, [model.mismatchLayout])\n\n  // Look up the bounds of the selected feature by ID\n  const selectedFeatureBounds = useMemo(() => {\n    if (!model.selectedFeatureId) {\n      return null\n    }\n\n    // Find the feature with the matching chain ID\n    const feature = model.featuresForFlatbush.find(\n      f => f.chainId === model.selectedFeatureId,\n    )\n\n    if (feature) {\n      return {\n        x: feature.chainMinX,\n        y: feature.y1,\n        width: feature.chainMaxX - feature.chainMinX,\n        height: feature.y2 - feature.y1,\n      }\n    }\n\n    return null\n  }, [model.selectedFeatureId, model.featuresForFlatbush])\n\n  const getFeatureUnderMouse = useCallback(\n    (event: React.MouseEvent) => {\n      if (!containerRef.current || !flatbushIndex) {\n        return { feature: undefined, position: undefined }\n      }\n\n      const rect = containerRef.current.getBoundingClientRect()\n      const offsetX = event.clientX - rect.left\n      const offsetY = event.clientY - rect.top\n\n      const results = flatbushIndex.search(\n        offsetX,\n        offsetY,\n        offsetX + 1,\n        offsetY + 1,\n      )\n\n      if (results.length > 0) {\n        const featureIndex = results[0]!\n        const feature = model.featuresForFlatbush[featureIndex]\n        return { feature, position: { x: event.clientX, y: event.clientY } }\n      }\n\n      return { feature: undefined, position: undefined }\n    },\n    [containerRef, flatbushIndex, model.featuresForFlatbush],\n  )\n\n  const getMismatchUnderMouse = useCallback(\n    (event: React.MouseEvent) => {\n      if (!containerRef.current || !mismatchFlatbushIndex) {\n        return undefined\n      }\n\n      const rect = containerRef.current.getBoundingClientRect()\n      const offsetX = event.clientX - rect.left\n      const offsetY = event.clientY - rect.top\n\n      const results = mismatchFlatbushIndex.search(\n        offsetX,\n        offsetY,\n        offsetX + 1,\n        offsetY + 1,\n      )\n\n      if (results.length > 0) {\n        const mismatchIndex = results[0]!\n        return model.mismatchItems[mismatchIndex]\n      }\n\n      return undefined\n    },\n    [containerRef, mismatchFlatbushIndex, model.mismatchItems],\n  )\n\n  const onMouseMove = useCallback(\n    (event: React.MouseEvent) => {\n      // Check for mismatch first (higher priority for small targets)\n      const mismatch = getMismatchUnderMouse(event)\n      if (mismatch) {\n        setHoveredMismatchData(mismatch)\n        setHoveredFeature(undefined)\n        setHoveredFeatureData(undefined)\n        setHoveredHasSupplementary(false)\n        setMousePosition({ x: event.clientX, y: event.clientY })\n        return\n      }\n\n      // Fall back to feature hover\n      const { feature, position } = getFeatureUnderMouse(event)\n      setHoveredMismatchData(undefined)\n\n      if (feature) {\n        setHoveredFeature({\n          x: feature.chainMinX,\n          y: feature.y1,\n          width: feature.chainMaxX - feature.chainMinX,\n          height: feature.y2 - feature.y1,\n        })\n        setHoveredFeatureData(feature.data)\n        setHoveredHasSupplementary(feature.hasSupplementary)\n        setMousePosition(position)\n      } else {\n        setHoveredFeature(undefined)\n        setHoveredFeatureData(undefined)\n        setHoveredHasSupplementary(false)\n        setMousePosition(undefined)\n      }\n    },\n    [getMismatchUnderMouse, getFeatureUnderMouse],\n  )\n\n  const onMouseLeave = useCallback(() => {\n    setHoveredFeature(undefined)\n    setHoveredFeatureData(undefined)\n    setHoveredHasSupplementary(false)\n    setHoveredMismatchData(undefined)\n    setMousePosition(undefined)\n  }, [])\n\n  const onClick = useCallback(\n    (event: React.MouseEvent) => {\n      const mismatch = getMismatchUnderMouse(event)\n      if (mismatch) {\n        const session = getSession(model)\n        const regions = view.dynamicBlocks.contentBlocks\n        const refName = regions[0]?.refName || ''\n        const { feature } = getFeatureUnderMouse(event)\n        const sourceRead = feature?.data.name\n        if (isSessionModelWithWidgets(session)) {\n          const featureWidget = session.addWidget(\n            'BaseFeatureWidget',\n            'baseFeature',\n            {\n              featureData: flatbushItemToFeatureData(\n                mismatch,\n                refName,\n                sourceRead,\n              ),\n              view,\n              track: getContainingTrack(model),\n            },\n          )\n          session.showWidget(featureWidget)\n        }\n        return\n      }\n\n      const { feature } = getFeatureUnderMouse(event)\n      if (feature) {\n        model.selectFeature(feature.chain)\n        model.setSelectedFeatureId(feature.chainId)\n      } else {\n        model.setSelectedFeatureId(undefined)\n      }\n    },\n    [getMismatchUnderMouse, getFeatureUnderMouse, model, view],\n  )\n\n  const hasHover = hoveredMismatchData || hoveredFeatureData\n\n  // note: the position absolute below avoids scrollbar from appearing on track\n  return (\n    <div\n      ref={containerRef}\n      style={{\n        position: 'relative',\n        width,\n        height,\n        cursor: hasHover ? 'pointer' : undefined,\n      }}\n      onMouseMove={onMouseMove}\n      onMouseLeave={onMouseLeave}\n      onClick={onClick}\n    >\n      <CloudCanvases model={model} width={width} height={height} />\n      <FeatureHighlights\n        selectedFeatureBounds={selectedFeatureBounds}\n        hoveredFeature={hoveredFeature}\n      />\n      {hoveredMismatchData && mousePosition ? (\n        <MismatchTooltip\n          mismatchData={hoveredMismatchData}\n          mousePosition={mousePosition}\n        />\n      ) : hoveredFeatureData && mousePosition ? (\n        <FeatureTooltip\n          hoveredFeatureData={hoveredFeatureData}\n          hasSupplementary={hoveredHasSupplementary}\n          mousePosition={mousePosition}\n        />\n      ) : null}\n    </div>\n  )\n})\n\nconst LinearReadCloudReactComponent = observer(\n  function LinearReadCloudReactComponent({\n    model,\n  }: {\n    model: LinearReadCloudDisplayModel\n  }) {\n    return (\n      <div>\n        <BaseDisplayComponent model={model}>\n          <Cloud model={model} />\n        </BaseDisplayComponent>\n        {model.drawCloud && model.cloudTicks ? (\n          <svg\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 50,\n              pointerEvents: 'none',\n              height: model.cloudTicks.height,\n              width: 50,\n            }}\n          >\n            <g transform=\"translate(45, 0)\">\n              <CloudYScaleBar model={model} orientation=\"left\" />\n            </g>\n          </svg>\n        ) : null}\n      </div>\n    )\n  },\n)\nexport default LinearReadCloudReactComponent\n","import type {\n  ColorBy,\n  ModificationTypeWithColor,\n  SortedBy,\n} from '../shared/types.ts'\nimport type { RenderArgsDeserialized as BoxRenderArgsDeserialized } from '@jbrowse/core/pluggableElementTypes/renderers/BoxRendererType'\nimport type { Feature } from '@jbrowse/core/util'\nimport type { BaseLayout } from '@jbrowse/core/util/layouts/BaseLayout'\n\nexport interface LayoutFeature {\n  heightPx: number\n  topPx: number\n  feature: Feature\n}\n\nexport type FlatbushItem =\n  | { type: 'mismatch'; base: string; start: number }\n  | { type: 'insertion'; length: number; sequence?: string; start: number }\n  | { type: 'deletion'; length: number; start: number }\n  | { type: 'softclip'; length: number; start: number }\n  | { type: 'hardclip'; length: number; start: number }\n  | {\n      type: 'modification'\n      info: string\n      modType: string\n      probability: number\n      start: number\n      mismatch?: string\n    }\n\nconst LARGE_INSERTION_THRESHOLD = 10\n\nexport function getFlatbushItemLabel(item: FlatbushItem): string {\n  switch (item.type) {\n    case 'insertion':\n      // If we have the actual sequence and it's small enough, show it\n      if (item.sequence && item.sequence.length <= LARGE_INSERTION_THRESHOLD) {\n        return `Insertion: ${item.sequence}`\n      }\n      // Otherwise just show the length\n      return `Insertion: ${item.length}bp`\n    case 'deletion':\n      return `Deletion: ${item.length}bp`\n    case 'softclip':\n      return `Soft clip: ${item.length}bp`\n    case 'hardclip':\n      return `Hard clip: ${item.length}bp`\n    case 'modification': {\n      const mismatchInfo = item.mismatch ? `\\nMismatch: ${item.mismatch}` : ''\n      return item.info + mismatchInfo\n    }\n    case 'mismatch':\n      return `Mismatch: ${item.base}`\n  }\n}\n\nexport function flatbushItemToFeatureData(\n  item: FlatbushItem,\n  refName: string,\n  sourceRead?: string,\n): Record<string, unknown> {\n  const base = {\n    uniqueId: `${item.type}-${item.start}`,\n    type: item.type,\n    refName,\n    sourceRead,\n  }\n  switch (item.type) {\n    case 'insertion':\n      return {\n        ...base,\n        start: item.start,\n        end: item.start + 1,\n        ...(item.sequence ? { sequence: item.sequence } : {}),\n        insertionLength: item.length,\n      }\n    case 'deletion':\n      return {\n        ...base,\n        start: item.start,\n        end: item.start + item.length,\n      }\n    case 'softclip':\n    case 'hardclip':\n      return {\n        ...base,\n        start: item.start,\n        end: item.start + 1,\n        clipLength: item.length,\n      }\n    case 'modification':\n      return {\n        ...base,\n        start: item.start,\n        end: item.start + 1,\n        info: item.info,\n        modType: item.modType,\n        probability: item.probability.toFixed(3),\n        ...(item.mismatch ? { mismatch: item.mismatch } : {}),\n      }\n    case 'mismatch':\n      return {\n        ...base,\n        start: item.start,\n        end: item.start + 1,\n        base: item.base,\n      }\n  }\n}\n\nexport interface RenderArgsDeserialized extends BoxRenderArgsDeserialized {\n  colorBy?: ColorBy\n  colorTagMap?: Record<string, string>\n  visibleModifications?: Record<string, ModificationTypeWithColor>\n  sortedBy?: SortedBy\n  showSoftClip: boolean\n  highResolutionScaling: number\n  statusCallback?: (arg: string) => void\n}\n\nexport interface ProcessedRenderArgs extends RenderArgsDeserialized {\n  features: Map<string, Feature>\n  layout: BaseLayout<Feature>\n  regionSequence: string | undefined\n}\n\nexport interface PreProcessedRenderArgs extends RenderArgsDeserialized {\n  features: Map<string, Feature>\n  layout: BaseLayout<Feature>\n}\n","import ErrorMessageStackTraceDialog from '@jbrowse/core/ui/ErrorMessageStackTraceDialog'\nimport { getSession } from '@jbrowse/core/util'\nimport RefreshIcon from '@mui/icons-material/Refresh'\nimport ReportIcon from '@mui/icons-material/Report'\nimport { IconButton, Tooltip } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport BlockMsg from './BlockMsg.tsx'\n\nconst BlockErrorMessage = observer(function BlockErrorMessage({\n  model,\n}: {\n  model: {\n    error?: unknown\n    reload: () => void\n  }\n}) {\n  return (\n    <BlockMsg\n      message={`${model.error}`}\n      severity=\"error\"\n      action={\n        <>\n          <Tooltip title=\"Reload track\">\n            <IconButton\n              data-testid=\"reload_button\"\n              onClick={() => {\n                model.reload()\n              }}\n            >\n              <RefreshIcon />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Show stack trace\">\n            <IconButton\n              onClick={() => {\n                getSession(model).queueDialog(onClose => [\n                  ErrorMessageStackTraceDialog,\n                  {\n                    onClose,\n                    error: model.error as Error,\n                  },\n                ])\n              }}\n            >\n              <ReportIcon />\n            </IconButton>\n          </Tooltip>\n        </>\n      }\n    />\n  )\n})\n\nexport default BlockErrorMessage\n","import React from 'react'\n\nimport { LoadingEllipses } from '@jbrowse/core/ui'\nimport { getContainingView } from '@jbrowse/core/util'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { observer } from 'mobx-react'\n\nimport BlockErrorMessage from './BlockErrorMessage.tsx'\nimport FloatingLegend from './FloatingLegend.tsx'\n\nimport type { LinearGenomeViewModel } from '../../LinearGenomeView/index.ts'\nimport type { LegendItem } from '../model.ts'\n\n/**\n * Interface for models that can be rendered with NonBlockCanvasDisplayComponent.\n * These are displays that render to a single canvas across the view width\n * rather than using block-based rendering.\n */\nexport interface NonBlockCanvasDisplayModel {\n  error?: unknown\n  regionTooLarge?: boolean\n  reload: () => void\n  regionCannotBeRendered: () => React.ReactElement | null\n  drawn: boolean\n  loading: boolean\n  lastDrawnOffsetPx?: number\n  lastDrawnBpPerPx?: number\n  statusMessage?: string\n  showLegend?: boolean\n  legendItems?: () => LegendItem[]\n  height: number\n}\n\nconst useStyles = makeStyles()({\n  loading: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.15)',\n    backgroundImage: `repeating-linear-gradient(45deg, transparent, transparent 8px, rgba(0, 0, 0, 0.05) 8px, rgba(0, 0, 0, 0.05) 16px)`,\n    pointerEvents: 'none',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1,\n  },\n  loadingMessage: {\n    zIndex: 2,\n    pointerEvents: 'none',\n  },\n})\n\n/**\n * Component that handles the display container for non-block-based canvas displays.\n *\n * This component:\n * - Shows error messages when the display has an error\n * - Shows region-too-large message when appropriate\n * - Handles the offset positioning during scrolling (shifts the canvas using\n *   lastDrawnOffsetPx - view.offsetPx to provide smooth scrolling before re-render)\n * - Shows loading indicator when data is being fetched or the view has scrolled\n */\nconst NonBlockCanvasDisplayComponent = observer(\n  function NonBlockCanvasDisplayComponent({\n    model,\n    children,\n  }: {\n    model: NonBlockCanvasDisplayModel\n    children?: React.ReactNode\n  }) {\n    const { error, regionTooLarge } = model\n    return error ? (\n      <BlockErrorMessage model={model} />\n    ) : regionTooLarge ? (\n      model.regionCannotBeRendered()\n    ) : (\n      <DataDisplay model={model}>{children}</DataDisplay>\n    )\n  },\n)\n\nconst DataDisplay = observer(function DataDisplay({\n  model,\n  children,\n}: {\n  model: NonBlockCanvasDisplayModel\n  children?: React.ReactNode\n}) {\n  const { drawn, loading, showLegend, legendItems, lastDrawnBpPerPx, height } =\n    model\n  const view = getContainingView(model) as LinearGenomeViewModel\n  const items = legendItems?.() ?? []\n\n  // Check if the view has zoomed (bpPerPx changed) since the last render.\n  // When zoomed, we don't show the old shifted content because it's at\n  // the wrong scale.\n  const hasZoomed =\n    lastDrawnBpPerPx !== undefined && lastDrawnBpPerPx !== view.bpPerPx\n\n  // Calculate how much to shift the rendered canvas to account for scrolling.\n  // When the user scrolls, view.offsetPx changes but the canvas content\n  // stays the same until a new render completes. This shift keeps the\n  // content aligned during that time.\n  // Only apply the shift if we haven't zoomed.\n  const calculatedLeft = hasZoomed\n    ? 0\n    : (model.lastDrawnOffsetPx ?? 0) - view.offsetPx\n\n  return (\n    // this data-testid is located here because changing props on the canvas\n    // itself is very sensitive to triggering ref invalidation\n    <div\n      data-testid={`drawn-${drawn}`}\n      style={{ position: 'relative', height }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          left: calculatedLeft,\n          // Hide content when zoomed until new render completes\n          visibility: hasZoomed ? 'hidden' : undefined,\n        }}\n      >\n        {children}\n      </div>\n      {showLegend && items.length > 0 ? <FloatingLegend items={items} /> : null}\n      {hasZoomed || calculatedLeft !== 0 || loading ? (\n        <LoadingBar model={model} />\n      ) : null}\n    </div>\n  )\n})\n\nconst LoadingBar = observer(function LoadingBar({\n  model,\n}: {\n  model: NonBlockCanvasDisplayModel\n}) {\n  const { classes } = useStyles()\n  const { statusMessage } = model\n  return (\n    <div className={classes.loading}>\n      <div className={classes.loadingMessage}>\n        <LoadingEllipses message={statusMessage} />\n      </div>\n    </div>\n  )\n})\n\nexport default NonBlockCanvasDisplayComponent\n"],"names":["EMAIL","useStyles","makeStyles","theme","pre","background","alpha","palette","error","main","border","divider","overflow","margin","maxHeight","ErrorMessageStackTraceContents","t0","$","_c","text","extra","classes","t1","JSON","stringify","extraStr","t2","filter","Boolean","displayText","join","issueBody","encodeURIComponent","githubLink","emailLink","t3","t4","t5","t6","t7","_jsx","ExternalLink","children","_jsxs","Typography","className","_Fragment","async","myfetchtext","uri","res","fetch","ok","Error","status","sourceMaps","sourceMappingUrlRe","stackLineRe","getSourceMapFromUri","uriQuery","URL","search","currentScriptContent","mapUri","exec","data","parse","myfetchjson","href","map","SourceMapConsumer","ErrorMessageStackTraceDialog","onClose","mappedStackTrace","setMappedStackTrace","useState","secondaryError","setSecondaryError","clicked","setClicked","errorText","stackTrace","trace","startsWith","slice","length","stripMessage","stack","getStackTrace","useEffect","mappedStack","line","split","match","push","pos","originalPositionFor","column","source","trim","mapStackTrace","e","console","version","window","JBrowseSession","errorBoxText","Dialog","open","maxWidth","DialogTitle","IconButton","onClick","sx","position","right","top","CloseIcon","DialogContent","undefined","LoadingEllipses","variant","DialogActions","Button","color","default","copy","setTimeout","formatTickValue","value","toFixed","observer","model","orientation","useTheme","cloudTicks","ticks","height","bg","fg","primary","isLeft","k","fill","fontSize","fontFamily","textAnchor","strokeWidth","stroke","d","y","transform","x2","y1","y2","paintOrder","dy","x","FeatureTooltip","hoveredFeatureData","hasSupplementary","mousePosition","getPairedType","type","f","refName","next_ref","pair_orientation","tlen","flags","PairType","LONG_INSERT","SHORT_INSERT","INTER_CHROM","UNMAPPED_MATE","ABNORMAL_ORIENTATION","orient","orientationTypes","fr","getPairTypeDescription","pairTypeDesc","t8","t9","t10","t11","name","assembleLocString","toLocale","BaseTooltip","clientPoint","placement","MismatchTooltip","mismatchData","getFlatbushItemLabel","start","FeatureHighlights","selectedFeatureBounds","hoveredFeature","style","left","width","boxSizing","pointerEvents","backgroundColor","CloudCanvases","cb","useCallback","ref","setRef","mouseoverCb","setMouseoverRef","dataTestId","Cloud","view","getContainingView","Math","round","dynamicBlocks","totalWidthPx","drawCloud","layoutHeight","containerRef","useRef","setHoveredFeature","setHoveredFeatureData","hoveredHasSupplementary","setHoveredHasSupplementary","hoveredMismatchData","setHoveredMismatchData","setMousePosition","flatbushIndex","useMemo","featureLayout","Flatbush","from","mismatchFlatbushIndex","mismatchLayout","selectedFeatureId","feature","featuresForFlatbush","find","chainId","chainMinX","chainMaxX","getFeatureUnderMouse","event","current","rect","getBoundingClientRect","offsetX","clientX","offsetY","clientY","results","featureIndex","getMismatchUnderMouse","mismatchIndex","mismatchItems","onMouseMove","mismatch","onMouseLeave","session","getSession","regions","contentBlocks","sourceRead","isSessionModelWithWidgets","featureWidget","addWidget","featureData","flatbushItemToFeatureData","track","getContainingTrack","showWidget","selectFeature","chain","setSelectedFeatureId","hasHover","cursor","BaseDisplayComponent","CloudYScaleBar","item","sequence","mismatchInfo","info","base","uniqueId","end","insertionLength","clipLength","modType","probability","BlockMsg","message","severity","action","Tooltip","title","reload","RefreshIcon","queueDialog","ReportIcon","loading","bottom","backgroundImage","display","justifyContent","alignItems","zIndex","loadingMessage","NonBlockCanvasDisplayComponent","regionTooLarge","BlockErrorMessage","regionCannotBeRendered","DataDisplay","drawn","showLegend","legendItems","lastDrawnBpPerPx","items","hasZoomed","bpPerPx","calculatedLeft","lastDrawnOffsetPx","offsetPx","visibility","FloatingLegend","LoadingBar","statusMessage"],"sourceRoot":""}