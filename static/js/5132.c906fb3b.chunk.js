"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[4144,5132],{51762:(e,t,n)=>{n.d(t,{b:()=>r,h:()=>i});var a=n(99546);function r(e,t){return t.tags?.[e]||t[e]}async function i(e,t){const n=(0,a.getSession)(t),{view:r}=t;try{if(!r)throw new Error("No view associated with this view anymore");await r.navToLocString(e)}catch(e){console.error(e),n.notify(`${e}`)}}},55132:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var a=n(7552),r=n(84144),i=n(95054),s=n(68446),o=n(67758),l=n(87083),c=n(32106),d=n(7946),u=n(22762),m=n(36866),f=n(75785),h=n(69500);const p=(0,f.n9)()({compact:{paddingRight:0,paddingTop:0,paddingBottom:0}}),g=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function b(e){const t=(0,o.c)(11),{classes:n}=p(),{flags:a}=e;let r,i,s,f;return t[0]!==a?(r=(0,h.jsx)(c.A,{name:"Flag",value:a}),t[0]=a,t[1]=r):r=t[1],t[2]!==n||t[3]!==a?(i=g.map(((e,t)=>{const r=a&1<<t,i=`${e}_${r}`;return(0,h.jsx)(d.A,{control:(0,h.jsx)(u.A,{className:n.compact,checked:Boolean(r),name:e,readOnly:!0}),label:e},i)})),t[2]=n,t[3]=a,t[4]=i):i=t[4],t[5]!==i?(s=(0,h.jsx)(m.A,{children:i}),t[5]=i,t[6]=s):s=t[6],t[7]!==e||t[8]!==r||t[9]!==s?(f=(0,h.jsxs)(l.default,{...e,title:"Flags",children:[r,s]}),t[7]=e,t[8]=r,t[9]=s,t[10]=f):f=t[10],f}var x=n(31409),j=n.n(x);function y(e){const t=(0,o.c)(4),{value:n}=e,[r,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),c=String(n);let d;return t[0]!==s||t[1]!==c||t[2]!==r?(d=c.length>100?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{type:"button",onClick:()=>{j()(c),l(!0),setTimeout((()=>{l(!1)}),700)},children:s?"Copied to clipboard":"Copy"}),(0,h.jsx)("button",{type:"button",onClick:()=>{i(v)},children:r?"Show less":"Show more"}),(0,h.jsx)("div",{children:r?c:`${c.slice(0,100)}...`})]}):(0,h.jsx)("div",{children:c}),t[0]=s,t[1]=c,t[2]=r,t[3]=d):d=t[3],d}function v(e){return!e}var C=n(65895),A=n(51762);function S(e){const t=(0,o.c)(6),{locString:n,model:a}=e;let r,i;return t[0]!==n||t[1]!==a?(r=e=>{e.preventDefault(),(0,A.h)(n,a)},t[0]=n,t[1]=a,t[2]=r):r=t[2],t[3]!==n||t[4]!==r?(i=(0,h.jsx)(C.A,{onClick:r,href:"#",children:n}),t[3]=n,t[4]=r,t[5]=i):i=t[5],i}const q={AM:"The smallest template-independent mapping quality in the template",AS:"Alignment score generated by aligner",BC:"Barcode sequence identifying the sample",BQ:"Offset to base alignment quality (BAQ)",BZ:"Phred quality of the unique molecular barcode bases in the {OX} tag",CB:"Cell identifier",CC:"Reference name of the next hit",CM:"Edit distance between the color sequence and the color reference (see also {NM})",CO:"Free-text comments",CP:"Leftmost coordinate of the next hit",CQ:"Color read base qualities",CR:"Cellular barcode sequence bases (uncorrected)",CS:"Color read sequence",CT:"Complete read annotation tag, used for consensus annotation dummy features",CY:"Phred quality of the cellular barcode sequence in the {CR} tag",E2:"The 2nd most likely base calls",FI:"The index of segment in the template",FS:"Segment suffix",FZ:"Flow stopToken intensities",GC:"Reserved for backwards compatibility reasons",GQ:"Reserved for backwards compatibility reasons",GS:"Reserved for backwards compatibility reasons",H0:"Number of perfect hits",H1:"Number of 1-difference hits (see also {NM})",H2:"Number of 2-difference hits",HI:"Query hit index",IH:"Query hit total count",LB:"Library",MC:"CIGAR string for mate/next segment",MD:"String encoding mismatched and deleted reference bases",MF:"Reserved for backwards compatibility reasons",MI:"Molecular identifier; a string that uniquely identifies the molecule from which the record was derived",ML:"Base modification probabilities",MM:"Base modifications / methylation ",MQ:"Mapping quality of the mate/next segment",NH:"Number of reported alignments that contain the query in the current record",NM:"Edit distance to the reference",OA:"Original alignment",OC:"Original CIGAR (deprecated; use {OA} instead)",OP:"Original mapping position (deprecated; use {OA} instead)",OQ:"Original base quality",OX:"Original unique molecular barcode bases",PG:"Program",PQ:"Phred likelihood of the template",PT:"Read annotations for parts of the padded read sequence",PU:"Platform unit",Q2:"Phred quality of the mate/next segment sequence in the {R2} tag",QT:"Phred quality of the sample barcode sequence in the {BC} tag",QX:"Quality score of the unique molecular identifier in the {RX} tag",R2:"Sequence of the mate/next segment in the template",RG:"Read group",RT:"Reserved for backwards compatibility reasons",RX:"Sequence bases of the (possibly corrected) unique molecular identifier",S2:"Reserved for backwards compatibility reasons",SA:"Other canonical alignments in a chimeric alignment",SM:"Template-independent mapping quality",SQ:"Reserved for backwards compatibility reasons",TC:"The number of segments in the template",TS:"Transcript strand",U2:"Phred probability of the 2nd call being wrong conditional on the best being wrong",UQ:"Phred likelihood of the segment, conditional on the mapping being correct"},w=(0,a.lazy)((()=>n.e(5736).then(n.bind(n,15736)))),k=(0,a.lazy)((()=>n.e(9114).then(n.bind(n,9114)))),P=(0,s.observer)((function(e){const{model:t,feat:n}=e,a=n.flags,s=(0,A.b)("SA",n);return(0,h.jsxs)(i.A,{"data-testid":"alignment-side-drawer",children:[(0,h.jsx)(r.default,{...e,descriptions:{tags:q},feature:n,formatter:(e,n)=>"next_segment_position"===n?(0,h.jsx)(S,{model:t,locString:e}):(0,h.jsx)(y,{value:e})}),void 0!==s?(0,h.jsx)(w,{model:t,tag:s,feature:n}):null,null!=a?(0,h.jsxs)(h.Fragment,{children:[1&a?(0,h.jsx)(k,{model:t,feature:n}):null,(0,h.jsx)(b,{flags:a,...e})]}):null]})})),R=(0,s.observer)((function(e){const{model:t}=e,{featureData:n}=t,a=structuredClone(n);return a?(0,h.jsx)(P,{feat:a,...e}):(0,h.jsx)("div",{children:"No feature loaded, may not be available after page refresh because it was too large for localStorage"})}))},62568:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(67758),r=n(99546),i=n(69500);function s(e){const t=(0,a.c)(2),{feature:n}=e,s=n.strand,o={"-1":"-",0:"",1:"+"},l=o[s]?`(${o[s]})`:"",c=`${(0,r.assembleLocString)(n)} ${l}`;let d;return t[0]!==c?(d=(0,i.jsx)(i.Fragment,{children:c}),t[0]=c,t[1]=d):d=t[1],d}var o=n(32106);function l(e){const t=(0,a.c)(3),{feature:n}=e,l=n;let u;if(t[0]!==l||t[1]!==e){const n={...l,...l.__jbrowsefmt},{start:a,end:m}=n,f={...n,length:(0,r.toLocale)(m-a)},h={description:"Description",name:"Name",length:"Length",type:"Type"};u=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{name:"Position",value:(0,i.jsx)(s,{...e,feature:n})}),Object.entries(h).map((e=>{const[t,n]=e;return[n,f[t]]})).filter(d).map(c)]}),t[0]=l,t[1]=e,t[2]=u}else u=t[2];return u}function c(e){const[t,n]=e;return(0,i.jsx)(o.A,{name:t,value:n},t)}function d(e){const[,t]=e;return null!=t}},84144:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(67758),r=n(57468),i=n(61282),s=n(41450),o=n(1178),l=n(7552),c=n(15897),d=n(91818),u=n(69092),m=n(89870),f=n(68446),h=n(75785),p=n(67112),g=n(99546),b=n(69500);const x=(0,l.lazy)((()=>n.e(7428).then(n.bind(n,27428)))),j=(0,l.lazy)((()=>n.e(8624).then(n.bind(n,38624)))),y=(0,h.n9)()((e=>({formControl:{margin:0},container:{marginTop:e.spacing(4),marginBottom:e.spacing(4)}}))),v=(0,f.observer)((function({model:e,feature:t}){const{classes:n}=y(),[a,r]=(0,l.useState)(!1);return(0,b.jsxs)("div",{className:n.container,children:[(0,b.jsx)(d.A,{className:n.formControl,children:(0,b.jsx)(u.A,{variant:"contained",onClick:()=>{r(!a)},children:a?"Hide feature sequence":"Show feature sequence"})}),(0,b.jsx)(m.A,{onClick:()=>{(0,g.getSession)(e).queueDialog((e=>[j,{handleClose:e}]))},children:(0,b.jsx)(c.A,{})}),a?(0,b.jsx)(l.Suspense,{fallback:(0,b.jsx)(p.LoadingEllipses,{}),children:(0,b.jsx)(x,{model:e,feature:t},t.uniqueId)}):null]})}));var C=n(35300),A=n(87083),S=n(62568);const q=["name","start","end","strand","refName","description","type"];function w(e){const t=(0,a.c)(41),{omit:n,model:l,feature:c,depth:d}=e;let u;t[0]!==n?(u=void 0===n?[]:n,t[0]=n,t[1]=u):u=t[1];const m=u,f=void 0===d?0:d,{maxDepth:h}=l,{mate:p,name:x,id:j,type:y,subfeatures:P,uniqueId:R}=c,T=void 0===x?"":x,N=void 0===j?"":j,M=void 0===y?"":y;let O;if(t[2]!==c||t[3]!==l){const e=(0,g.getEnv)(l).pluginManager,n=(0,g.getSession)(l);O=e.evaluateExtensionPoint("Core-extraFeaturePanel",null,{session:n,feature:c,model:l}),t[2]=c,t[3]=l,t[4]=O}else O=t[4];const F=O,Q=p;let _,B,E,I,D,L,$,G,H,X,z;return t[5]!==N||t[6]!==T||t[7]!==M?(_=(0,o.KS)(T,N,M),t[5]=N,t[6]=T,t[7]=M,t[8]=_):_=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(B=(0,b.jsx)(i.A,{children:"Core details"}),t[9]=B):B=t[9],t[10]!==e?(E=(0,b.jsx)(S.A,{...e}),t[10]=e,t[11]=E):E=t[11],t[12]!==Q||t[13]!==e||t[14]!==R?(I=Q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.A,{}),(0,b.jsx)(i.A,{children:"Mate details"}),(0,b.jsx)(S.A,{...e,feature:{...Q,start:Q.start,end:Q.end,refName:Q.refName,uniqueId:`${R}-mate`}})]}):null,t[12]=Q,t[13]=e,t[14]=R,t[15]=I):I=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(D=(0,b.jsx)(s.A,{}),L=(0,b.jsx)(i.A,{children:"Attributes"}),t[16]=D,t[17]=L):(D=t[16],L=t[17]),t[18]!==c||t[19]!==m||t[20]!==e?($=(0,b.jsx)(C.default,{attributes:c,...e,omit:m,omitSingleLevel:q}),t[18]=c,t[19]=m,t[20]=e,t[21]=$):$=t[21],t[22]!==e?(G=(0,b.jsx)(r.t,{FallbackComponent:k,children:(0,b.jsx)(v,{...e})}),t[22]=e,t[23]=G):G=t[23],t[24]!==F||t[25]!==e?(H=F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.A,{}),(0,b.jsx)(A.default,{title:F.name,children:(0,b.jsx)(F.Component,{...e})})]}):null,t[24]=F,t[25]=e,t[26]=H):H=t[26],t[27]!==f||t[28]!==h||t[29]!==l||t[30]!==P||t[31]!==R?(X=f<h&&P?.length?(0,b.jsx)(A.default,{title:"Subfeatures",defaultExpanded:f<1,children:P.map(((e,t)=>(0,b.jsx)(w,{feature:{...e,uniqueId:`${R}_${t}`},model:l,depth:f+1},JSON.stringify(e))))}):null,t[27]=f,t[28]=h,t[29]=l,t[30]=P,t[31]=R,t[32]=X):X=t[32],t[33]!==I||t[34]!==$||t[35]!==G||t[36]!==H||t[37]!==X||t[38]!==_||t[39]!==E?(z=(0,b.jsxs)(A.default,{title:_,children:[B,E,I,D,L,$,G,H,X]}),t[33]=I,t[34]=$,t[35]=G,t[36]=H,t[37]=X,t[38]=_,t[39]=E,t[40]=z):z=t[40],z}function k(e){return(0,b.jsx)(p.ErrorMessage,{error:e.error})}},87083:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(67758),r=n(48759),i=n(61282),s=n(75068),o=n(3032),l=n(76386),c=n(75785),d=n(69500);const u=(0,c.n9)()((e=>({expansionPanelDetails:{display:"block",padding:e.spacing(1)},icon:{color:e.palette.tertiary.contrastText||"#fff"}})));function m(e){const t=(0,a.c)(14),{children:n,title:c,defaultExpanded:m}=e,f=void 0===m||m,{classes:h}=u();let p,g,b,x,j;return t[0]!==h.icon?(p=(0,d.jsx)(r.A,{className:h.icon}),t[0]=h.icon,t[1]=p):p=t[1],t[2]!==c?(g=(0,d.jsx)(i.A,{variant:"button",children:c}),t[2]=c,t[3]=g):g=t[3],t[4]!==p||t[5]!==g?(b=(0,d.jsx)(s.A,{expandIcon:p,children:g}),t[4]=p,t[5]=g,t[6]=b):b=t[6],t[7]!==n||t[8]!==h.expansionPanelDetails?(x=(0,d.jsx)(o.A,{className:h.expansionPanelDetails,children:n}),t[7]=n,t[8]=h.expansionPanelDetails,t[9]=x):x=t[9],t[10]!==f||t[11]!==b||t[12]!==x?(j=(0,d.jsxs)(l.A,{defaultExpanded:f,children:[b,x]}),t[10]=f,t[11]=b,t[12]=x,t[13]=j):j=t[13],j}}}]);
//# sourceMappingURL=5132.c906fb3b.chunk.js.map