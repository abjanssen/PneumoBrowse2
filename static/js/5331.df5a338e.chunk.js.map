{"version":3,"file":"static/js/5331.df5a338e.chunk.js","mappings":"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","sources":["../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/ShoppingCart.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/HierarchicalFab.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HamburgerMenu.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/DropdownTrackSelector.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/FavoriteTracks.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/RecentlyUsedTracks.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HierarchicalHeader.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/util.ts","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackCategory.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackLabel.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackListNode.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HierarchicalTree.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/HierarchicalTrackSelector.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackLabelMenu.tsx"],"sourcesContent":["import CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport { getEnv, getSession } from '@jbrowse/core/util'\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart'\nimport { Badge } from '@mui/material'\nimport { observer } from 'mobx-react'\n\nimport type { AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport type { MenuItem } from '@jbrowse/core/ui/Menu'\n\nconst ShoppingCart = observer(function ({\n  model,\n}: {\n  model: {\n    clearSelection: () => void\n    selection: AnyConfigurationModel[]\n  }\n}) {\n  const session = getSession(model)\n  const { selection } = model\n  const { pluginManager } = getEnv(model)\n  const { adminMode, sessionTracks } = session\n  const s = new Set<string>(sessionTracks?.map(t => t.trackId))\n  const canEdit = (t: string) => adminMode || s.has(t)\n  const items = pluginManager.evaluateExtensionPoint(\n    'TrackSelector-multiTrackMenuItems',\n    [],\n    { session },\n  ) as MenuItem[]\n\n  return selection.length ? (\n    <CascadingMenuButton\n      menuItems={[\n        {\n          label: 'Clear selection',\n          onClick: () => {\n            model.clearSelection()\n          },\n        },\n        ...(selection.every(elt => canEdit(elt.trackId))\n          ? [\n              {\n                label: 'Delete tracks',\n                onClick: () => {\n                  for (const s of selection) {\n                    // @ts-expect-error\n                    session.deleteTrackConf?.(s)\n                  }\n                },\n              },\n            ]\n          : []),\n\n        ...items.map(item => ({\n          ...item,\n          ...('onClick' in item\n            ? {\n                onClick: () => {\n                  item.onClick(model)\n                },\n              }\n            : {}),\n        })),\n      ]}\n    >\n      <Badge badgeContent={selection.length} color=\"primary\">\n        <ShoppingCartIcon />\n      </Badge>\n    </CascadingMenuButton>\n  ) : null\n})\n\nexport default ShoppingCart\n","import { useState } from 'react'\n\nimport {\n  getSession,\n  isSessionModelWithConnections,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport AddIcon from '@mui/icons-material/Add'\nimport { Fab, Menu, MenuItem } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport type { HierarchicalTrackSelectorModel } from '../model'\n\nconst useStyles = makeStyles()(theme => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(6),\n    right: theme.spacing(6),\n  },\n}))\n\nconst HierarchicalFab = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const session = getSession(model)\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null)\n\n  function handleFabClose() {\n    setAnchorEl(null)\n  }\n  const hasConnections = isSessionModelWithConnections(session)\n  const hasAddTrack = isSessionWithAddTracks(session)\n  return hasAddTrack || hasConnections ? (\n    <>\n      <Fab\n        color=\"secondary\"\n        className={classes.fab}\n        onClick={event => {\n          setAnchorEl(event.currentTarget)\n        }}\n      >\n        <AddIcon />\n      </Fab>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={() => {\n          setAnchorEl(null)\n        }}\n      >\n        {hasConnections ? (\n          <MenuItem\n            onClick={() => {\n              handleFabClose()\n              if (isSessionModelWithWidgets(session)) {\n                session.showWidget(\n                  session.addWidget(\n                    'AddConnectionWidget',\n                    'addConnectionWidget',\n                  ),\n                )\n              }\n            }}\n          >\n            Add connection\n          </MenuItem>\n        ) : null}\n        {hasAddTrack ? (\n          <MenuItem\n            onClick={() => {\n              handleFabClose()\n              if (isSessionModelWithWidgets(session)) {\n                session.showWidget(\n                  session.addWidget('AddTrackWidget', 'addTrackWidget', {\n                    view: model.view.id,\n                  }),\n                )\n              }\n            }}\n          >\n            Add track\n          </MenuItem>\n        ) : null}\n      </Menu>\n    </>\n  ) : null\n})\n\nexport default HierarchicalFab\n","import { Suspense, lazy, useState } from 'react'\n\nimport { readConfObject } from '@jbrowse/core/configuration'\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport {\n  getSession,\n  isSessionModelWithConnectionEditing,\n  isSessionModelWithConnections,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport MenuIcon from '@mui/icons-material/Menu'\nimport { observer } from 'mobx-react'\n\nimport type { HierarchicalTrackSelectorModel } from '../../model'\nimport type { AnyConfigurationModel } from '@jbrowse/core/configuration'\n\n// lazies\nconst FacetedDialog = lazy(() => import('../faceted/FacetedDialog'))\n\n// lazy components\nconst CloseConnectionDialog = lazy(\n  () => import('../dialogs/CloseConnectionDialog'),\n)\nconst DeleteConnectionDialog = lazy(\n  () => import('../dialogs/DeleteConnectionDialog'),\n)\nconst ManageConnectionsDialog = lazy(\n  () => import('../dialogs/ManageConnectionsDialog'),\n)\nconst ToggleConnectionsDialog = lazy(\n  () => import('../dialogs/ToggleConnectionsDialog'),\n)\n\ninterface ModalArgs {\n  connectionConf: AnyConfigurationModel\n  safelyBreakConnection: () => void\n  dereferenceTypeCount: Record<string, number>\n  name: string\n}\n\ninterface DialogDetails {\n  name: string\n  connectionConf: AnyConfigurationModel\n}\n\nconst HamburgerMenu = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const session = getSession(model)\n  const [modalInfo, setModalInfo] = useState<ModalArgs>()\n  const [deleteDialogDetails, setDeleteDialogDetails] =\n    useState<DialogDetails>()\n  const [connectionToggleOpen, setConnectionToggleOpen] = useState(false)\n  const [connectionManagerOpen, setConnectionManagerOpen] = useState(false)\n  const [facetedOpen, setFacetedOpen] = useState(false)\n\n  function breakConnection(\n    connectionConf: AnyConfigurationModel,\n    deletingConnection?: boolean,\n  ) {\n    const name = readConfObject(connectionConf, 'name')\n    const result = session.prepareToBreakConnection?.(connectionConf)\n    if (result) {\n      const [safelyBreakConnection, dereferenceTypeCount] = result\n      if (Object.keys(dereferenceTypeCount).length > 0) {\n        setModalInfo({\n          connectionConf,\n          safelyBreakConnection,\n          dereferenceTypeCount,\n          name,\n        })\n      } else {\n        safelyBreakConnection()\n      }\n    }\n    if (deletingConnection) {\n      setDeleteDialogDetails({ name, connectionConf })\n    }\n  }\n\n  return (\n    <>\n      <CascadingMenuButton\n        menuItems={[\n          {\n            label: 'Open faceted track selector',\n            onClick: () => {\n              setFacetedOpen(true)\n            },\n          },\n          ...(isSessionWithAddTracks(session)\n            ? [\n                {\n                  label: 'Add track...',\n                  onClick: () => {\n                    if (isSessionModelWithWidgets(session)) {\n                      session.showWidget(\n                        session.addWidget('AddTrackWidget', 'addTrackWidget', {\n                          view: model.view.id,\n                        }),\n                      )\n                    }\n                  },\n                },\n              ]\n            : []),\n          {\n            label: 'Connections...',\n            subMenu: [\n              ...(isSessionModelWithConnections(session)\n                ? [\n                    {\n                      label: 'Turn on/off connections...',\n                      onClick: () => {\n                        setConnectionToggleOpen(true)\n                      },\n                    },\n                  ]\n                : []),\n              ...(isSessionModelWithConnectionEditing(session)\n                ? [\n                    {\n                      label: 'Add connection...',\n                      onClick: () => {\n                        if (isSessionModelWithWidgets(session)) {\n                          session.showWidget(\n                            session.addWidget(\n                              'AddConnectionWidget',\n                              'addConnectionWidget',\n                            ),\n                          )\n                        }\n                      },\n                    },\n                    {\n                      label: 'Delete connections...',\n                      onClick: () => {\n                        setConnectionManagerOpen(true)\n                      },\n                    },\n                  ]\n                : []),\n            ],\n          },\n          {\n            label: 'Sort...',\n            type: 'subMenu',\n            subMenu: [\n              {\n                label: 'Sort tracks by name',\n                type: 'checkbox',\n                checked: model.activeSortTrackNames,\n                onClick: () => {\n                  model.setSortTrackNames(!model.activeSortTrackNames)\n                },\n              },\n              {\n                label: 'Sort categories by name',\n                type: 'checkbox',\n                checked: model.activeSortCategories,\n                onClick: () => {\n                  model.setSortCategories(!model.activeSortCategories)\n                },\n              },\n            ],\n          },\n          {\n            label: 'Collapse...',\n            type: 'subMenu',\n            subMenu: [\n              ...(model.hasAnySubcategories\n                ? [\n                    {\n                      label: 'Collapse subcategories',\n                      onClick: () => {\n                        model.collapseSubCategories()\n                      },\n                    },\n                  ]\n                : []),\n              {\n                label: 'Collapse top-level categories',\n                onClick: () => {\n                  model.collapseTopLevelCategories()\n                },\n              },\n              {\n                label: 'Expand all categories',\n                onClick: () => {\n                  model.expandAllCategories()\n                },\n              },\n            ],\n          },\n        ]}\n      >\n        <MenuIcon />\n      </CascadingMenuButton>\n      <Suspense fallback={null}>\n        {modalInfo ? (\n          <CloseConnectionDialog\n            modalInfo={modalInfo}\n            onClose={() => {\n              setModalInfo(undefined)\n            }}\n          />\n        ) : null}\n        {deleteDialogDetails ? (\n          <DeleteConnectionDialog\n            handleClose={() => {\n              setDeleteDialogDetails(undefined)\n            }}\n            deleteDialogDetails={deleteDialogDetails}\n            session={session}\n          />\n        ) : null}\n        {connectionManagerOpen ? (\n          <ManageConnectionsDialog\n            handleClose={() => {\n              setConnectionManagerOpen(false)\n            }}\n            breakConnection={breakConnection}\n            session={session}\n          />\n        ) : null}\n        {connectionToggleOpen ? (\n          <ToggleConnectionsDialog\n            handleClose={() => {\n              setConnectionToggleOpen(false)\n            }}\n            session={session}\n            breakConnection={breakConnection}\n          />\n        ) : null}\n\n        {facetedOpen ? (\n          <FacetedDialog\n            handleClose={() => {\n              setFacetedOpen(false)\n            }}\n            model={model}\n          />\n        ) : null}\n      </Suspense>\n    </>\n  )\n})\n\nexport default HamburgerMenu\n","import { useState } from 'react'\n\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport SanitizedHTML from '@jbrowse/core/ui/SanitizedHTML'\nimport { getSession } from '@jbrowse/core/util'\nimport { getTrackName } from '@jbrowse/core/util/tracks'\nimport { observer } from 'mobx-react'\n\nimport TrackLabelMenu from './TrackLabelMenu'\n\nimport type { HierarchicalTrackSelectorModel } from '../../model'\nimport type { AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport type { MenuItem } from '@jbrowse/core/ui/Menu'\n\nconst DropdownTrackSelector = observer(function ({\n  model,\n  tracks,\n  extraMenuItems,\n  children,\n  onClick,\n}: {\n  model: HierarchicalTrackSelectorModel\n  tracks: AnyConfigurationModel[]\n  extraMenuItems: MenuItem[]\n  onClick?: () => void\n  children: React.ReactElement\n}) {\n  const { view } = model\n  const [open, setOpen] = useState(false)\n  const session = getSession(model)\n  return view ? (\n    <CascadingMenuButton\n      closeAfterItemClick={false}\n      onClick={onClick}\n      menuItems={[\n        ...tracks.map(t => ({\n          type: 'checkbox' as const,\n          label: (\n            <>\n              <SanitizedHTML html={getTrackName(t, session)} />{' '}\n              <TrackLabelMenu\n                id={t.trackId}\n                trackId={t.trackId}\n                model={model}\n                conf={t}\n                setOpen={setOpen}\n                stopPropagation\n              />\n            </>\n          ),\n          checked: view.tracks.some(\n            (f: { configuration: AnyConfigurationModel }) =>\n              f.configuration === t,\n          ),\n          onClick: () => {\n            if (!open) {\n              if (model.view.toggleTrack(t.trackId)) {\n                model.addToRecentlyUsed(t.trackId)\n              }\n            }\n          },\n        })),\n        ...extraMenuItems,\n      ]}\n    >\n      {children}\n    </CascadingMenuButton>\n  ) : null\n})\n\nexport default DropdownTrackSelector\n","import GradeIcon from '@mui/icons-material/Grade'\nimport { Badge, Tooltip } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport DropdownTrackSelector from './DropdownTrackSelector'\n\nimport type { HierarchicalTrackSelectorModel } from '../../model'\n\nconst useStyles = makeStyles()({\n  smallBadge: {\n    height: 14,\n  },\n  margin: {\n    marginRight: 10,\n  },\n})\nconst FavoriteTracks = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const { view, favoriteTracks } = model\n  return view ? (\n    <DropdownTrackSelector\n      onClick={() => {\n        model.setFavoritesCounter(0)\n      }}\n      tracks={favoriteTracks}\n      model={model}\n      extraMenuItems={\n        favoriteTracks.length\n          ? [\n              { type: 'divider' as const },\n              {\n                label: 'Clear favorites',\n                onClick: () => {\n                  model.clearFavorites()\n                },\n              },\n            ]\n          : [\n              {\n                label: 'No favorite tracks yet',\n                onClick: () => {},\n              },\n            ]\n      }\n    >\n      <Tooltip title=\"Favorite tracks\">\n        <Badge\n          classes={{ badge: classes.smallBadge }}\n          color=\"secondary\"\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          className={classes.margin}\n          badgeContent={model.favoritesCounter}\n        >\n          <GradeIcon />\n        </Badge>\n      </Tooltip>\n    </DropdownTrackSelector>\n  ) : null\n})\n\nexport default FavoriteTracks\n","import HistoryIcon from '@mui/icons-material/History'\nimport { Badge, Tooltip } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport DropdownTrackSelector from './DropdownTrackSelector'\n\nimport type { HierarchicalTrackSelectorModel } from '../../model'\n\nconst useStyles = makeStyles()({\n  smallBadge: {\n    height: 14,\n  },\n})\n\nconst RecentlyUsedTracks = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const { view, recentlyUsedCounter, recentlyUsedTracks } = model\n  return view ? (\n    <DropdownTrackSelector\n      onClick={() => {\n        model.setRecentlyUsedCounter(0)\n      }}\n      model={model}\n      tracks={recentlyUsedTracks}\n      extraMenuItems={\n        recentlyUsedTracks.length\n          ? [\n              { type: 'divider' as const },\n              {\n                label: 'Clear recently used',\n                onClick: () => {\n                  model.clearRecentlyUsed()\n                },\n              },\n            ]\n          : [\n              {\n                label: 'No recently used',\n                onClick: () => {},\n              },\n            ]\n      }\n    >\n      <Tooltip title=\"Recently used tracks\">\n        <Badge\n          classes={{ badge: classes.smallBadge }}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          color=\"secondary\"\n          badgeContent={recentlyUsedCounter}\n        >\n          <HistoryIcon />\n        </Badge>\n      </Tooltip>\n    </DropdownTrackSelector>\n  ) : null\n})\n\nexport default RecentlyUsedTracks\n","import ClearIcon from '@mui/icons-material/Clear'\nimport { IconButton, InputAdornment, TextField } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport HamburgerMenu from './HamburgerMenu'\nimport ShoppingCart from '../ShoppingCart'\nimport FavoriteTracks from './FavoriteTracks'\nimport RecentlyUsedTracks from './RecentlyUsedTracks'\n\nimport type { HierarchicalTrackSelectorModel } from '../../model'\n\nconst useStyles = makeStyles()(theme => ({\n  searchBox: {\n    margin: theme.spacing(2),\n  },\n}))\n\nconst SearchTracksTextField = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { filterText } = model\n  const { classes } = useStyles()\n  return (\n    <TextField\n      className={classes.searchBox}\n      label=\"Filter tracks\"\n      value={filterText}\n      onChange={event => {\n        model.setFilterText(event.target.value)\n      }}\n      fullWidth\n      slotProps={{\n        input: {\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <IconButton\n                onClick={() => {\n                  model.clearFilterText()\n                }}\n              >\n                <ClearIcon />\n              </IconButton>\n            </InputAdornment>\n          ),\n        },\n      }}\n    />\n  )\n})\n\nconst HierarchicalTrackSelectorHeader = observer(function ({\n  model,\n  setHeaderHeight,\n}: {\n  model: HierarchicalTrackSelectorModel\n  setHeaderHeight: (n: number) => void\n}) {\n  return (\n    <div\n      ref={ref => {\n        setHeaderHeight(ref?.getBoundingClientRect().height || 0)\n      }}\n      data-testid=\"hierarchical_track_selector\"\n    >\n      <div style={{ display: 'flex' }}>\n        <HamburgerMenu model={model} />\n        <ShoppingCart model={model} />\n        <SearchTracksTextField model={model} />\n        <RecentlyUsedTracks model={model} />\n        <FavoriteTracks model={model} />\n      </div>\n    </div>\n  )\n})\n\nexport default HierarchicalTrackSelectorHeader\n","import type { TreeNode } from '../generateHierarchy'\nimport type { HierarchicalTrackSelectorModel } from '../model'\nimport type { AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport type { MenuItem } from '@jbrowse/core/ui'\n\nexport interface NodeData {\n  nestingLevel: number\n  checked: boolean\n  conf: AnyConfigurationModel\n  drawerPosition: unknown\n  id: string\n  trackId: string\n  isLeaf: boolean\n  name: string\n  onChange: (trackId: string) => void\n  toggleCollapse: (arg: string) => void\n  tree: TreeNode\n  selected: boolean\n  menuItems?: MenuItem[]\n  model: HierarchicalTrackSelectorModel\n}\n\nexport function getAllChildren(subtree?: TreeNode): AnyConfigurationModel[] {\n  return subtree?.type === 'category'\n    ? subtree.children.flatMap(t =>\n        t.type === 'category' ? getAllChildren(t) : t.conf,\n      )\n    : []\n}\n\nexport function treeToMap(tree: TreeNode, map = new Map<string, TreeNode>()) {\n  if (tree.id && tree.children.length) {\n    map.set(tree.id, tree)\n  }\n  for (const node of tree.children) {\n    treeToMap(node, map)\n  }\n  return map\n}\n\nexport function isUnsupported(name = '') {\n  return name.endsWith('(Unsupported)') || name.endsWith('(Unknown)')\n}\n","import { useState } from 'react'\n\nimport { CascadingMenuButton } from '@jbrowse/core/ui'\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown'\nimport ArrowRightIcon from '@mui/icons-material/ArrowRight'\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz'\nimport { Typography } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\n\nimport { getAllChildren, treeToMap } from '../util'\n\nimport type { TreeNode } from '../../generateHierarchy'\nimport type { NodeData } from '../util'\n\nfunction getAllSubcategories(node: TreeNode): string[] {\n  const categoryIds: string[] = []\n  if (node.type === 'category') {\n    for (const child of node.children) {\n      if (child.type === 'category') {\n        categoryIds.push(child.id, ...getAllSubcategories(child))\n      }\n    }\n  }\n  return categoryIds\n}\n\nconst useStyles = makeStyles()(theme => ({\n  contrastColor: {\n    color: theme.palette.tertiary.contrastText,\n  },\n\n  // margin:auto 0 to center text vertically\n  accordionText: {\n    margin: 'auto 0',\n    // width 100 so you can click anywhere on the category bar\n    width: '100%',\n  },\n}))\n\nexport default function Category({\n  isOpen,\n  setOpen,\n  data,\n}: {\n  isOpen: boolean\n  setOpen: (arg: boolean) => void\n  data: NodeData\n}) {\n  const { classes } = useStyles()\n  const [menuOpen, setMenuOpen] = useState(false)\n  const { menuItems = [], name, model, id, tree } = data\n\n  const currentNode = treeToMap(tree).get(id)\n  const subcategoryIds = currentNode ? getAllSubcategories(currentNode) : []\n  const hasSubcategories = subcategoryIds.length > 0\n\n  return (\n    <div\n      className={classes.accordionText}\n      onClick={() => {\n        if (!menuOpen) {\n          data.toggleCollapse(id)\n          setOpen(!isOpen)\n        }\n      }}\n    >\n      <Typography data-testid={`htsCategory-${name}`}>\n        {isOpen ? <ArrowDropDownIcon /> : <ArrowRightIcon />}\n        {name}\n        <CascadingMenuButton\n          menuItems={[\n            {\n              label: 'Add to selection',\n              onClick: () => {\n                const r = treeToMap(tree).get(id)\n                model.addToSelection(getAllChildren(r))\n              },\n              helpText:\n                'Add all tracks in this category to the current selection. This allows you to perform bulk operations on multiple tracks at once, such as configuring settings or exporting track configurations.',\n            },\n            {\n              label: 'Remove from selection',\n              onClick: () => {\n                const r = treeToMap(tree).get(id)\n                model.removeFromSelection(getAllChildren(r))\n              },\n              helpText:\n                'Remove all tracks in this category from the current selection. Use this to deselect tracks that were previously added to your selection.',\n            },\n            {\n              label: 'Show all',\n              onClick: () => {\n                for (const entry of treeToMap(tree).get(id)?.children || []) {\n                  if (entry.type === 'track') {\n                    model.view.showTrack(entry.trackId)\n                  }\n                }\n              },\n              helpText:\n                'Display all tracks in this category on the current view. This is useful when you want to visualize multiple related tracks simultaneously to compare their data.',\n            },\n            {\n              label: 'Hide all',\n              onClick: () => {\n                for (const entry of treeToMap(tree).get(id)?.children || []) {\n                  if (entry.type === 'track') {\n                    model.view.hideTrack(entry.trackId)\n                  }\n                }\n              },\n              helpText:\n                'Hide all tracks in this category from the current view. This helps declutter your view by removing tracks you are not currently analyzing.',\n            },\n            ...(hasSubcategories\n              ? [\n                  {\n                    label: 'Collapse all subcategories',\n                    onClick: () => {\n                      for (const subcategoryId of subcategoryIds) {\n                        // Only collapse if currently open\n                        if (!model.collapsed.get(subcategoryId)) {\n                          model.toggleCategory(subcategoryId)\n                        }\n                      }\n                    },\n                    helpText:\n                      'Collapse all nested subcategories within this category. This provides a cleaner, more compact view of the track hierarchy by hiding the detailed contents of subcategories.',\n                  },\n                  {\n                    label: 'Expand all subcategories',\n                    onClick: () => {\n                      for (const subcategoryId of subcategoryIds) {\n                        // Only expand if currently collapsed\n                        if (model.collapsed.get(subcategoryId)) {\n                          model.toggleCategory(subcategoryId)\n                        }\n                      }\n                    },\n                    helpText:\n                      'Expand all nested subcategories within this category. This reveals all tracks and subcategories at once, making it easier to browse and select tracks from the entire hierarchy.',\n                  },\n                ]\n              : []),\n            ...menuItems,\n          ]}\n          className={classes.contrastColor}\n          stopPropagation\n          setOpen={setMenuOpen}\n        >\n          <MoreHorizIcon />\n        </CascadingMenuButton>\n      </Typography>\n    </div>\n  )\n}\n","import { readConfObject } from '@jbrowse/core/configuration'\nimport SanitizedHTML from '@jbrowse/core/ui/SanitizedHTML'\nimport { Checkbox, FormControlLabel, Tooltip } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\n\nimport { isUnsupported } from '../util'\nimport TrackLabelMenu from './TrackLabelMenu'\n\nimport type { NodeData } from '../util'\nimport type { AnyConfigurationModel } from '@jbrowse/core/configuration'\n\nconst useStyles = makeStyles()(theme => ({\n  compactCheckbox: {\n    padding: 0,\n  },\n\n  checkboxLabel: {\n    marginRight: 0,\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected,\n    },\n  },\n  selected: {\n    background: '#cccc',\n  },\n}))\n\nexport interface InfoArgs {\n  target: HTMLElement\n  id: string\n  conf: AnyConfigurationModel\n}\n\nexport default function TrackLabel({ data }: { data: NodeData }) {\n  const { classes } = useStyles()\n  const {\n    checked,\n    conf,\n    model,\n    drawerPosition,\n    id,\n    trackId,\n    name,\n    selected,\n    onChange,\n  } = data\n  const description = readConfObject(conf, 'description')\n  return (\n    <>\n      <Tooltip\n        title={description + (selected ? ' (in selection)' : '')}\n        placement={drawerPosition === 'left' ? 'right' : 'left'}\n      >\n        <FormControlLabel\n          className={classes.checkboxLabel}\n          onClick={event => {\n            if (event.ctrlKey || event.metaKey) {\n              if (selected) {\n                model.removeFromSelection([conf])\n              } else {\n                model.addToSelection([conf])\n              }\n              event.preventDefault()\n            }\n          }}\n          control={\n            <Checkbox\n              className={classes.compactCheckbox}\n              checked={checked}\n              onChange={() => {\n                onChange(trackId)\n              }}\n              disabled={isUnsupported(name)}\n              slotProps={{\n                input: {\n                  // @ts-expect-error\n                  'data-testid': `htsTrackEntry-${id}`,\n                },\n              }}\n            />\n          }\n          label={\n            <div\n              data-testid={`htsTrackLabel-${id}`}\n              className={selected ? classes.selected : undefined}\n            >\n              <SanitizedHTML html={name} />\n            </div>\n          }\n        />\n      </Tooltip>\n      <TrackLabelMenu model={model} trackId={trackId} id={id} conf={conf} />\n    </>\n  )\n}\n","import { makeStyles } from 'tss-react/mui'\n\nimport Category from './TrackCategory'\nimport TrackLabel from './TrackLabel'\n\nimport type { NodeData } from '../util'\n\nconst useStyles = makeStyles()(theme => ({\n  // this accordionBase element's small padding is used to give a margin to\n  // accordionColor it a \"margin\" because the virtualized elements can't really\n  // use margin in a conventional way (it doesn't affect layout)\n  accordionBase: {\n    display: 'flex',\n  },\n\n  accordionCard: {\n    padding: 3,\n    cursor: 'pointer',\n    display: 'flex',\n  },\n\n  nestingLevelMarker: {\n    position: 'absolute',\n    borderLeft: '1.5px solid #555',\n  },\n  // accordionColor set's display:flex so that the child accordionText use\n  // vertically centered text\n  accordionColor: {\n    background: theme.palette.tertiary.main,\n    color: theme.palette.tertiary.contrastText,\n    width: '100%',\n    display: 'flex',\n    paddingLeft: 5,\n  },\n}))\n\n// An individual node in the track selector. Note: manually sets cursor:\n// pointer improves usability for what can be clicked\nexport default function Node({\n  data,\n  isOpen,\n  style,\n  setOpen,\n}: {\n  data: NodeData\n  isOpen: boolean\n  style?: { height: number }\n  setOpen: (arg: boolean) => void\n}) {\n  const { isLeaf, nestingLevel } = data\n\n  const { classes } = useStyles()\n  const width = 10\n  const marginLeft = nestingLevel * width + (isLeaf ? width : 0)\n\n  return (\n    <div style={style} className={!isLeaf ? classes.accordionBase : undefined}>\n      {new Array(nestingLevel).fill(0).map((_, idx) => (\n        <div\n          /* biome-ignore lint/suspicious/noArrayIndexKey: */\n          key={`mark-${idx}`}\n          style={{ left: idx * width + 4, height: style?.height }}\n          className={classes.nestingLevelMarker}\n        />\n      ))}\n      <div\n        className={!isLeaf ? classes.accordionCard : undefined}\n        style={{\n          marginLeft,\n          whiteSpace: 'nowrap',\n          width: '100%',\n        }}\n      >\n        <div className={!isLeaf ? classes.accordionColor : undefined}>\n          {!isLeaf ? (\n            <Category isOpen={isOpen} data={data} setOpen={setOpen} />\n          ) : (\n            <TrackLabel data={data} />\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useCallback, useEffect, useMemo, useRef } from 'react'\n\nimport { getSession } from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\nimport { VariableSizeTree } from 'react-vtree'\n\nimport Node from './TrackListNode'\n\nimport type { TreeNode } from '../../generateHierarchy'\nimport type { HierarchicalTrackSelectorModel } from '../../model'\n\nfunction getNodeData(\n  node: TreeNode,\n  nestingLevel: number,\n  extra: Record<string, unknown>,\n  selection: Record<string, unknown>,\n) {\n  const isLeaf = node.type === 'track'\n  const selected = isLeaf ? selection[node.trackId] : false\n  return {\n    data: {\n      defaultHeight: isLeaf ? 22 : 40,\n      isLeaf,\n      isOpenByDefault: true,\n      nestingLevel,\n      selected,\n      ...node,\n      ...extra,\n    },\n    nestingLevel,\n    node,\n  }\n}\n\ntype NodeData = ReturnType<typeof getNodeData>\n\n// this is the main tree component for the hierarchical track selector in note:\n// in jbrowse-web the toolbar is position=\"sticky\" which means the autosizer\n// includes the height of the toolbar, so we subtract the given offsets\nconst HierarchicalTree = observer(function HierarchicalTree({\n  height,\n  tree,\n  model,\n}: {\n  height: number\n  tree: TreeNode\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { filterText, selection, view } = model\n  const treeRef = useRef<NodeData>(null)\n  const session = getSession(model)\n  const { drawerPosition } = session\n  const obj = useMemo(\n    () => Object.fromEntries(selection.map(s => [s.trackId, s])),\n    [selection],\n  )\n\n  const extra = useMemo(\n    () => ({\n      onChange: (trackId: string) => {\n        const trackTurnedOn = view.toggleTrack(trackId)\n        if (trackTurnedOn) {\n          model.addToRecentlyUsed(trackId)\n        }\n      },\n      toggleCollapse: (pathName: string) => {\n        model.toggleCategory(pathName)\n      },\n      tree,\n      model,\n      drawerPosition,\n    }),\n    [view, model, drawerPosition, tree],\n  )\n\n  // doing this properly without ts-expect-error is tricky, react-vtree has\n  // some typescript examples that could help\n  const treeWalker = useCallback(\n    // @ts-expect-error\n    function* treeWalker() {\n      for (const child of tree.children) {\n        yield getNodeData(child, 0, extra, obj)\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      while (true) {\n        // @ts-expect-error\n        const parentMeta = yield\n\n        // @ts-expect-error\n        for (const curr of parentMeta.node.children) {\n          yield getNodeData(curr, parentMeta.nestingLevel + 1, extra, obj)\n        }\n      }\n    },\n    [tree, extra, obj],\n  )\n\n  /* biome-ignore lint/correctness/useExhaustiveDependencies: */\n  useEffect(() => {\n    // @ts-expect-error\n    treeRef.current.recomputeTree({\n      refreshNodes: true,\n      useDefaultHeight: true,\n    })\n  }, [tree, filterText])\n  return (\n    <>\n      {/* @ts-expect-error */}\n      <VariableSizeTree ref={treeRef} treeWalker={treeWalker} height={height}>\n        {/* @ts-expect-error */}\n        {Node}\n      </VariableSizeTree>\n    </>\n  )\n})\n\nexport default HierarchicalTree\n","import { useState } from 'react'\n\nimport { observer } from 'mobx-react'\nimport AutoSizer from 'react-virtualized-auto-sizer'\n\nimport HierarchicalFab from './HierarchicalFab'\nimport HierarchicalHeader from './tree/HierarchicalHeader'\nimport HierarchicalTree from './tree/HierarchicalTree'\n\nimport type { TreeNode } from '../generateHierarchy'\nimport type { HierarchicalTrackSelectorModel } from '../model'\n\n// Don't use autosizer in jest and instead hardcode a height, otherwise fails\n// jest tests\nconst AutoSizedHierarchicalTree = ({\n  tree,\n  model,\n  offset,\n}: {\n  tree: TreeNode\n  model: HierarchicalTrackSelectorModel\n  offset: number\n}) => {\n  return typeof jest === 'undefined' ? (\n    <AutoSizer disableWidth>\n      {args => (\n        <HierarchicalTree\n          height={(args.height || offset) - offset}\n          model={model}\n          tree={tree}\n        />\n      )}\n    </AutoSizer>\n  ) : (\n    <HierarchicalTree height={9000} model={model} tree={tree} />\n  )\n}\n\nconst Wrapper = ({\n  overrideDimensions,\n  children,\n}: {\n  overrideDimensions?: { width: number; height: number }\n  children: React.ReactNode\n}) => {\n  return overrideDimensions ? (\n    <div style={{ ...overrideDimensions }}>{children}</div>\n  ) : (\n    children\n  )\n}\nconst HierarchicalTrackSelectorContainer = observer(function ({\n  model,\n  toolbarHeight,\n  overrideDimensions,\n}: {\n  model: HierarchicalTrackSelectorModel\n  toolbarHeight: number\n  overrideDimensions?: { width: number; height: number }\n}) {\n  return (\n    <Wrapper overrideDimensions={overrideDimensions}>\n      <HierarchicalTrackSelector model={model} toolbarHeight={toolbarHeight} />\n      <HierarchicalFab model={model} />\n    </Wrapper>\n  )\n})\n\nconst HierarchicalTrackSelector = observer(function ({\n  model,\n  toolbarHeight = 0,\n}: {\n  model: HierarchicalTrackSelectorModel\n  toolbarHeight?: number\n}) {\n  const [headerHeight, setHeaderHeight] = useState(0)\n  return (\n    <>\n      <HierarchicalHeader model={model} setHeaderHeight={setHeaderHeight} />\n      <AutoSizedHierarchicalTree\n        tree={model.hierarchy}\n        model={model}\n        offset={toolbarHeight + headerHeight}\n      />\n    </>\n  )\n})\n\nexport default HierarchicalTrackSelectorContainer\n","import CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport { getSession } from '@jbrowse/core/util'\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz'\nimport FilledStarIcon from '@mui/icons-material/Star'\nimport StarIcon from '@mui/icons-material/StarBorderOutlined'\nimport { makeStyles } from 'tss-react/mui'\n\nimport type { HierarchicalTrackSelectorModel } from '../../model'\nimport type { AnyConfigurationModel } from '@jbrowse/core/configuration'\n\nconst useStyles = makeStyles()({\n  cascadingStyle: {\n    padding: 0,\n  },\n})\n\nconst TrackLabelMenu = function ({\n  id,\n  trackId,\n  stopPropagation,\n  model,\n  setOpen,\n  conf,\n}: {\n  id: string\n  trackId: string\n  stopPropagation?: boolean\n  conf: AnyConfigurationModel\n  setOpen?: (arg: boolean) => void\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  return (\n    <CascadingMenuButton\n      className={classes.cascadingStyle}\n      stopPropagation={stopPropagation}\n      setOpen={setOpen}\n      data-testid={`htsTrackEntryMenu-${id}`}\n      menuItems={[\n        ...(getSession(model).getTrackActionMenuItems?.(conf) || []),\n        model.isFavorite(trackId)\n          ? {\n              label: 'Remove from favorites',\n              onClick: () => {\n                model.removeFromFavorites(trackId)\n              },\n              icon: StarIcon,\n            }\n          : {\n              label: 'Add to favorites',\n              onClick: () => {\n                model.addToFavorites(trackId)\n              },\n              icon: FilledStarIcon,\n            },\n        {\n          label: 'Add to selection',\n          onClick: () => {\n            model.addToSelection([conf])\n          },\n        },\n        ...(model.isSelected(conf)\n          ? [\n              {\n                label: 'Remove from selection',\n                onClick: () => {\n                  model.removeFromSelection([conf])\n                },\n              },\n            ]\n          : []),\n      ]}\n    >\n      <MoreHorizIcon />\n    </CascadingMenuButton>\n  )\n}\n\nexport default TrackLabelMenu\n"],"names":["observer","model","session","getSession","selection","pluginManager","getEnv","adminMode","sessionTracks","s","Set","map","t","trackId","items","evaluateExtensionPoint","length","_jsx","CascadingMenuButton","menuItems","label","onClick","clearSelection","every","elt","canEdit","has","deleteTrackConf","item","children","Badge","badgeContent","color","ShoppingCartIcon","useStyles","makeStyles","theme","fab","position","bottom","spacing","right","classes","anchorEl","setAnchorEl","useState","handleFabClose","hasConnections","isSessionModelWithConnections","hasAddTrack","isSessionWithAddTracks","_jsxs","_Fragment","Fab","className","event","currentTarget","AddIcon","Menu","open","Boolean","onClose","MenuItem","isSessionModelWithWidgets","showWidget","addWidget","view","id","FacetedDialog","lazy","CloseConnectionDialog","DeleteConnectionDialog","ManageConnectionsDialog","ToggleConnectionsDialog","modalInfo","setModalInfo","deleteDialogDetails","setDeleteDialogDetails","connectionToggleOpen","setConnectionToggleOpen","connectionManagerOpen","setConnectionManagerOpen","facetedOpen","setFacetedOpen","breakConnection","connectionConf","deletingConnection","name","readConfObject","result","prepareToBreakConnection","safelyBreakConnection","dereferenceTypeCount","Object","keys","subMenu","isSessionModelWithConnectionEditing","type","checked","activeSortTrackNames","setSortTrackNames","activeSortCategories","setSortCategories","hasAnySubcategories","collapseSubCategories","collapseTopLevelCategories","expandAllCategories","MenuIcon","Suspense","fallback","undefined","handleClose","tracks","extraMenuItems","setOpen","closeAfterItemClick","SanitizedHTML","html","getTrackName","TrackLabelMenu","conf","stopPropagation","some","f","configuration","toggleTrack","addToRecentlyUsed","smallBadge","height","margin","marginRight","favoriteTracks","DropdownTrackSelector","setFavoritesCounter","clearFavorites","Tooltip","title","badge","anchorOrigin","vertical","horizontal","favoritesCounter","GradeIcon","recentlyUsedCounter","recentlyUsedTracks","setRecentlyUsedCounter","clearRecentlyUsed","HistoryIcon","searchBox","SearchTracksTextField","filterText","TextField","value","onChange","setFilterText","target","fullWidth","slotProps","input","endAdornment","InputAdornment","IconButton","clearFilterText","ClearIcon","setHeaderHeight","ref","getBoundingClientRect","style","display","HamburgerMenu","ShoppingCart","RecentlyUsedTracks","FavoriteTracks","getAllChildren","subtree","flatMap","treeToMap","tree","Map","set","node","getAllSubcategories","categoryIds","child","push","contrastColor","palette","tertiary","contrastText","accordionText","width","Category","t0","$","_c","isOpen","data","menuOpen","setMenuOpen","t1","t2","t3","currentNode","get","subcategoryIds","hasSubcategories","t4","toggleCollapse","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","ArrowDropDownIcon","ArrowRightIcon","r","addToSelection","helpText","r_0","removeFromSelection","entry","showTrack","entry_0","hideTrack","subcategoryId","collapsed","toggleCategory","subcategoryId_0","Symbol","for","MoreHorizIcon","Typography","compactCheckbox","padding","checkboxLabel","backgroundColor","action","selected","background","TrackLabel","drawerPosition","ctrlKey","metaKey","preventDefault","endsWith","isUnsupported","Checkbox","disabled","t17","t18","FormControlLabel","control","placement","accordionBase","accordionCard","cursor","nestingLevelMarker","borderLeft","accordionColor","main","paddingLeft","Node","isLeaf","nestingLevel","marginLeft","_","idx","left","Array","fill","whiteSpace","getNodeData","extra","defaultHeight","isOpenByDefault","treeRef","useRef","obj","useMemo","fromEntries","pathName","treeWalker","useCallback","parentMeta","curr","useEffect","current","recomputeTree","refreshNodes","useDefaultHeight","VariableSizeTree","AutoSizedHierarchicalTree","offset","jest","AutoSizer","disableWidth","args","HierarchicalTree","Wrapper","overrideDimensions","HierarchicalTrackSelectorContainer","toolbarHeight","HierarchicalTrackSelector","HierarchicalFab","headerHeight","HierarchicalHeader","hierarchy","cascadingStyle","isFavorite","removeFromFavorites","icon","StarIcon","addToFavorites","FilledStarIcon","isSelected","getTrackActionMenuItems"],"sourceRoot":""}