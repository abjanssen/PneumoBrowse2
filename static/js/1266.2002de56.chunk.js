"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1266],{91392:(e,t,r)=>{r.d(t,{KM:()=>f,en:()=>p,kb:()=>x,se:()=>g});var n=r(7552),a=r(99546),l=r(95095),o=r(48231),i=r(68446),s=r(36422),c=r(75785),m=r(90257);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(null,arguments)}const d=(0,c.n9)()((()=>({vtext:{gridColumn:"1/2",gridRow:"1/2",pointerEvents:"none",userSelect:"none"},htext:{gridColumn:"2/2",gridRow:"2/2",pointerEvents:"none",userSelect:"none"}}))),f=(0,i.observer)((function({model:e}){const{viewWidth:t,borderY:r}=e,{classes:a}=d();return n.createElement("svg",{width:t,height:r,className:a.htext},n.createElement(g,{model:e}))})),g=(0,i.observer)((function({model:e}){const{viewWidth:t,borderX:r,borderY:i,hview:c,htextRotation:d,hticks:f}=e,{offsetPx:g,width:p,dynamicBlocks:x,bpPerPx:y}=c,u=x.contentBlocks,w=(0,m.rQ)(u,t,g),v=(0,o.A)(),k={...(0,s.getSnapshot)(c),width:p,staticBlocks:c.staticBlocks},P=f.map((e=>[e,(0,l.eB)({refName:e.refName,coord:e.base,self:k})?.offsetPx])).filter((e=>void 0!==e[1])).map((e=>[e[0],e[1]-g]));return n.createElement(n.Fragment,null,u.filter((e=>!w.has(e.key))).map((e=>{const t=e.offsetPx,r=Math.floor(t-c.offsetPx);return n.createElement("text",h({transform:`rotate(${d},${r},0)`,key:JSON.stringify(e),x:r,y:1,fontSize:11,dominantBaseline:"hanging",textAnchor:"end"},(0,a.getFillProps)(v.palette.text.primary)),e.refName)})),P.map((([e,t])=>t>0&&t<p?n.createElement("line",h({key:`line-${JSON.stringify(e)}`,x1:t,x2:t,y1:0,y2:"major"===e.type?6:4,strokeWidth:1},(0,a.getFillProps)(v.palette.text.primary))):null)),P.filter((e=>"major"===e[0].type)).map((([e,t])=>t>10&&t<p?n.createElement("text",h({x:t-7,y:0,transform:`rotate(${d},${t},0)`,key:`text-${JSON.stringify(e)}`,fontSize:11,dominantBaseline:"middle",textAnchor:"end"},(0,a.getFillProps)(v.palette.text.primary)),(0,a.getTickDisplayStr)(e.base+1,y)):null)),n.createElement("text",h({y:i-12,x:(t-r)/2,textAnchor:"middle",fontSize:11,dominantBaseline:"hanging"},(0,a.getFillProps)(v.palette.text.primary)),c.assemblyNames.join(",")))})),p=(0,i.observer)((function({model:e}){const{borderX:t,viewHeight:r}=e,{classes:a}=d();return n.createElement("svg",{className:a.vtext,width:t,height:r},n.createElement(x,{model:e}))})),x=(0,i.observer)((function({model:e}){const{viewHeight:t,borderX:r,borderY:i,vview:c,vtextRotation:d,vticks:f}=e,{offsetPx:g,width:p,dynamicBlocks:x,bpPerPx:y}=c,u=x.contentBlocks,w=(0,m.rQ)(u,t,g),v=(0,o.A)(),k={...(0,s.getSnapshot)(c),width:p,staticBlocks:c.staticBlocks},P=f.map((e=>[e,(0,l.eB)({refName:e.refName,coord:e.base,self:k})?.offsetPx])).filter((e=>void 0!==e[1])).map((e=>[e[0],e[1]-g]));return n.createElement(n.Fragment,null,u.filter((e=>!w.has(e.key))).map((e=>{const l=e.offsetPx,o=r,i=Math.floor(t-l+g);return n.createElement("text",h({transform:`rotate(${d},${o},${l})`,key:JSON.stringify(e),x:o,y:i,fontSize:11,textAnchor:"end"},(0,a.getFillProps)(v.palette.text.primary)),e.refName)})),P.map((([e,l])=>l>0?n.createElement("line",h({key:`line-${JSON.stringify(e)}`,y1:t-l,y2:t-l,x1:r,x2:r-("major"===e.type?6:4),strokeWidth:1},(0,a.getStrokeProps)(v.palette.grey[400]))):null)),P.filter((e=>"major"===e[0].type)).map((([e,l])=>l>10&&l<t?n.createElement("text",h({y:t-l-3,x:r-7,key:`text-${JSON.stringify(e)}`,textAnchor:"end",dominantBaseline:"hanging",fontSize:11},(0,a.getFillProps)(v.palette.text.primary)),(0,a.getTickDisplayStr)(e.base+1,y)):null)),n.createElement("text",h({y:(t-i)/2,x:12,transform:`rotate(-90,12,${(t-i)/2})`,textAnchor:"middle",fontSize:11},(0,a.getFillProps)(v.palette.text.primary)),c.assemblyNames.join(",")))}))},86495:(e,t,r)=>{r.d(t,{A:()=>s,z:()=>i});var n=r(7552),a=r(99546),l=r(48231);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}const i=(0,r(68446).observer)((function({model:e,children:t}){const{viewWidth:r,viewHeight:i,hview:s,vview:c}=e,m=s.dynamicBlocks.contentBlocks,h=c.dynamicBlocks.contentBlocks;if(!m.length||!h.length)return null;const d=s.displayedRegionsTotalPx-s.offsetPx,f=c.displayedRegionsTotalPx-c.offsetPx,g=m[0].offsetPx-s.offsetPx,p=h[0].offsetPx-c.offsetPx,x=(0,l.A)(),y=x.palette.divider,u=Math.max(g,0),w=Math.max(i-f,0),v=Math.min(d-g,r),k=Math.min(i-p-w,i);let P=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY;return n.createElement(n.Fragment,null,n.createElement("rect",o({x:u,y:w,width:v,height:k},(0,a.getFillProps)(x.palette.background.default))),n.createElement("g",null,m.map((e=>{const t=e.offsetPx-s.offsetPx,r=Math.floor(t)!==Math.floor(P);return r&&(P=t),r?n.createElement("line",o({key:JSON.stringify(e),x1:t,y1:0,x2:t,y2:i},(0,a.getStrokeProps)(y))):null})),h.map((e=>{const t=i-(e.offsetPx-c.offsetPx),l=Math.floor(t)!==Math.floor(b);return l&&(b=t),l?n.createElement("line",o({key:JSON.stringify(e),x1:0,y1:t,x2:r,y2:t},(0,a.getStrokeProps)(y))):null})),n.createElement("line",o({x1:d,y1:0,x2:d,y2:i},(0,a.getStrokeProps)(y))),n.createElement("line",o({x1:0,y1:i-f,x2:r,y2:i-f},(0,a.getStrokeProps)(y)))),t)}));function s({model:e,children:t}){const{viewWidth:r,viewHeight:a}=e;return n.createElement("svg",{width:r,height:a,style:{background:"rgba(0,0,0,0.12)"}},n.createElement(i,{model:e},t))}},11266:(e,t,r)=>{r.d(t,{renderToSvg:()=>f});var n=r(7552),a=r(49823),l=r(99546),o=r(20139),i=r(42489),s=r(36422),c=r(48231);function m({width:e,height:t}){const r=(0,c.A)();return n.createElement("rect",{x:0,y:0,width:e,height:t,fill:(0,l.stripAlpha)(r.palette.background.default)})}var h=r(91392),d=r(86495);async function f(e,t){await(0,i.when)((()=>e.initialized));const{themeName:r="default",Wrapper:c=({children:e})=>e}=t,{createRootFn:f}=(0,s.getRoot)(e),g=(0,l.getSession)(e),p=g.allThemes?.()[r],{width:x,borderX:y,viewWidth:u,viewHeight:w,tracks:v,height:k}=e,P=await Promise.all(v.map((async e=>{const r=e.displays[0];return await(0,i.when)((()=>void 0===r.ready||r.ready)),{track:e,result:await r.renderSvg({...t,theme:p})}}))),b=x+100;return(0,l.renderToStaticMarkup)(n.createElement(o.A,{theme:(0,a.createJBrowseTheme)(p)},n.createElement(c,null,n.createElement("svg",{width:x,height:k,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,b,k].toString()},n.createElement(m,{width:b,height:k}),n.createElement(h.kb,{model:e}),n.createElement("g",{transform:`translate(${y} 0)`},n.createElement(d.z,{model:e}),n.createElement("defs",null,n.createElement("clipPath",{id:"clip-ruler"},n.createElement("rect",{x:0,y:0,width:u,height:w}))),n.createElement("g",{clipPath:"url(#clip-ruler)"},P.map((({result:e},t)=>n.createElement("g",{key:t},e))))),n.createElement("g",{transform:`translate(${y} ${w})`},n.createElement(h.se,{model:e}))))),f)}}}]);
//# sourceMappingURL=1266.2002de56.chunk.js.map