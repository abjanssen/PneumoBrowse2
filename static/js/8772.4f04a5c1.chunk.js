"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[8772],{23111(e,t,n){n.d(t,{H_:()=>s,XM:()=>i,bn:()=>r,qW:()=>o,xE:()=>l});var a=n(20208);function s({feature:e,assembly:t}){const n=e.get("ALT")?.[0],s=n?(0,a.An)(n):void 0,r=e.get("start"),i=e.get("refName"),o=e=>t.getCanonicalRefName(e)||e;if("<TRA>"===n){const t=e.get("INFO");return{pos:r,refName:o(i),mateRefName:o(t.CHR2[0]),matePos:t.END[0]-1}}if(s?.MatePosition){const e=s.MatePosition.split(":");return{pos:r,refName:o(i),mateRefName:o(e[0]),matePos:+e[1]-1}}if(e.get("mate")){const t=e.get("mate"),n=e.get("strand"),a=t.strand,s=1===n?e.get("end"):r,l=1===a?t.start:t.end??t.start;return{pos:s,refName:o(i),mateRefName:o(t.refName),matePos:l}}return{pos:r,refName:o(i),mateRefName:o(i),matePos:e.get("end")}}function r(e){return e.map(({id:e,displays:t,...n})=>({...n,displays:t.map(({id:e,...t})=>t)}))}function i(e){return`${e.get("name")||e.get("id")||"breakend"} split detail`}function o(e){return e?.assemblyNames[0]}function l(e,t,n){return[{...e,end:t+1,...void 0!==n&&{assemblyName:n}},{...e,start:t,...void 0!==n&&{assemblyName:n}}]}},78772(e,t,n){n.r(t),n.d(t,{default:()=>p});var a=n(55614),s=n(86551),r=n(23886),i=n(30128),o=n(43102),l=n(23111),d=n(54825),m=n(15731),u=n(44460);const f=(0,i.lazy)(()=>Promise.all([n.e(6740),n.e(6348)]).then(n.bind(n,26348)));function c(e){const t=(0,a.c)(15),{model:n,feature:s}=e;let i;t[0]!==n?(i=(0,r.getSession)(n),t[0]=n,t[1]=i):i=t[1];const c=i;let p;if(t[2]!==s.end||t[3]!==s.id||t[4]!==s.next_pos||t[5]!==s.next_ref||t[6]!==s.refName||t[7]!==s.start||t[8]!==s.strand||t[9]!==s.uniqueId||t[10]!==n.view||t[11]!==c){const e={uniqueId:s.uniqueId,refName:s.refName,start:s.start,end:s.end,strand:s.strand},a={uniqueId:`${s.id}-mate`,refName:s.next_ref,start:s.next_pos,end:s.next_pos+1,strand:s.strand};let i;t[13]!==n.view?(i=(0,l.qW)(n.view),t[13]=n.view,t[14]=i):i=t[14];const N=i;p=N?(0,u.jsxs)("div",{children:[(0,u.jsx)(d.A,{children:"Launch split view"}),(0,u.jsx)("ul",{children:(0,u.jsxs)("li",{children:[e.refName,":",(0,r.toLocale)(e.start)," -> ",a.refName,":",(0,r.toLocale)(a.start)," ",(0,u.jsx)(m.A,{href:"#",onClick:t=>{t.preventDefault(),c.queueDialog(t=>[f,{handleClose:t,session:c,feature:new o.A({...e,mate:a}),view:n.view,assemblyName:N}])},children:"(breakpoint split view)"})]})})]}):null,t[2]=s.end,t[3]=s.id,t[4]=s.next_pos,t[5]=s.next_ref,t[6]=s.refName,t[7]=s.start,t[8]=s.strand,t[9]=s.uniqueId,t[10]=n.view,t[11]=c,t[12]=p}else p=t[12];return p}function p(e){const t=(0,a.c)(7),{model:n,feature:i}=e;let o,l;if(t[0]!==n){const e=(0,r.getSession)(n),{pluginManager:a}=(0,r.getEnv)(e);o=!1;try{o=!!a.getViewType("BreakpointSplitView")}catch(l){}t[0]=n,t[1]=o}else o=t[1];return t[2]!==i||t[3]!==o||t[4]!==n||t[5]!==e?(l=o?(0,u.jsx)(s.default,{...e,title:"Paired alignments",children:(0,u.jsx)(c,{model:n,feature:i})}):null,t[2]=i,t[3]=o,t[4]=n,t[5]=e,t[6]=l):l=t[6],l}}}]);
//# sourceMappingURL=8772.4f04a5c1.chunk.js.map