"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[853,6136],{5368(e,t,n){n.d(t,{A:()=>a});var s=n(42918),r=n(71547),o=n(65045),i=n(64074),d=n(27535),c=n(32118);const l=(0,o.n)()(e=>({hoverVertical:{background:e.palette.text.primary,border:"none",width:1,height:"100%",top:d.YSCALEBAR_LABEL_OFFSET,cursor:"default",position:"absolute",pointerEvents:"none"}})),a=(0,i.observer)(function({model:e,height:t,clientMouseCoord:n,offsetMouseCoord:o,TooltipContents:i}){const{featureUnderMouse:a}=e,{classes:h}=l(),u=n[0]+5,x=n[1];return a?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.Suspense,{fallback:null,children:(0,c.jsx)(r.A,{clientPoint:{x:u,y:x},children:(0,c.jsx)(i,{model:e,feature:a})})}),(0,c.jsx)("div",{className:h.hoverVertical,style:{left:o[0],height:t-2*d.YSCALEBAR_LABEL_OFFSET}})]}):null})},10853(e,t,n){n.r(t),n.d(t,{default:()=>M});var s=n(71547),r=n(65045),o=n(27535),i=n(76136),d=n(64074),c=n(30936),l=n(42918),a=n(77251),h=n(13228),u=n(60586),x=n(32118);const f=(0,r.n)()(()=>({td:{whiteSpace:"nowrap"}}));function b(e,t=1){return`${(e/(t||1)*100).toFixed(1)}%`}function j(e){return(e[-1]?`${e[-1]}(-)`:"")+(e[1]?`${e[1]}(+)`:"")||"-"}function p(e){return e.replace(/^(mod_|nonmod_)/,"")}function m(e){return"depth"!==e&&"skip"!==e}function y(e,t){if(e.startsWith("nonmod_"))return`Unmodified ${e.replace("nonmod_","")}`;const n=p(e);return t.visibleModifications.get(n)?(0,u.y)(n):e.toUpperCase()}function v(e){const t=(0,c.c)(5),{base:n,model:s}=e;let r;t[0]!==n||t[1]!==s?(r=function(e,t){if(e.startsWith("mod_")||e.startsWith("nonmod_"))return e.startsWith("nonmod_")?"blue":t.visibleModifications.get(e.replace(/^mod_/,""))?.color}(n,s),t[0]=n,t[1]=s,t[2]=r):r=t[2];const o=r;if(!o)return null;let i;return t[3]!==o?(i=(0,x.jsx)("div",{style:{width:10,height:10,background:o}}),t[3]=o,t[4]=i):i=t[4],i}function g(){const e=(0,c.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{}),(0,x.jsx)("th",{children:"Base"}),(0,x.jsx)("th",{children:"# of Reads"}),(0,x.jsx)("th",{children:"% of Reads"}),(0,x.jsx)("th",{children:"Strands"}),(0,x.jsx)("th",{children:"Avg Prob"})]})}),e[0]=t):t=e[0],t}function $(e){const t=(0,c.c)(9),{readsCounted:n}=e;let s,r,o,i,d,l,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,x.jsx)("td",{}),r=(0,x.jsx)("td",{children:"Total"}),t[0]=s,t[1]=r):(s=t[0],r=t[1]),t[2]!==n?(o=(0,x.jsx)("td",{children:n}),t[2]=n,t[3]=o):o=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.jsx)("td",{}),d=(0,x.jsx)("td",{}),l=(0,x.jsx)("td",{}),t[4]=i,t[5]=d,t[6]=l):(i=t[4],d=t[5],l=t[6]),t[7]!==o?(a=(0,x.jsxs)("tr",{children:[s,r,o,i,d,l]}),t[7]=o,t[8]=a):a=t[8],a}function C(e){const t=(0,c.c)(22),{referenceBase:n,reference:s,readsCounted:r}=e;let o,i,d,l,a,h,u,f,p,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,x.jsx)("td",{}),t[0]=o):o=t[0],t[1]!==n?(i=n?`(${n.toUpperCase()})`:"",t[1]=n,t[2]=i):i=t[2],t[3]!==i?(d=(0,x.jsxs)("td",{children:["REF ",i]}),t[3]=i,t[4]=d):d=t[4],t[5]!==s.entryDepth?(l=(0,x.jsx)("td",{children:s.entryDepth}),t[5]=s.entryDepth,t[6]=l):l=t[6],t[7]!==r||t[8]!==s.entryDepth?(a=b(s.entryDepth,r),t[7]=r,t[8]=s.entryDepth,t[9]=a):a=t[9],t[10]!==a?(h=(0,x.jsx)("td",{children:a}),t[10]=a,t[11]=h):h=t[11],t[12]!==s?(u=j(s),t[12]=s,t[13]=u):u=t[13],t[14]!==u?(f=(0,x.jsx)("td",{children:u}),t[14]=u,t[15]=f):f=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(p=(0,x.jsx)("td",{}),t[16]=p):p=t[16],t[17]!==d||t[18]!==l||t[19]!==h||t[20]!==f?(m=(0,x.jsxs)("tr",{children:[o,d,l,h,f,p]}),t[17]=d,t[18]=l,t[19]=h,t[20]=f,t[21]=m):m=t[21],m}function _(e){const t=(0,c.c)(31),{base:n,score:s,readsCounted:r,model:o,tdClass:i,rowKey:d}=e;let l,a,h,u,f,p,g,$,C,_,S;return t[0]!==n||t[1]!==o?(l=(0,x.jsx)("td",{children:(0,x.jsx)(v,{model:o,base:n})}),a=y(n,o),t[0]=n,t[1]=o,t[2]=l,t[3]=a):(l=t[2],a=t[3]),t[4]!==a?(h=(0,x.jsx)("td",{children:a}),t[4]=a,t[5]=h):h=t[5],t[6]!==s.entryDepth||t[7]!==i?(u=(0,x.jsx)("td",{className:i,children:s.entryDepth}),t[6]=s.entryDepth,t[7]=i,t[8]=u):u=t[8],t[9]!==n||t[10]!==r||t[11]!==s.entryDepth?(f=m(n)?b(s.entryDepth,r):"---",t[9]=n,t[10]=r,t[11]=s.entryDepth,t[12]=f):f=t[12],t[13]!==f?(p=(0,x.jsx)("td",{children:f}),t[13]=f,t[14]=p):p=t[14],t[15]!==s?(g=j(s),t[15]=s,t[16]=g):g=t[16],t[17]!==g?($=(0,x.jsx)("td",{children:g}),t[17]=g,t[18]=$):$=t[18],t[19]!==s.avgProbability?(C=void 0!==s.avgProbability?b(s.avgProbability):"",t[19]=s.avgProbability,t[20]=C):C=t[20],t[21]!==C?(_=(0,x.jsx)("td",{children:C}),t[21]=C,t[22]=_):_=t[22],t[23]!==d||t[24]!==l||t[25]!==_||t[26]!==h||t[27]!==u||t[28]!==p||t[29]!==$?(S=(0,x.jsxs)("tr",{children:[l,h,u,p,$,_]},d),t[23]=d,t[24]=l,t[25]=_,t[26]=h,t[27]=u,t[28]=p,t[29]=$,t[30]=S):S=t[30],S}function S(e){const t=(0,c.c)(34),{base:n,score:s,isMod:r,readsCounted:o,model:i,tdClass:d,rowKey:l}=e;let a,h,u,f,p,g,$,C,_,S,D;return t[0]!==n||t[1]!==i?(a=(0,x.jsx)("td",{children:(0,x.jsx)(v,{model:i,base:n})}),t[0]=n,t[1]=i,t[2]=a):a=t[2],t[3]!==n||t[4]!==r||t[5]!==i?(h=r?y(n,i):n.toUpperCase(),t[3]=n,t[4]=r,t[5]=i,t[6]=h):h=t[6],t[7]!==h?(u=(0,x.jsx)("td",{children:h}),t[7]=h,t[8]=u):u=t[8],t[9]!==s.entryDepth||t[10]!==d?(f=(0,x.jsx)("td",{className:d,children:s.entryDepth}),t[9]=s.entryDepth,t[10]=d,t[11]=f):f=t[11],t[12]!==n||t[13]!==o||t[14]!==s.entryDepth?(p=m(n)?b(s.entryDepth,o):"---",t[12]=n,t[13]=o,t[14]=s.entryDepth,t[15]=p):p=t[15],t[16]!==p?(g=(0,x.jsx)("td",{children:p}),t[16]=p,t[17]=g):g=t[17],t[18]!==s?($=j(s),t[18]=s,t[19]=$):$=t[19],t[20]!==$?(C=(0,x.jsx)("td",{children:$}),t[20]=$,t[21]=C):C=t[21],t[22]!==s.avgProbability?(_=void 0!==s.avgProbability?b(s.avgProbability):"",t[22]=s.avgProbability,t[23]=_):_=t[23],t[24]!==_?(S=(0,x.jsx)("td",{children:_}),t[24]=_,t[25]=S):S=t[25],t[26]!==l||t[27]!==a||t[28]!==S||t[29]!==u||t[30]!==f||t[31]!==g||t[32]!==C?(D=(0,x.jsxs)("tr",{children:[a,u,f,g,C,S]},l),t[26]=l,t[27]=a,t[28]=S,t[29]=u,t[30]=f,t[31]=g,t[32]=C,t[33]=D):D=t[33],D}function D(e){const t=(0,c.c)(5),{info:n,readsCounted:s,model:r,tdClass:o}=e;let i;if(t[0]!==n||t[1]!==r||t[2]!==s||t[3]!==o){const e={};for(const[t,s]of Object.entries(n))for(const[n,o]of Object.entries(s))if(n.startsWith("nonmod_")){const s=p(n),i=r.visibleModifications.get(s),d=i?.base||"X",c=`${t}_nonmod_${d}`;e[c]||(e[c]={base:`nonmod_${d}`,score:{entryDepth:0,1:0,"-1":0,avgProbability:0},isNonmod:!0});const l=e[c];if(l.score.entryDepth=l.score.entryDepth+o.entryDepth,l.score[1]=l.score[1]+o[1],l.score[-1]=l.score[-1]+o[-1],void 0!==o.avgProbability){const e=l.score.avgProbability||0,t=l.score.entryDepth-o.entryDepth;l.score.avgProbability=t>0?(e*t+o.avgProbability*o.entryDepth)/l.score.entryDepth:o.avgProbability}}else e[`${t}_${n}`]={base:n,score:{...o},isNonmod:!1};i=(0,x.jsx)(x.Fragment,{children:Object.entries(e).map(e=>{const[t,n]=e,{base:i,score:d,isNonmod:c}=n,l=p(i),a=(h=i).startsWith("mod_")||h.startsWith("nonmod_")||c;var h;const u=!c&&a&&r.simplexModifications?.has(l),f=d[1]||0,b=d[-1]||0;return c?(0,x.jsx)(S,{base:i,score:d,isMod:!0,isSimplex:!1,readsCounted:s,model:r,tdClass:o,rowKey:t},t):a&&!u&&(f>0||b>0)?(0,x.jsx)(_,{base:i,score:d,posStrandCount:f,negStrandCount:b,readsCounted:s,model:r,tdClass:o,rowKey:t},t):(0,x.jsx)(S,{base:i,score:d,isMod:a,isSimplex:u,readsCounted:s,model:r,tdClass:o,rowKey:t},t)})}),t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=i}else i=t[4];return i}function P(e,t,n){if(void 0===t)return e||"";const s=void 0===n||t===n-1?(0,a.toLocale)(t+1):`${(0,a.toLocale)(t+1)}..${(0,a.toLocale)(n)}`;return e?`${e}:${s}`:s}function L(e){const t=(0,c.c)(30),{bin:n,location:s,model:r,tdClass:o,reactRef:i}=e,{refbase:d,readsCounted:l,ref:a,snps:h,mods:u,nonmods:f,delskips:b,noncov:j}=n;let p,m,y,v,_,S,P,L,F;return t[0]!==s?(p=(0,x.jsx)("caption",{children:s}),t[0]=s,t[1]=p):p=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(m=(0,x.jsx)(g,{}),t[2]=m):m=t[2],t[3]!==l?(y=(0,x.jsx)($,{readsCounted:l}),t[3]=l,t[4]=y):y=t[4],t[5]!==l||t[6]!==a||t[7]!==d?(v=(0,x.jsx)(C,{referenceBase:d,reference:a,readsCounted:l}),t[5]=l,t[6]=a,t[7]=d,t[8]=v):v=t[8],t[9]!==b||t[10]!==u||t[11]!==j||t[12]!==f||t[13]!==h?(_={snps:h,mods:u,nonmods:f,delskips:b,noncov:j},t[9]=b,t[10]=u,t[11]=j,t[12]=f,t[13]=h,t[14]=_):_=t[14],t[15]!==r||t[16]!==l||t[17]!==_||t[18]!==o?(S=(0,x.jsx)(D,{info:_,readsCounted:l,model:r,tdClass:o}),t[15]=r,t[16]=l,t[17]=_,t[18]=o,t[19]=S):S=t[19],t[20]!==y||t[21]!==v||t[22]!==S?(P=(0,x.jsxs)("tbody",{children:[y,v,S]}),t[20]=y,t[21]=v,t[22]=S,t[23]=P):P=t[23],t[24]!==p||t[25]!==P?(L=(0,x.jsxs)("table",{children:[p,m,P]}),t[24]=p,t[25]=P,t[26]=L):L=t[26],t[27]!==i||t[28]!==L?(F=(0,x.jsx)("div",{ref:i,children:L}),t[27]=i,t[28]=L,t[29]=F):F=t[29],F}function F(e){const t=(0,c.c)(33),{item:n,location:s,tdClass:r,reactRef:o}=e,{base:i,count:d,total:l,refbase:h,avgQual:u,fwdCount:f,revCount:j}=n,p=h?`${h}â†’${i}`:i;let m,y,v,g,$,C,_;t[0]!==s?(m=(0,x.jsx)("caption",{children:s}),t[0]=s,t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(y=(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Base"}),(0,x.jsx)("th",{children:"Count"}),(0,x.jsx)("th",{children:"% of Reads"}),(0,x.jsx)("th",{children:"Strands"}),(0,x.jsx)("th",{children:"Qual"})]})}),t[2]=y):y=t[2],t[3]!==p?(v=p.toUpperCase(),t[3]=p,t[4]=v):v=t[4],t[5]!==v?(g=(0,x.jsx)("td",{children:v}),t[5]=v,t[6]=g):g=t[6],t[7]!==d||t[8]!==r?($=(0,x.jsx)("td",{className:r,children:d}),t[7]=d,t[8]=r,t[9]=$):$=t[9],t[10]!==d||t[11]!==l?(C=b(d,l),t[10]=d,t[11]=l,t[12]=C):C=t[12],t[13]!==C?(_=(0,x.jsx)("td",{children:C}),t[13]=C,t[14]=_):_=t[14];const S=`${f}(+) ${j}(-)`;let D,P,L,F,R,w;return t[15]!==S?(D=(0,x.jsx)("td",{children:S}),t[15]=S,t[16]=D):D=t[16],t[17]!==u?(P=void 0!==u?(0,a.reducePrecision)(u):"",t[17]=u,t[18]=P):P=t[18],t[19]!==P?(L=(0,x.jsx)("td",{children:P}),t[19]=P,t[20]=L):L=t[20],t[21]!==L||t[22]!==g||t[23]!==$||t[24]!==_||t[25]!==D?(F=(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[g,$,_,D,L]})}),t[21]=L,t[22]=g,t[23]=$,t[24]=_,t[25]=D,t[26]=F):F=t[26],t[27]!==m||t[28]!==F?(R=(0,x.jsxs)("table",{children:[m,y,F]}),t[27]=m,t[28]=F,t[29]=R):R=t[29],t[30]!==o||t[31]!==R?(w=(0,x.jsx)("div",{ref:o,children:R}),t[30]=o,t[31]=R,t[32]=w):w=t[32],w}function R(e){const t=(0,c.c)(40),{item:n,location:s,model:r,tdClass:o,reactRef:i}=e,{modType:d,base:l,count:a,total:h,avgProb:f,fwdCount:j,revCount:p,isUnmodified:m}=n,y=m?"blue":r.visibleModifications.get(d)?.color;let v;t[0]!==l||t[1]!==m||t[2]!==d?(v=m?`Unmodified ${l}`:(0,u.y)(d)||`${d} (${l})`,t[0]=l,t[1]=m,t[2]=d,t[3]=v):v=t[3];const g=v;let $,C,_,S,D,P,L,F;t[4]!==s?($=(0,x.jsx)("caption",{children:s}),t[4]=s,t[5]=$):$=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(C=(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{}),(0,x.jsx)("th",{children:"Modification"}),(0,x.jsx)("th",{children:"Count"}),(0,x.jsx)("th",{children:"% of Reads"}),(0,x.jsx)("th",{children:"Strands"}),(0,x.jsx)("th",{children:"Avg Prob"})]})}),t[6]=C):C=t[6],t[7]!==y?(_=y?(0,x.jsx)("div",{style:{width:10,height:10,background:y}}):null,t[7]=y,t[8]=_):_=t[8],t[9]!==_?(S=(0,x.jsx)("td",{children:_}),t[9]=_,t[10]=S):S=t[10],t[11]!==g?(D=(0,x.jsx)("td",{children:g}),t[11]=g,t[12]=D):D=t[12],t[13]!==a||t[14]!==o?(P=(0,x.jsx)("td",{className:o,children:a}),t[13]=a,t[14]=o,t[15]=P):P=t[15],t[16]!==a||t[17]!==h?(L=b(a,h),t[16]=a,t[17]=h,t[18]=L):L=t[18],t[19]!==L?(F=(0,x.jsx)("td",{children:L}),t[19]=L,t[20]=F):F=t[20];const R=`${j}(+) ${p}(-)`;let w,A,N,M,E,T;return t[21]!==R?(w=(0,x.jsx)("td",{children:R}),t[21]=R,t[22]=w):w=t[22],t[23]!==f?(A=void 0!==f?`${(100*f).toFixed(1)}%`:"",t[23]=f,t[24]=A):A=t[24],t[25]!==A?(N=(0,x.jsx)("td",{children:A}),t[25]=A,t[26]=N):N=t[26],t[27]!==w||t[28]!==N||t[29]!==S||t[30]!==D||t[31]!==P||t[32]!==F?(M=(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[S,D,P,F,w,N]})}),t[27]=w,t[28]=N,t[29]=S,t[30]=D,t[31]=P,t[32]=F,t[33]=M):M=t[33],t[34]!==M||t[35]!==$?(E=(0,x.jsxs)("table",{children:[$,C,M]}),t[34]=M,t[35]=$,t[36]=E):E=t[36],t[37]!==i||t[38]!==E?(T=(0,x.jsx)("div",{ref:i,children:E}),t[37]=i,t[38]=E,t[39]=T):T=t[39],T}function w(e){const t=(0,c.c)(37),{item:n,location:s,tdClass:r,reactRef:o}=e,{type:i,count:d,total:l,avgLength:a,minLength:u,maxLength:f,topSequence:j}=n;let p;t[0]!==a||t[1]!==f||t[2]!==u?(p=void 0!==u&&void 0!==f?u===f?`${u}bp`:`${u}-${f}bp (avg ${a?.toFixed(1)}bp)`:void 0!==a?`avg ${a.toFixed(1)}bp`:"",t[0]=a,t[1]=f,t[2]=u,t[3]=p):p=t[3];const m=p;let y,v,g,$,C,_,S,D,P,L,F,R,w;return t[4]!==s?(y=(0,x.jsx)("caption",{children:s}),t[4]=s,t[5]=y):y=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(v=(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Type"}),(0,x.jsx)("th",{children:"Count"}),(0,x.jsx)("th",{children:"% of Reads"}),(0,x.jsx)("th",{children:"Size"})]})}),t[6]=v):v=t[6],t[7]!==i?(g=(0,h.s5)(i),t[7]=i,t[8]=g):g=t[8],t[9]!==g?($=(0,x.jsx)("td",{children:g}),t[9]=g,t[10]=$):$=t[10],t[11]!==d||t[12]!==r?(C=(0,x.jsx)("td",{className:r,children:d}),t[11]=d,t[12]=r,t[13]=C):C=t[13],t[14]!==d||t[15]!==l?(_=b(d,l),t[14]=d,t[15]=l,t[16]=_):_=t[16],t[17]!==_?(S=(0,x.jsx)("td",{children:_}),t[17]=_,t[18]=S):S=t[18],t[19]!==m?(D=(0,x.jsx)("td",{children:m}),t[19]=m,t[20]=D):D=t[20],t[21]!==$||t[22]!==C||t[23]!==S||t[24]!==D?(P=(0,x.jsxs)("tr",{children:[$,C,S,D]}),t[21]=$,t[22]=C,t[23]=S,t[24]=D,t[25]=P):P=t[25],t[26]!==j?(L=j?(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{colSpan:4,children:["Most common sequence:"," ",j.length>20?`${j.slice(0,20)}...`:j]})}):null,t[26]=j,t[27]=L):L=t[27],t[28]!==P||t[29]!==L?(F=(0,x.jsxs)("tbody",{children:[P,L]}),t[28]=P,t[29]=L,t[30]=F):F=t[30],t[31]!==F||t[32]!==y?(R=(0,x.jsxs)("table",{children:[y,v,F]}),t[31]=F,t[32]=y,t[33]=R):R=t[33],t[34]!==o||t[35]!==R?(w=(0,x.jsx)("div",{ref:o,children:R}),t[34]=o,t[35]=R,t[36]=w):w=t[36],w}const A=(0,l.forwardRef)(function(e,t){const n=(0,c.c)(35),{feature:s,item:r,refName:o,model:i}=e,{classes:d}=f();if(r){const e="end"in r?r.end:void 0;let s;n[0]!==r.start||n[1]!==o||n[2]!==e?(s=P(o,r.start,e),n[0]=r.start,n[1]=o,n[2]=e,n[3]=s):s=n[3];const c=s;if("snp"===r.type&&r.bin){let e;return n[4]!==d.td||n[5]!==r.bin||n[6]!==c||n[7]!==i||n[8]!==t?(e=(0,x.jsx)(L,{bin:r.bin,location:c,model:i,tdClass:d.td,reactRef:t}),n[4]=d.td,n[5]=r.bin,n[6]=c,n[7]=i,n[8]=t,n[9]=e):e=n[9],e}if("snp"===r.type){let e;return n[10]!==d.td||n[11]!==r||n[12]!==c||n[13]!==t?(e=(0,x.jsx)(F,{item:r,location:c,tdClass:d.td,reactRef:t}),n[10]=d.td,n[11]=r,n[12]=c,n[13]=t,n[14]=e):e=n[14],e}if("modification"===r.type){let e;return n[15]!==d.td||n[16]!==r||n[17]!==c||n[18]!==i||n[19]!==t?(e=(0,x.jsx)(R,{item:r,location:c,model:i,tdClass:d.td,reactRef:t}),n[15]=d.td,n[16]=r,n[17]=c,n[18]=i,n[19]=t,n[20]=e):e=n[20],e}let l;return n[21]!==d.td||n[22]!==r||n[23]!==c||n[24]!==t?(l=(0,x.jsx)(w,{item:r,location:c,tdClass:d.td,reactRef:t}),n[21]=d.td,n[22]=r,n[23]=c,n[24]=t,n[25]=l):l=n[25],l}if(s){let e,r;if(n[26]!==s){const t=s.get("start"),o=s.get("end"),i=s.get("refName");e=s.get("snpinfo"),r=P(i,t,o),n[26]=s,n[27]=e,n[28]=r}else e=n[27],r=n[28];const o=r;let c;return n[29]!==d.td||n[30]!==o||n[31]!==i||n[32]!==t||n[33]!==e?(c=(0,x.jsx)(L,{bin:e,location:o,model:i,tdClass:d.td,reactRef:t}),n[29]=d.td,n[30]=o,n[31]=i,n[32]=t,n[33]=e,n[34]=c):c=n[34],c}return null}),N=(0,r.n)()(e=>({hoverVertical:{background:e.palette.text.primary,border:"none",width:1,height:"100%",top:o.YSCALEBAR_LABEL_OFFSET,cursor:"default",position:"absolute",pointerEvents:"none"}})),M=(0,d.observer)(function(e){const{model:t,height:n,clientMouseCoord:r,offsetMouseCoord:d}=e,{featureUnderMouse:c,mouseoverExtraInformation:l}=t,{classes:a}=N();if(l&&!c){const e=r[0]+5,i=r[1],{item:c,refName:h}=JSON.parse(l);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.A,{clientPoint:{x:e,y:i},children:(0,x.jsx)(A,{item:c,refName:h,model:t})}),(0,x.jsx)("div",{className:a.hoverVertical,style:{left:d[0],height:n-2*o.YSCALEBAR_LABEL_OFFSET}})]})}return"skip"===c?.get("type")?null:(0,x.jsx)(i.default,{TooltipContents:A,...e})})},13228(e,t,n){n.d(t,{J0:()=>l,s5:()=>o});var s=n(77251);const r={insertion:"Insertion",softclip:"Soft clip",hardclip:"Hard clip",snp:"SNP",modification:"Modification"};function o(e){return r[e]??e}function i(e){return(e[-1]?`${e[-1]}(-)`:"")+(e[1]?`${e[1]}(+)`:"")||"-"}function d(e,t=1){return`${(e/(t||1)*100).toFixed(1)}%`}function c(e){const{readsCounted:t,ref:n,refbase:r,snps:o,mods:c}=e,l=[{base:"Total",count:t,percent:"-",strands:"-"},{base:r?`REF (${r.toUpperCase()})`:"REF",count:n.entryDepth,percent:d(n.entryDepth,t),strands:i(n)}];for(const[e,n]of Object.entries(o))l.push({base:e.toUpperCase(),count:n.entryDepth,percent:d(n.entryDepth,t),strands:i(n),prob:void 0!==n.avgProbability?`qual:${(0,s.reducePrecision)(n.avgProbability)}`:void 0});for(const[e,n]of Object.entries(c))l.push({base:e,count:n.entryDepth,percent:d(n.entryDepth,t),strands:i(n),prob:void 0!==n.avgProbability?`${(100*n.avgProbability).toFixed(1)}%`:void 0});return l}function l(e,t){if("snp"===e.type)return{uniqueId:`snp-${e.base}-${e.start}`,type:"snp",refName:t,start:e.start,end:e.end,details:e.bin?c(e.bin):void 0};if("modification"===e.type){const n=e.total>0?(e.count/e.total*100).toFixed(1):"0",s=e.isUnmodified?`Unmodified ${e.base}`:`${e.modType} (${e.base})`;return{uniqueId:`mod-${e.modType}-${e.base}`,type:"modification",refName:t,start:e.start,end:e.start+1,label:s,count:`${e.count}/${e.total} (${n}%)`,strands:`${e.fwdCount}(+) ${e.revCount}(-)`,probability:void 0!==e.avgProb?`${(100*e.avgProb).toFixed(1)}%`:void 0}}const n=e.total>0?(e.count/e.total*100).toFixed(1):"0";return{uniqueId:`${e.type}-${e.base}`,type:e.type,refName:t,start:e.start,end:e.start+1,count:`${e.count}/${e.total} (${n}%)`,size:e.minLength===e.maxLength?`${e.minLength}bp`:`${e.minLength}-${e.maxLength}bp (avg ${e.avgLength?.toFixed(1)}bp)`,sequence:e.topSequence}}},76136(e,t,n){n.r(t),n.d(t,{Tooltip:()=>d.A,default:()=>u});var s=n(30936),r=n(42918),o=n(77251),i=n(64074),d=n(5368),c=n(27535),l=n(32118);const a=o.toLocale,h=(0,r.forwardRef)(function(e,t){const n=(0,s.c)(17),{feature:r}=e,o=r.get("start")+1;let i,d,h,u;if(n[0]!==r||n[1]!==o){const e=r.get("end");let t;n[5]!==r?(t=r.get("refName"),n[5]=r,n[6]=t):t=n[6];const s=t;let c;n[7]!==r?(c=r.get("name"),n[7]=r,n[8]=c):c=n[8],i=s,d=c,h=o===e?a(o):`${a(o)}..${a(e)}`,n[0]=r,n[1]=o,n[2]=i,n[3]=d,n[4]=h}else i=n[2],d=n[3],h=n[4];n[9]!==i||n[10]!==d||n[11]!==h?(u=[i,d,h].filter(x),n[9]=i,n[10]=d,n[11]=h,n[12]=u):u=n[12];const f=u.join(":");let b;if(n[13]!==r||n[14]!==f||n[15]!==t){const e=r.get("minScore"),s=r.get("maxScore");b=r.get("summary")&&null!=e?(0,l.jsxs)("div",{ref:t,children:[f,(0,l.jsx)("br",{}),"Max: ",(0,c.toP)(s),(0,l.jsx)("br",{}),"Avg: ",(0,c.toP)(r.get("score")),(0,l.jsx)("br",{}),"Min: ",(0,c.toP)(e)]}):(0,l.jsxs)("div",{ref:t,children:[f,(0,l.jsx)("br",{}),`${(0,c.toP)(r.get("score"))}`]}),n[13]=r,n[14]=f,n[15]=t,n[16]=b}else b=n[16];return b}),u=(0,i.observer)(function(e){return(0,l.jsx)(d.A,{TooltipContents:h,...e})});function x(e){return!!e}}}]);
//# sourceMappingURL=853.8a7a1026.chunk.js.map