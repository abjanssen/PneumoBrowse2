{"version":3,"file":"static/js/4284.bc9fba12.chunk.js","mappings":"sMAOe,MAAMA,UAAwBC,EAAAA,YAC3C,aAAMC,GACJ,MAAMC,EAAKC,KAAKC,cACVC,EAAMF,KAAKG,QAAQ,oBACzB,GAAgB,KAAZD,EAAIE,KAA0B,6BAAZF,EAAIE,IACxB,MAAO,GAET,MAAMC,QAAeC,EAAAA,EAAAA,cAAaJ,EAAKH,GAAIQ,WACrCC,GAAMC,EAAAA,EAAAA,QAAOJ,SAAgBK,EAAAA,EAAAA,OAAML,GAAUA,EAEnD,OADa,IAAIM,YAAY,OAAQ,CAAEC,OAAO,IAAQC,OAAOL,GAE1DM,MAAM,cACNC,QAAOC,KAAOA,EAAEC,SAChBC,KAAI,CAACC,EAAMC,KACV,MAAOC,EAASC,EAAOC,EAAKC,EAAMC,GAAQN,EAAKL,MAAM,MACrD,OAAO,IAAIY,EAAAA,cAAc,CACvBC,SAAU,GAAGP,IACbC,QAASA,EACTC,OAAQA,EACRC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,GACN,GAER,CAEAG,aAAAA,GAAuC,E","sources":["../../../packages/core/data_adapters/CytobandAdapter/CytobandAdapter.ts"],"sourcesContent":["import { unzip } from '@gmod/bgzf-filehandle'\n\n// locals\nimport { isGzip, SimpleFeature } from '../../util'\nimport { openLocation } from '../../util/io'\nimport { BaseAdapter } from '../BaseAdapter'\n\nexport default class CytobandAdapter extends BaseAdapter {\n  async getData() {\n    const pm = this.pluginManager\n    const loc = this.getConf('cytobandLocation')\n    if (loc.uri === '' || loc.uri === '/path/to/cytoband.txt.gz') {\n      return []\n    }\n    const buffer = await openLocation(loc, pm).readFile()\n    const buf = isGzip(buffer) ? await unzip(buffer) : buffer\n    const text = new TextDecoder('utf8', { fatal: true }).decode(buf)\n    return text\n      .split(/\\n|\\r\\n|\\r/)\n      .filter(f => !!f.trim())\n      .map((line, i) => {\n        const [refName, start, end, name, type] = line.split('\\t')\n        return new SimpleFeature({\n          uniqueId: `${i}`,\n          refName: refName!,\n          start: +start!,\n          end: +end!,\n          name: name!,\n          type: type!,\n        })\n      })\n  }\n\n  freeResources(/* { region } */): void {}\n}\n"],"names":["CytobandAdapter","BaseAdapter","getData","pm","this","pluginManager","loc","getConf","uri","buffer","openLocation","readFile","buf","isGzip","unzip","TextDecoder","fatal","decode","split","filter","f","trim","map","line","i","refName","start","end","name","type","SimpleFeature","uniqueId","freeResources"],"sourceRoot":""}