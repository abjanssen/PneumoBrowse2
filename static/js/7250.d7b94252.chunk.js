"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7250],{57250(e,t,o){o.r(t),o.d(t,{default:()=>y});var r=o(30936),a=o(42918),n=o(85787),l=o(27351),s=o(77251),i=o(66837),c=o(41031),d=o(43787),h=o(99367),p=o(16073),u=o(28519),m=o(76143),v=o(8039),x=o(70885),b=o(32118);function A(){const e=(0,r.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,b.jsxs)("div",{children:[(0,b.jsx)(i.A,{size:20,style:{marginRight:20}}),(0,b.jsx)(c.A,{display:"inline",children:"Creating SVG"})]}),e[0]=t):t=e[0],t}function f(e,t){return(0,s.useLocalStorage)(`svg-${e}`,t)}function j(e){const t=(0,r.c)(6);let o,a,n;return t[0]!==e?(({children:o,...a}=e),t[0]=e,t[1]=o,t[2]=a):(o=t[1],a=t[2]),t[3]!==o||t[4]!==a?(n=(0,b.jsx)("div",{children:(0,b.jsx)(d.A,{...a,children:o})}),t[3]=o,t[4]=a,t[5]=n):n=t[5],n}function y({model:e,handleClose:t}){const o=(0,s.getSession)(e),r="undefined"!=typeof OffscreenCanvas,[i,d]=(0,a.useState)(r),[y,k]=f("gridlines",!1),[g,C]=(0,a.useState)(!1),[z,w]=(0,a.useState)(),[S,R]=f("file","jbrowse.svg"),[O,P]=f("tracklabels","offset"),[M,T]=f("theme",o.themeName||"default");return(0,b.jsxs)(n.A,{open:!0,onClose:t,title:"Export SVG",children:[(0,b.jsxs)(h.A,{children:[z?(0,b.jsx)(l.A,{error:z}):g?(0,b.jsx)(A,{}):null,(0,b.jsx)(j,{helperText:"filename",value:S,onChange:e=>{R(e.target.value)}}),(0,b.jsxs)(j,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:O,onChange:e=>{P(e.target.value)},children:[(0,b.jsx)(p.A,{value:"offset",children:"Offset"}),(0,b.jsx)(p.A,{value:"overlay",children:"Overlay"}),(0,b.jsx)(p.A,{value:"left",children:"Left"}),(0,b.jsx)(p.A,{value:"none",children:"None"})]}),o.allThemes?(0,b.jsx)(j,{select:!0,label:"Theme",variant:"outlined",value:M,onChange:e=>{T(e.target.value)},children:Object.entries(o.allThemes()).map(([e,t])=>(0,b.jsx)(p.A,{value:e,children:t.name||"(Unknown name)"},e))}):null,(0,b.jsx)(u.A,{control:(0,b.jsx)(m.A,{checked:y,onChange:()=>{k(e=>!e)}}),label:"Show gridlines"}),r?(0,b.jsx)(u.A,{control:(0,b.jsx)(m.A,{checked:i,onChange:()=>{d(e=>!e)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):(0,b.jsx)(c.A,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),(0,b.jsxs)(v.A,{children:[(0,b.jsx)(x.A,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"}),(0,b.jsx)(x.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{C(!0),w(void 0);try{await e.exportSvg({rasterizeLayers:i,filename:S,trackLabels:O,themeName:M,showGridlines:y}),t()}catch(e){console.error(e),w(e)}finally{C(!1)}},children:"Submit"})]})]})}},72147(e,t,o){o.d(t,{A:()=>l,w:()=>n});var r=o(97818),a=o(11042);function n(e){return(0,a.Ay)("MuiCheckbox",e)}const l=(0,r.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"])},76143(e,t,o){o.d(t,{A:()=>z});var r=o(42918),a=o(77710),n=o(61648),l=o(69364),s=o(2425),i=o(32118);const c=(0,s.A)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=(0,s.A)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=(0,s.A)((0,i.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var p=o(42458),u=o(63154),m=o(72147),v=o(18496),x=o(55030),b=o(77180),A=o(27997),f=o(71562),j=o(84961);const y=(0,v.Ay)(l.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t[`size${(0,p.A)(o.size)}`],"default"!==o.color&&t[`color${(0,p.A)(o.color)}`]]}})((0,x.A)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,b.A)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,b.A)()).map(([t])=>({props:{color:t},style:{[`&.${m.A.checked}, &.${m.A.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${m.A.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),k=(0,i.jsx)(d,{}),g=(0,i.jsx)(c,{}),C=(0,i.jsx)(h,{}),z=r.forwardRef(function(e,t){const o=(0,A.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:l=k,color:s="primary",icon:c=g,indeterminate:d=!1,indeterminateIcon:h=C,inputProps:u,size:v="medium",disableRipple:x=!1,className:b,slots:z={},slotProps:w={},...S}=o,R=d?h:c,O=d?h:l,P={...o,disableRipple:x,color:s,indeterminate:d,size:v},M=(e=>{const{classes:t,indeterminate:o,color:r,size:a}=e,l={root:["root",o&&"indeterminate",`color${(0,p.A)(r)}`,`size${(0,p.A)(a)}`]},s=(0,n.A)(l,m.w,t);return{...t,...s}})(P),T=w.input??u,[$,V]=(0,j.A)("root",{ref:t,elementType:y,className:(0,a.A)(M.root,b),shouldForwardComponentProp:!0,externalForwardedProps:{slots:z,slotProps:w,...S},ownerState:P,additionalProps:{type:"checkbox",icon:r.cloneElement(R,{fontSize:R.props.fontSize??v}),checkedIcon:r.cloneElement(O,{fontSize:O.props.fontSize??v}),disableRipple:x,slots:z,slotProps:{input:(0,f.A)("function"==typeof T?T(P):T,{"data-indeterminate":d})}}});return(0,i.jsx)($,{...V,classes:M})})}}]);
//# sourceMappingURL=7250.d7b94252.chunk.js.map