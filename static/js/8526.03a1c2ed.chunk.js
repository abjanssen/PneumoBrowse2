"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[8526],{8526:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(90863),n=o(68446),s=o(13128),l=o(69500);const i=(0,n.observer)(function(e){const{model:t}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)(r.GQ,{...e}),(0,l.jsx)(s.A,{model:t})]})})},13128:(e,t,o)=>{o.d(t,{A:()=>w});var r=o(99546),n=o(68446),s=o(67758),l=o(69500);const i=e=>{const t=(0,s.c)(5),{color:o}=e,n=void 0===o?"rgb(255,255,255,0.8)":o;let i,a;return t[0]!==n?(i=(0,r.getFillProps)(n),t[0]=n,t[1]=i):i=t[1],t[2]!==e||t[3]!==i?(a=(0,l.jsx)("rect",{...e,...i}),t[2]=e,t[3]=i,t[4]=a):a=t[4],a},a=function(e){const t=(0,s.c)(18),{source:o,idx:r,rowHeight:n,labelWidth:a,model:c,exportSVG:d}=e,h=Math.min(20,n),{needsCustomLegend:x,graphType:g,needsFullHeightScalebar:u,rowHeightTooSmallForScalebar:m,renderColorBoxes:p}=c,w=p?15:0,j=a+w+5,b=(d?10:0)||(g&&!m?50:0);let f,S,v;return t[0]!==h||t[1]!==b||t[2]!==r||t[3]!==j||t[4]!==u||t[5]!==n?(f=u?null:(0,l.jsx)(i,{y:r*n+1,x:b,width:j,height:h}),t[0]=h,t[1]=b,t[2]=r,t[3]=j,t[4]=u,t[5]=n,t[6]=f):f=t[6],t[7]!==h||t[8]!==w||t[9]!==b||t[10]!==r||t[11]!==x||t[12]!==n||t[13]!==o.color?(S=o.color?(0,l.jsx)(i,{y:r*n+1,x:b,width:w,height:x?n:h,color:o.color}):null,t[7]=h,t[8]=w,t[9]=b,t[10]=r,t[11]=x,t[12]=n,t[13]=o.color,t[14]=S):S=t[14],t[15]!==f||t[16]!==S?(v=(0,l.jsxs)(l.Fragment,{children:[f,S]}),t[15]=f,t[16]=S,t[17]=v):v=t[17],v},c=function(e){const t=(0,s.c)(8),{source:o,idx:r,rowHeight:n,model:i,exportSVG:a}=e,{graphType:c,rowHeightTooSmallForScalebar:d,renderColorBoxes:h}=i,x=Math.min(n,12),g=n>=6,u=h?15:0,m=(a?10:0)||(c&&!d?50:0);let p;return t[0]!==g||t[1]!==u||t[2]!==m||t[3]!==r||t[4]!==n||t[5]!==o||t[6]!==x?(p=g?(0,l.jsx)("text",{y:r*n+13,x:m+u+2,fontSize:x,children:o.name}):null,t[0]=g,t[1]=u,t[2]=m,t[3]=r,t[4]=n,t[5]=o,t[6]=x,t[7]=p):p=t[7],p},d=(0,n.observer)(function({model:e,rowHeight:t,exportSVG:o}){const{graphType:r,needsFullHeightScalebar:n,rowHeightTooSmallForScalebar:s,renderColorBoxes:d,sources:h,labelWidth:x}=e,g=x+(d?15:0)+5,u=(o?10:0)||(r&&!s?50:0);return h?(0,l.jsxs)(l.Fragment,{children:[n?(0,l.jsx)(i,{y:0,x:u,width:g,height:(h.length+.25)*t}):null,h.map((r,n)=>(0,l.jsx)(a,{source:r,idx:n,model:e,rowHeight:t,exportSVG:o,labelWidth:x},`${r.name}-${n}`)),h.map((r,n)=>(0,l.jsx)(c,{source:r,idx:n,model:e,rowHeight:t,exportSVG:o},`${r.name}-text-${n}`))]}):null});var h=o(58474),x=o(90461);const g=(0,n.observer)(function({model:e,orientation:t,exportSVG:o}){const{labelWidth:n}=e,{width:s}=(0,r.getContainingView)(e);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("g",{transform:`translate(${o?0:(0,h.A3)(e)},0)`,children:(0,l.jsx)(x.A,{model:e,orientation:t})}),(0,l.jsx)("g",{transform:`translate(${s-n-100},0)`,children:(0,l.jsx)(d,{exportSVG:o,model:e,rowHeight:12})})]})}),u=(0,n.observer)(({model:e})=>{const{ticks:t,scaleType:o}=e,{width:n}=(0,r.getContainingView)(e),s=`[${t?.values[0]}-${t?.values[1]}]${"log"===o?" (log scale)":""}`,a=(0,r.measureText)(s,14),c=n-a-25;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i,{y:0,x:c,width:a+6,height:16}),(0,l.jsx)("text",{y:13,x:c,children:s})]})}),m=(0,n.observer)(function({model:e,orientation:t,exportSVG:o}){const{sources:r,rowHeight:n,rowHeightTooSmallForScalebar:s,needsCustomLegend:i,ticks:a}=e;return r?.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{exportSVG:o,model:e,rowHeight:e.rowHeight}),s||i?(0,l.jsx)(u,{model:e}):r.map((o,r)=>(0,l.jsx)("g",{transform:`translate(0 ${n*r})`,children:(0,l.jsx)(x.A,{model:e,orientation:t})},`${JSON.stringify(a)}-${r}`))]}):null}),p=(0,n.observer)(function({children:e,model:t,exportSVG:o}){const{height:n}=t;return o?e:(0,l.jsx)("svg",{style:{position:"absolute",top:0,left:0,pointerEvents:"none",height:n,width:(0,r.getContainingView)(t).width},children:e})}),w=(0,n.observer)(function(e){const{model:t,orientation:o,exportSVG:r}=e,{showSidebar:n,stats:s,needsFullHeightScalebar:i,sources:a}=t;return s&&a?(0,l.jsx)(p,{...e,children:n?i?(0,l.jsx)(g,{model:t,orientation:o,exportSVG:r}):(0,l.jsx)(m,{model:t,orientation:o,exportSVG:r}):null}):null})},58474:(e,t,o)=>{o.d(t,{A3:()=>a,BO:()=>s,oJ:()=>l});var r=o(68584),n=o(99546);function s(e,t,o=1){const r=t.map(t=>e.findIndex(e=>e.name===t)).sort((e,t)=>e-t);let n=0;for(const t of r){const r=Math.max(n,t-o);r>=n&&e.splice(r,0,e.splice(t,1)[0]),n+=1}return e}function l(e,t,o=1){const r=t.map(t=>e.findIndex(e=>e.name===t)).sort((e,t)=>t-e);let n=e.length-1;for(const t of r){const r=Math.min(n,t+o);r<=n&&e.splice(r,0,e.splice(t,1)[0]),n-=1}return e}const i=12.8;function a(e){const{prefersOffset:t}=e,{trackLabels:o}=(0,n.getContainingView)(e),s=(0,n.getContainingTrack)(e),l=(0,r.getConf)(s,"name");return"overlapping"!==o||t?10:(0,n.measureText)(l,i)+100}}}]);
//# sourceMappingURL=8526.03a1c2ed.chunk.js.map