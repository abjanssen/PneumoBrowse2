"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1557,4850],{5026:(e,t,n)=>{n.d(t,{A:()=>u});var s=n(7552),o=n(93878),a=n(75100),r=n(80317),i=n(50864),d=n(65984),l=n(69500);const c=(0,r.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),u=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiCardContent"}),{className:s,component:r="div",...u}=n,p={...n,component:r},m=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},d.h,t)})(p);return(0,l.jsx)(c,{as:r,className:(0,o.A)(m.root,s),ownerState:p,ref:t,...u})})},8193:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(29772),o=n(69500);const a=(0,s.A)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},8438:(e,t,n)=>{n.d(t,{A:()=>r,T:()=>a});var s=n(51062),o=n(2958);function a(e){return(0,o.Ay)("MuiAccordionSummary",e)}const r=(0,s.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"])},21557:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var s=n(7552),o=n(67112),a=n(99546),r=n(8193),i=n(48759),d=n(29772),l=n(69500);const c=(0,d.A)((0,l.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var u=n(61282),p=n(69092),m=n(93062),g=n(33896),A=n(89870),x=n(76386),h=n(75068),v=n(68446),b=n(36422),f=n(75785),y=n(91464),j=n(67758),S=n(92516),w=n(74281),M=n(70721),C=n(37962),I=n(36144);function N(e,t){const{pluginManager:n}=(0,a.getEnv)(t);return!!(0,a.isSessionWithSessionPlugins)(t)&&t.sessionPlugins.some(t=>n.pluginMetadata[e.name]?.url===t.url)}const P=(0,s.lazy)(()=>n.e(8556).then(n.bind(n,78556))),R=(0,f.n9)()(()=>({iconMargin:{marginRight:"0.5rem"}}));function k(){const e=(0,j.c)(3),{classes:t}=R();let n,s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("span",{children:(0,l.jsx)(A.A,{disabled:!0,children:(0,l.jsx)(M.A,{})})}),e[0]=n):n=e[0],e[1]!==t.iconMargin?(s=(0,l.jsx)(C.A,{className:t.iconMargin,title:"This plugin was installed by an administrator, you cannot remove it.",children:n}),e[1]=t.iconMargin,e[2]=s):s=e[2],s}const L=(0,v.observer)(function({plugin:e,model:t}){const{classes:n}=R(),{pluginManager:s}=(0,a.getEnv)(t),o=(0,a.getSession)(t),{jbrowse:r,adminMode:i}=o;return(0,l.jsx)(C.A,{className:n.iconMargin,title:"Uninstall plugin",children:(0,l.jsx)(A.A,{"data-testid":`removePlugin-${e.name}`,onClick:()=>{o.queueDialog(t=>[P,{plugin:e.name,onClose:n=>{if(n){const t=s.pluginMetadata[e.name];i?r.removePlugin(t):(0,S.zA)(o)&&o.removeSessionPlugin(t)}t()}}])},children:(0,l.jsx)(w.A,{})})})}),G=(0,v.observer)(function({plugin:e,model:t}){const n=(0,a.getSession)(t),{adminMode:s}=n;return(0,l.jsxs)(I.Ay,{children:[s||N(e,n)?(0,l.jsx)(L,{plugin:e,model:t}):(0,l.jsx)(k,{}),(0,l.jsx)(u.A,{children:[e.name,e.version?`(v${e.version})`:""].filter(e=>!!e).join(" ")})]},e.name)}),T=(0,v.observer)(function({pluginManager:e,model:t}){const{plugins:n}=e,{filterText:s}=t,o=n.filter(t=>!e.pluginMetadata[t.name]?.isCore);return(0,l.jsx)(y.A,{children:o.length>0?o.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())).map(e=>(0,l.jsx)(G,{plugin:e,model:t},e.name)):(0,l.jsx)(u.A,{children:"No plugins currently installed"})})});var E=n(18423);const F=(0,d.A)((0,l.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),$=(0,d.A)((0,l.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var z=n(74900),V=n(5026),B=n(40690);const W=(0,f.n9)()({card:{margin:"0.5em"},icon:{marginLeft:"0.5em",marginRight:"0.5em"},bold:{fontWeight:600},dataField:{display:"flex",alignItems:"center"},mr:{marginRight:"0.5em"}}),_=(0,v.observer)(function({plugin:e,model:t}){const{classes:n}=W(),r=(0,a.getSession)(t),{pluginManager:i}=(0,a.getEnv)(t),{runtimePluginDefinitions:d}=i,c=d.some(t=>"url"in t&&t.url===e.url),[m,g]=(0,s.useState)(!1),{adminMode:A,jbrowse:x}=r,{name:h,authors:v,description:b}=e;return(0,l.jsxs)(z.A,{variant:"outlined",className:n.card,children:[(0,l.jsxs)(V.A,{children:[(0,l.jsx)(u.A,{variant:"h5",children:(0,l.jsx)(o.ExternalLink,{href:`${e.location}#readme`,children:e.name})}),(0,l.jsxs)("div",{className:n.dataField,children:[(0,l.jsx)($,{className:n.mr}),(0,l.jsx)(u.A,{children:v.join(", ")})]}),(0,l.jsx)(u.A,{className:n.bold,children:"Description:"}),(0,l.jsx)(u.A,{children:b})]}),(0,l.jsx)(B.A,{children:(0,l.jsx)(p.A,{variant:"contained",disabled:c||m,startIcon:c?(0,l.jsx)(F,{}):(0,l.jsx)(E.A,{}),onClick:()=>{A?x.addPlugin(e):(0,S.zA)(r)?r.addSessionPlugin(e):r.notify("No way to install plugin"),g(!0)},children:c?"Installed":"Install"})})]},h)}),D=(0,s.lazy)(()=>n.e(4755).then(n.bind(n,54755))),H=(0,f.n9)()(e=>({expandIcon:{color:e.palette.tertiary.contrastText},adminBadge:{borderRadius:3,backgroundColor:e.palette.quaternary.main,padding:"1em",display:"flex",alignContent:"center"},customPluginButton:{margin:"1em auto",display:"flex"},mr:{marginRight:"0.3em"},m:{margin:"1em"}})),q=(0,v.observer)(function({model:e}){const{classes:t}=H(),{plugins:n,error:d}=function(){const[e,t]=(0,s.useState)(),[n,o]=(0,s.useState)();return(0,s.useEffect)(()=>{(async()=>{try{const e=await fetch("https://jbrowse.org/plugin-store/plugins.json");if(!e.ok){const t=await e.text();throw new Error(`HTTP ${e.status} fetching plugins: ${t}`)}const n=await e.json();t(n.plugins)}catch(e){console.error(e),o(e)}})()},[]),{plugins:e,error:n}}(),{filterText:v}=e,f=(0,a.getSession)(e),{adminMode:y}=f,{pluginManager:j}=(0,b.getEnv)(e);return(0,l.jsxs)("div",{children:[y&&(0,l.jsxs)(l.Fragment,{children:[!a.isElectron&&(0,l.jsxs)("div",{className:t.adminBadge,children:[(0,l.jsx)(c,{className:t.mr}),(0,l.jsxs)(u.A,{children:["You are using the ",(0,l.jsx)("code",{children:"admin-server"}),". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store."]})]}),(0,l.jsx)(p.A,{className:t.customPluginButton,variant:"contained",onClick:()=>{f.queueDialog(t=>[D,{model:e,onClose:t}])},children:"Add custom plugin"})]}),(0,l.jsx)(m.A,{label:"Filter plugins",value:v,onChange:t=>{e.setFilterText(t.target.value)},fullWidth:!0,slotProps:{input:{endAdornment:(0,l.jsx)(g.A,{position:"end",children:(0,l.jsx)(A.A,{onClick:()=>{e.clearFilterText()},children:(0,l.jsx)(r.A,{})})})}}}),(0,l.jsxs)(x.A,{defaultExpanded:!0,children:[(0,l.jsx)(h.A,{expandIcon:(0,l.jsx)(i.A,{className:t.expandIcon}),children:(0,l.jsx)(u.A,{variant:"h5",children:"Installed plugins"})}),(0,l.jsx)("div",{className:t.m,children:(0,l.jsx)(T,{pluginManager:j,model:e})})]}),(0,l.jsxs)(x.A,{defaultExpanded:!0,children:[(0,l.jsx)(h.A,{expandIcon:(0,l.jsx)(i.A,{className:t.expandIcon}),children:(0,l.jsx)(u.A,{variant:"h5",children:"Available plugins"})}),d?(0,l.jsx)(u.A,{color:"error",children:`${d}`}):n?n.filter(e=>!(a.isElectron&&e.cjsUrl)&&e.name.toLowerCase().includes(v.toLowerCase())).map(t=>(0,l.jsx)(_,{plugin:t,model:e},t.name)):(0,l.jsx)(o.LoadingEllipses,{})]})]})})},28840:(e,t,n)=>{n.d(t,{A:()=>r,_:()=>a});var s=n(51062),o=n(2958);function a(e){return(0,o.Ay)("MuiListItem",e)}const r=(0,s.A)("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"])},36144:(e,t,n)=>{n.d(t,{Ay:()=>b});var s=n(7552),o=n(93878),a=n(75100),r=n(42810),i=n(80317),d=n(21928),l=n(50864),c=n(98500),u=n(3055),p=n(67357),m=n(28840);const g=(0,n(51062).A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var A=n(37326),x=n(69500);const h=(0,i.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})((0,d.A)(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${g.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),v=(0,i.Ay)("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),b=s.forwardRef(function(e,t){const n=(0,l.b)({props:e,name:"MuiListItem"}),{alignItems:i="center",children:d,className:g,component:b,components:f={},componentsProps:y={},ContainerComponent:j="li",ContainerProps:{className:S,...w}={},dense:M=!1,disableGutters:C=!1,disablePadding:I=!1,divider:N=!1,secondaryAction:P,slotProps:R={},slots:k={},...L}=n,G=s.useContext(p.A),T=s.useMemo(()=>({dense:M||G.dense||!1,alignItems:i,disableGutters:C}),[i,G.dense,M,C]),E=s.useRef(null),F=s.Children.toArray(d),$=F.length&&(0,c.A)(F[F.length-1],["ListItemSecondaryAction"]),z={...n,alignItems:i,dense:T.dense,disableGutters:C,disablePadding:I,divider:N,hasSecondaryAction:$},V=(e=>{const{alignItems:t,classes:n,dense:s,disableGutters:o,disablePadding:r,divider:i,hasSecondaryAction:d}=e,l={root:["root",s&&"dense",!o&&"gutters",!r&&"padding",i&&"divider","flex-start"===t&&"alignItemsFlexStart",d&&"secondaryAction"],container:["container"]};return(0,a.A)(l,m._,n)})(z),B=(0,u.A)(E,t),W=k.root||f.Root||h,_=R.root||y.root||{},D={className:(0,o.A)(V.root,_.className,g),...L};let H=b||"li";return $?(H=D.component||b?H:"div","li"===j&&("li"===H?H="div":"li"===D.component&&(D.component="div")),(0,x.jsx)(p.A.Provider,{value:T,children:(0,x.jsxs)(v,{as:j,className:(0,o.A)(V.container,S),ref:B,ownerState:z,...w,children:[(0,x.jsx)(W,{..._,...!(0,r.A)(W)&&{as:H,ownerState:{...z,..._.ownerState}},...D,children:F}),F.pop()]})})):(0,x.jsx)(p.A.Provider,{value:T,children:(0,x.jsxs)(W,{..._,as:H,ref:B,...!(0,r.A)(W)&&{ownerState:{...z,..._.ownerState}},...D,children:[F,P&&(0,x.jsx)(A.A,{children:P})]})})})},37326:(e,t,n)=>{n.d(t,{A:()=>m});var s=n(7552),o=n(93878),a=n(75100),r=n(80317),i=n(50864),d=n(67357),l=n(41348),c=n(69500);const u=(0,r.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),p=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...p}=n,m=s.useContext(d.A),g={...n,disableGutters:m.disableGutters},A=(e=>{const{disableGutters:t,classes:n}=e,s={root:["root",t&&"disableGutters"]};return(0,a.A)(s,l.g,n)})(g);return(0,c.jsx)(u,{className:(0,o.A)(A.root,r),ownerState:g,ref:t,...p})});p.muiName="ListItemSecondaryAction";const m=p},37712:(e,t,n)=>{n.d(t,{A:()=>r,E:()=>a});var s=n(51062),o=n(2958);function a(e){return(0,o.Ay)("MuiCardActions",e)}const r=(0,s.A)("MuiCardActions",["root","spacing"])},40690:(e,t,n)=>{n.d(t,{A:()=>u});var s=n(7552),o=n(93878),a=n(75100),r=n(80317),i=n(50864),d=n(37712),l=n(69500);const c=(0,r.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),u=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:r,...u}=n,p={...n,disableSpacing:s},m=(e=>{const{classes:t,disableSpacing:n}=e,s={root:["root",!n&&"spacing"]};return(0,a.A)(s,d.E,t)})(p);return(0,l.jsx)(c,{className:(0,o.A)(m.root,r),ownerState:p,ref:t,...u})})},41348:(e,t,n)=>{n.d(t,{A:()=>r,g:()=>a});var s=n(51062),o=n(2958);function a(e){return(0,o.Ay)("MuiListItemSecondaryAction",e)}const r=(0,s.A)("MuiListItemSecondaryAction",["root","disableGutters"])},47374:(e,t,n)=>{n.d(t,{A:()=>r,T:()=>a});var s=n(51062),o=n(2958);function a(e){return(0,o.Ay)("MuiCard",e)}const r=(0,s.A)("MuiCard",["root"])},48759:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(29772),o=n(69500);const a=(0,s.A)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},65984:(e,t,n)=>{n.d(t,{A:()=>r,h:()=>a});var s=n(51062),o=n(2958);function a(e){return(0,o.Ay)("MuiCardContent",e)}const r=(0,s.A)("MuiCardContent",["root"])},70721:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(29772),o=n(69500);const a=(0,s.A)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock")},74281:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(29772),o=n(69500);const a=(0,s.A)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},74900:(e,t,n)=>{n.d(t,{A:()=>p});var s=n(7552),o=n(93878),a=n(75100),r=n(80317),i=n(50864),d=n(95054),l=n(47374),c=n(69500);const u=(0,r.Ay)(d.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),p=s.forwardRef(function(e,t){const n=(0,i.b)({props:e,name:"MuiCard"}),{className:s,raised:r=!1,...d}=n,p={...n,raised:r},m=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},l.T,t)})(p);return(0,c.jsx)(u,{className:(0,o.A)(m.root,s),elevation:r?8:void 0,ref:t,ownerState:p,...d})})},75068:(e,t,n)=>{n.d(t,{A:()=>h});var s=n(7552),o=n(93878),a=n(75100),r=n(80317),i=n(21928),d=n(50864),l=n(43124),c=n(81215),u=n(8438),p=n(22020),m=n(69500);const g=(0,r.Ay)(l.A,{name:"MuiAccordionSummary",slot:"Root"})((0,i.A)(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${u.A.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${u.A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${u.A.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${u.A.expanded}`]:{minHeight:64}}}]}})),A=(0,r.Ay)("span",{name:"MuiAccordionSummary",slot:"Content"})((0,i.A)(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${u.A.expanded}`]:{margin:"20px 0"}}}]}))),x=(0,r.Ay)("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})((0,i.A)(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${u.A.expanded}`]:{transform:"rotate(180deg)"}}))),h=s.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiAccordionSummary"}),{children:r,className:i,expandIcon:l,focusVisibleClassName:h,onClick:v,slots:b,slotProps:f,...y}=n,{disabled:j=!1,disableGutters:S,expanded:w,toggle:M}=s.useContext(c.A),C={...n,expanded:w,disabled:j,disableGutters:S},I=(e=>{const{classes:t,expanded:n,disabled:s,disableGutters:o}=e,r={root:["root",n&&"expanded",s&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,a.A)(r,u.T,t)})(C),N={slots:b,slotProps:f},[P,R]=(0,p.A)("root",{ref:t,shouldForwardComponentProp:!0,className:(0,o.A)(I.root,i),elementType:g,externalForwardedProps:{...N,...y},ownerState:C,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:j,"aria-expanded":w,focusVisibleClassName:(0,o.A)(I.focusVisible,h)},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),(e=>{M&&M(e),v&&v(e)})(t)}})}),[k,L]=(0,p.A)("content",{className:I.content,elementType:A,externalForwardedProps:N,ownerState:C}),[G,T]=(0,p.A)("expandIconWrapper",{className:I.expandIconWrapper,elementType:x,externalForwardedProps:N,ownerState:C});return(0,m.jsxs)(P,{...R,children:[(0,m.jsx)(k,{...L,children:r}),l&&(0,m.jsx)(G,{...T,children:l})]})})}}]);
//# sourceMappingURL=1557.5f2625f1.chunk.js.map