{"version":3,"file":"static/js/3795.e414ca23.chunk.js","mappings":"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","sources":["../../../plugins/linear-comparative-view/src/LinearSyntenyView/components/LinearSyntenyView.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/HeaderSearchBoxes.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/Header.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/LinearComparativeRenderArea.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/VerticalGuide.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/Rubberband.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/LinearComparativeView.tsx"],"sourcesContent":["import { lazy } from 'react'\n\nimport { observer } from 'mobx-react'\n\nimport LinearComparativeViewComponent from '../../LinearComparativeView/components/LinearComparativeView'\n\nimport type { LinearSyntenyViewModel } from '../model'\n\nconst LinearSyntenyImportForm = lazy(\n  () => import('./ImportForm/LinearSyntenyImportForm'),\n)\n\nconst LinearSyntenyView = observer(function ({\n  model,\n}: {\n  model: LinearSyntenyViewModel\n}) {\n  return !model.initialized ? (\n    <LinearSyntenyImportForm model={model} />\n  ) : (\n    <LinearComparativeViewComponent model={model} />\n  )\n})\n\nexport default LinearSyntenyView\n","import { getBpDisplayStr } from '@jbrowse/core/util'\nimport { SearchBox } from '@jbrowse/plugin-linear-genome-view'\nimport { Typography } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\nconst useStyles = makeStyles()(() => ({\n  bp: {\n    display: 'flex',\n    alignItems: 'center',\n    marginLeft: 10,\n  },\n  searchBox: {\n    display: 'flex',\n  },\n}))\n\nconst HeaderSearchBoxes = observer(function ({\n  view,\n}: {\n  view: LinearGenomeViewModel\n}) {\n  const { classes } = useStyles()\n  const { assemblyDisplayNames, coarseTotalBp } = view\n  return (\n    <span className={classes.searchBox}>\n      <SearchBox model={view} showHelp={false} />\n      <Typography variant=\"body2\" color=\"textSecondary\" className={classes.bp}>\n        {assemblyDisplayNames.join(',')} {getBpDisplayStr(coarseTotalBp)}\n      </Typography>\n    </span>\n  )\n})\n\nexport default HeaderSearchBoxes\n","import { useState } from 'react'\n\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport { TrackSelector as TrackSelectorIcon } from '@jbrowse/core/ui/Icons'\nimport MoreVertIcon from '@mui/icons-material/MoreVert'\nimport SearchIcon from '@mui/icons-material/Search'\nimport { FormGroup } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport HeaderSearchBoxes from './HeaderSearchBoxes'\n\nimport type { LinearComparativeViewModel } from '../model'\n\nconst useStyles = makeStyles()({\n  inline: {\n    display: 'inline-flex',\n  },\n})\n\nconst Header = observer(function ({\n  model,\n}: {\n  model: LinearComparativeViewModel\n}) {\n  const { classes } = useStyles()\n  const { views } = model\n  const [showSearchBoxes, setShowSearchBoxes] = useState(views.length <= 3)\n  const [sideBySide, setSideBySide] = useState(views.length <= 3)\n  return (\n    <FormGroup row>\n      <CascadingMenuButton\n        menuItems={[\n          {\n            label: 'Synteny track selectors',\n            type: 'subMenu',\n            subMenu: views.slice(0, -1).map((_, idx) => ({\n              label: `Row ${idx + 1}->${idx + 2} (${views[idx]!.assemblyNames.join(',')}->${views[idx + 1]!.assemblyNames.join(',')})`,\n              onClick: () => {\n                model.activateTrackSelector(idx)\n              },\n            })),\n          },\n\n          {\n            label: 'Row track selectors',\n            type: 'subMenu',\n            subMenu: views.map((view, idx) => ({\n              label: `Row ${idx + 1} track selector (${view.assemblyNames.join(',')})`,\n              onClick: () => view.activateTrackSelector(),\n            })),\n          },\n        ]}\n      >\n        <TrackSelectorIcon />\n      </CascadingMenuButton>\n      <CascadingMenuButton\n        menuItems={[\n          {\n            label: 'Row view menus',\n            type: 'subMenu',\n            subMenu: views.map((view, idx) => ({\n              label: `View ${idx + 1} Menu`,\n              subMenu: view.menuItems(),\n            })),\n          },\n          ...model.headerMenuItems(),\n        ]}\n      >\n        <MoreVertIcon />\n      </CascadingMenuButton>\n      <CascadingMenuButton\n        menuItems={[\n          {\n            label: 'Show search boxes',\n            type: 'checkbox',\n            checked: showSearchBoxes,\n            onClick: () => {\n              setShowSearchBoxes(!showSearchBoxes)\n            },\n          },\n\n          {\n            label: 'Orientation - Side-by-side',\n            type: 'radio',\n            checked: sideBySide,\n            onClick: () => {\n              setSideBySide(!sideBySide)\n            },\n          },\n          {\n            label: 'Orientation - Vertical',\n            type: 'radio',\n            checked: !sideBySide,\n            onClick: () => {\n              setSideBySide(!sideBySide)\n            },\n          },\n        ]}\n      >\n        <SearchIcon />\n      </CascadingMenuButton>\n\n      {showSearchBoxes ? (\n        <span className={sideBySide ? classes.inline : undefined}>\n          {views.map(view => (\n            <HeaderSearchBoxes key={view.id} view={view} />\n          ))}\n        </span>\n      ) : null}\n    </FormGroup>\n  )\n})\nexport default Header\n","import { getConf } from '@jbrowse/core/configuration'\nimport { ResizeHandle } from '@jbrowse/core/ui'\nimport { getEnv } from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\nimport { Fragment } from 'react/jsx-runtime'\nimport { makeStyles } from 'tss-react/mui'\n\nimport type { LinearComparativeViewModel } from '../model'\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\nconst useStyles = makeStyles()({\n  container: {\n    display: 'grid',\n  },\n  overlay: {\n    zIndex: 100,\n    gridArea: '1/1',\n  },\n  resizeHandle: {\n    height: 4,\n    background: '#ccc',\n  },\n})\n\nfunction View({ view }: { view: LinearGenomeViewModel }) {\n  const { pluginManager } = getEnv(view)\n  const { ReactComponent } = pluginManager.getViewType(view.type)!\n  return <ReactComponent model={view} />\n}\n\nconst LinearComparativeRenderArea = observer(function ({\n  model,\n}: {\n  model: LinearComparativeViewModel\n}) {\n  const { classes } = useStyles()\n  const { views, levels } = model\n\n  return (\n    <div className={classes.container}>\n      {views.map((view, i) => (\n        <Fragment key={view.id}>\n          {i > 0 ? (\n            <>\n              <div className={classes.container}>\n                <Overlays model={model} level={i - 1} />\n              </div>\n              <ResizeHandle\n                onDrag={n =>\n                  levels[i - 1]?.setHeight((levels[i - 1]?.height || 0) + n)\n                }\n                className={classes.resizeHandle}\n              />\n            </>\n          ) : null}\n          <View view={view} />\n        </Fragment>\n      ))}\n    </div>\n  )\n})\n\nconst Overlays = observer(function ({\n  model,\n  level,\n}: {\n  model: LinearComparativeViewModel\n  level: number\n}) {\n  const { classes } = useStyles()\n  return (\n    <>\n      {model.levels[level]?.tracks.map(track => {\n        const [display] = track.displays\n        const { RenderingComponent } = display\n        const trackId = getConf(track, 'trackId')\n        return RenderingComponent ? (\n          <div\n            className={classes.overlay}\n            key={trackId}\n            style={{\n              height: display.height,\n              overflow: 'hidden',\n            }}\n          >\n            <RenderingComponent model={display} />\n          </div>\n        ) : null\n      })}\n    </>\n  )\n})\n\nexport default LinearComparativeRenderArea\n","import { stringify } from '@jbrowse/core/util'\nimport { Tooltip } from '@mui/material'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport type { LinearComparativeViewModel } from '../model'\n\ntype LCV = LinearComparativeViewModel\n\nconst useStyles = makeStyles()({\n  guide: {\n    pointerEvents: 'none',\n    height: '100%',\n    width: 1,\n    position: 'absolute',\n    background: 'red',\n    zIndex: 1001,\n  },\n})\n\nconst VerticalGuide = observer(function ({\n  model,\n  coordX,\n}: {\n  model: LCV\n  coordX: number\n}) {\n  const { classes } = useStyles()\n  return (\n    <Tooltip\n      open\n      placement=\"top\"\n      title={model.views\n        .map(view => view.pxToBp(coordX))\n        .map((elt, idx) => (\n          <div key={[JSON.stringify(elt), idx].join('-')}>\n            {stringify(elt, true)}\n          </div>\n        ))}\n      arrow\n    >\n      <div\n        className={classes.guide}\n        style={{\n          left: coordX,\n        }}\n      />\n    </Tooltip>\n  )\n})\n\nexport default VerticalGuide\n","import { useEffect, useRef, useState } from 'react'\n\nimport { Menu } from '@jbrowse/core/ui'\nimport { stringify } from '@jbrowse/core/util'\nimport { Popover, Typography, alpha } from '@mui/material'\nimport { transaction } from 'mobx'\nimport { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport VerticalGuide from './VerticalGuide'\n\nimport type { LinearComparativeViewModel } from '../model'\nimport type { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\ntype LCV = LinearComparativeViewModel\ntype LGV = LinearGenomeViewModel\n\nconst useStyles = makeStyles()(theme => {\n  return {\n    rubberband: {\n      height: '100%',\n      background: alpha(theme.palette.tertiary.main, 0.7),\n      position: 'absolute',\n      zIndex: 900,\n      textAlign: 'center',\n      overflow: 'hidden',\n    },\n    rubberbandControl: {\n      cursor: 'crosshair',\n      width: '100%',\n      minHeight: 8,\n    },\n    rubberbandText: {\n      color: theme.palette.tertiary.contrastText,\n    },\n    popover: {\n      mouseEvents: 'none',\n      cursor: 'crosshair',\n    },\n    paper: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n    },\n  }\n})\n\nconst LinearComparativeRubberband = observer(function Rubberband({\n  model,\n  ControlComponent = <div />,\n}: {\n  model: LCV\n  ControlComponent?: React.ReactElement\n}) {\n  const [startX, setStartX] = useState<number>()\n  const [currentX, setCurrentX] = useState<number>()\n\n  // clientX and clientY used for anchorPosition for menu\n  // offsetX used for calculations about width of selection\n  const [anchorPosition, setAnchorPosition] = useState<{\n    offsetX: number\n    clientX: number\n    clientY: number\n  }>()\n  const [guideX, setGuideX] = useState<number>()\n  const controlsRef = useRef<HTMLDivElement>(null)\n  const rubberbandRef = useRef<HTMLDivElement>(null)\n  const { classes } = useStyles()\n  const mouseDragging = startX !== undefined && anchorPosition === undefined\n\n  useEffect(() => {\n    function computeOffsets(offsetX: number, view: LGV) {\n      if (startX === undefined) {\n        return\n      }\n      let leftPx = startX\n      let rightPx = offsetX\n      // handles clicking and dragging to the left\n      if (rightPx < leftPx) {\n        ;[leftPx, rightPx] = [rightPx, leftPx]\n      }\n      const leftOffset = view.pxToBp(leftPx)\n      const rightOffset = view.pxToBp(rightPx)\n\n      return { leftOffset, rightOffset }\n    }\n\n    function globalMouseMove(event: MouseEvent) {\n      if (controlsRef.current && mouseDragging) {\n        const relativeX =\n          event.clientX - controlsRef.current.getBoundingClientRect().left\n        setCurrentX(relativeX)\n      }\n    }\n\n    function globalMouseUp(event: MouseEvent) {\n      if (startX !== undefined && controlsRef.current) {\n        const { clientX, clientY } = event\n        const ref = controlsRef.current\n        const offsetX = clientX - ref.getBoundingClientRect().left\n        // as stated above, store both clientX/Y and offsetX for different\n        // purposes\n        setAnchorPosition({\n          offsetX,\n          clientX,\n          clientY,\n        })\n        transaction(() => {\n          for (const view of model.views) {\n            const args = computeOffsets(offsetX, view)\n            if (args) {\n              const { leftOffset, rightOffset } = args\n              view.setOffsets(leftOffset, rightOffset)\n            }\n          }\n        })\n        setGuideX(undefined)\n      }\n    }\n    if (mouseDragging) {\n      window.addEventListener('mousemove', globalMouseMove)\n      window.addEventListener('mouseup', globalMouseUp)\n      return () => {\n        window.removeEventListener('mousemove', globalMouseMove)\n        window.removeEventListener('mouseup', globalMouseUp)\n      }\n    }\n    return () => {}\n  }, [startX, mouseDragging, model])\n\n  useEffect(() => {\n    if (\n      !mouseDragging &&\n      currentX !== undefined &&\n      startX !== undefined &&\n      Math.abs(currentX - startX) <= 3\n    ) {\n      handleClose()\n    }\n  }, [mouseDragging, currentX, startX])\n\n  function mouseDown(event: React.MouseEvent<HTMLDivElement>) {\n    event.preventDefault()\n    event.stopPropagation()\n    const relativeX =\n      event.clientX -\n      (event.target as HTMLDivElement).getBoundingClientRect().left\n    setStartX(relativeX)\n    setCurrentX(relativeX)\n  }\n\n  function mouseMove(event: React.MouseEvent<HTMLDivElement>) {\n    const target = event.target as HTMLDivElement\n    setGuideX(event.clientX - target.getBoundingClientRect().left)\n  }\n\n  function mouseOut() {\n    setGuideX(undefined)\n    transaction(() => {\n      for (const view of model.views) {\n        view.setOffsets(undefined, undefined)\n      }\n    })\n  }\n\n  function handleClose() {\n    setAnchorPosition(undefined)\n    setStartX(undefined)\n    setCurrentX(undefined)\n  }\n\n  const open = Boolean(anchorPosition)\n\n  function handleMenuItemClick(_: unknown, callback: () => void) {\n    callback()\n    handleClose()\n  }\n\n  if (startX === undefined) {\n    return (\n      <>\n        {guideX !== undefined ? (\n          <VerticalGuide model={model} coordX={guideX} />\n        ) : null}\n        <div\n          ref={controlsRef}\n          className={classes.rubberbandControl}\n          onMouseDown={mouseDown}\n          onMouseOut={mouseOut}\n          onMouseMove={mouseMove}\n        >\n          {ControlComponent}\n        </div>\n      </>\n    )\n  }\n\n  const right = anchorPosition ? anchorPosition.offsetX : currentX || 0\n  const left = Math.min(right, startX)\n  const width = Math.abs(right - startX)\n  const { views } = model\n  const leftBpOffset = views.map(view => view.pxToBp(left))\n  const rightBpOffset = views.map(view => view.pxToBp(left + width))\n  const numOfBpSelected = views.map(view => Math.ceil(width * view.bpPerPx))\n  return (\n    <>\n      {rubberbandRef.current ? (\n        <>\n          <Popover\n            className={classes.popover}\n            classes={{ paper: classes.paper }}\n            open\n            anchorEl={rubberbandRef.current}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'left',\n            }}\n            transformOrigin={{\n              vertical: 'bottom',\n              horizontal: 'right',\n            }}\n            keepMounted\n            disableRestoreFocus\n          >\n            {leftBpOffset.map((l, idx) => (\n              <Typography key={[JSON.stringify(l), idx, 'left'].join('-')}>\n                {stringify(l, true)}\n              </Typography>\n            ))}\n          </Popover>\n          <Popover\n            className={classes.popover}\n            classes={{ paper: classes.paper }}\n            open\n            anchorEl={rubberbandRef.current}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n            transformOrigin={{\n              vertical: 'bottom',\n              horizontal: 'left',\n            }}\n            keepMounted\n            disableRestoreFocus\n          >\n            {rightBpOffset.map((l, idx) => (\n              <Typography key={[JSON.stringify(l), idx, 'right'].join('-')}>\n                {stringify(l, true)}\n              </Typography>\n            ))}\n          </Popover>\n        </>\n      ) : null}\n      <div\n        ref={rubberbandRef}\n        className={classes.rubberband}\n        style={{ left, width }}\n      >\n        <Typography variant=\"h6\" className={classes.rubberbandText}>\n          {numOfBpSelected.map((n, i) => (\n            /* biome-ignore lint/suspicious/noArrayIndexKey: */\n            <Typography key={`${n}_${i}`}>\n              {`${n.toLocaleString('en-US')}bp`}\n            </Typography>\n          ))}\n        </Typography>\n      </div>\n      <div\n        className={classes.rubberbandControl}\n        ref={controlsRef}\n        onMouseDown={mouseDown}\n        onMouseOut={mouseOut}\n        onMouseMove={mouseMove}\n      >\n        {ControlComponent}\n      </div>\n      {anchorPosition ? (\n        <Menu\n          anchorReference=\"anchorPosition\"\n          anchorPosition={{\n            left: anchorPosition.clientX,\n            top: anchorPosition.clientY,\n          }}\n          onMenuItemClick={handleMenuItemClick}\n          open={open}\n          onClose={handleClose}\n          menuItems={model.rubberBandMenuItems()}\n        />\n      ) : null}\n    </>\n  )\n})\n\nexport default LinearComparativeRubberband\n","import { observer } from 'mobx-react'\nimport { makeStyles } from 'tss-react/mui'\n\nimport Header from './Header'\nimport LinearComparativeRenderArea from './LinearComparativeRenderArea'\nimport Rubberband from './Rubberband'\n\nimport type { LinearComparativeViewModel } from '../model'\n\nconst useStyles = makeStyles()(theme => ({\n  // this helps keep the vertical guide inside the parent view container,\n  // similar style exists in the single LGV's trackscontainer\n  rubberbandContainer: {\n    position: 'relative',\n    overflow: 'hidden',\n  },\n\n  rubberbandDiv: {\n    width: '100%',\n    background: theme.palette.action.disabledBackground,\n    height: 15,\n    '&:hover': {\n      background: theme.palette.action.selected,\n    },\n  },\n}))\n\nconst LinearComparativeView = observer(function ({\n  model,\n}: {\n  model: LinearComparativeViewModel\n}) {\n  const { classes } = useStyles()\n\n  return (\n    <div className={classes.rubberbandContainer}>\n      <Header model={model} />\n      <Rubberband\n        model={model}\n        ControlComponent={<div className={classes.rubberbandDiv} />}\n      />\n      <LinearComparativeRenderArea model={model} />\n    </div>\n  )\n})\n\nexport default LinearComparativeView\n"],"names":["LinearSyntenyImportForm","lazy","observer","model","initialized","_jsx","LinearComparativeViewComponent","useStyles","makeStyles","bp","display","alignItems","marginLeft","searchBox","view","classes","assemblyDisplayNames","coarseTotalBp","_jsxs","className","children","SearchBox","showHelp","Typography","variant","color","join","getBpDisplayStr","inline","views","showSearchBoxes","setShowSearchBoxes","useState","length","sideBySide","setSideBySide","FormGroup","row","CascadingMenuButton","menuItems","label","type","subMenu","slice","map","_","idx","assemblyNames","onClick","activateTrackSelector","TrackSelectorIcon","headerMenuItems","MoreVertIcon","checked","SearchIcon","undefined","HeaderSearchBoxes","id","container","overlay","zIndex","gridArea","resizeHandle","height","background","View","t0","$","_c","t1","pluginManager","getEnv","getViewType","ReactComponent","t2","LinearComparativeRenderArea","levels","i","Fragment","_Fragment","Overlays","level","ResizeHandle","onDrag","n","setHeight","tracks","track","displays","RenderingComponent","trackId","getConf","style","overflow","guide","pointerEvents","width","position","coordX","Tooltip","open","placement","title","pxToBp","elt","stringify","JSON","arrow","left","theme","rubberband","alpha","palette","tertiary","main","textAlign","rubberbandControl","cursor","minHeight","rubberbandText","contrastText","popover","mouseEvents","paper","paddingLeft","spacing","paddingRight","ControlComponent","startX","setStartX","currentX","setCurrentX","anchorPosition","setAnchorPosition","guideX","setGuideX","controlsRef","useRef","rubberbandRef","mouseDragging","mouseDown","event","preventDefault","stopPropagation","relativeX","clientX","target","getBoundingClientRect","mouseMove","mouseOut","transaction","setOffsets","handleClose","useEffect","computeOffsets","offsetX","leftPx","rightPx","leftOffset","rightOffset","globalMouseMove","current","globalMouseUp","clientY","args","window","addEventListener","removeEventListener","Math","abs","Boolean","VerticalGuide","ref","onMouseDown","onMouseOut","onMouseMove","right","min","leftBpOffset","rightBpOffset","numOfBpSelected","ceil","bpPerPx","Popover","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","disableRestoreFocus","l","toLocaleString","Menu","anchorReference","top","onMenuItemClick","callback","onClose","rubberBandMenuItems","rubberbandContainer","rubberbandDiv","action","disabledBackground","selected","Header","Rubberband"],"sourceRoot":""}