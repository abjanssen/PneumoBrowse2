{"version":3,"file":"static/js/2104.a0b38bfa.chunk.js","mappings":"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","sources":["webpack://@jbrowse/web/../../plugins/wiggle/src/MultiLinearWiggleDisplay/components/Tooltip.tsx","webpack://@jbrowse/web/../../plugins/wiggle/src/Tooltip.tsx"],"sourcesContent":["import { forwardRef } from 'react'\n\nimport { toLocale } from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\n\nimport Tooltip from '../../Tooltip.tsx'\nimport { toP } from '../../util.ts'\n\nimport type { TooltipContentsComponent } from '../../Tooltip.tsx'\nimport type { Source } from '../../util.ts'\nimport type { Feature } from '@jbrowse/core/util'\n\ninterface Props {\n  model: { sources: Source[] }\n  feature: Feature\n}\nconst TooltipContents = forwardRef<HTMLDivElement, Props>(\n  function TooltipContents2({ model, feature }, ref) {\n    const start = feature.get('start')\n    const end = feature.get('end')\n    const refName = feature.get('refName')\n    const coord =\n      start === end ? toLocale(start) : `${toLocale(start)}..${toLocale(end)}`\n    const sources = feature.get('sources') as\n      | Record<string, { score: number }>\n      | undefined\n    const source = feature.get('source')\n    const summary = feature.get('summary')\n    const obj = Object.fromEntries(model.sources.map(ent => [ent.name, ent]))\n    const obj2 = obj[source]\n\n    return (\n      <div ref={ref}>\n        {[refName, coord].filter(f => !!f).join(':')}\n        <br />\n        {sources ? (\n          <table>\n            <thead>\n              <tr>\n                <th>color</th>\n                <th>source</th>\n                <th>score</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.entries(sources).map(([source, data]) => {\n                const sourceInfo = obj[source]\n                return (\n                  <tr key={source}>\n                    <td>\n                      {sourceInfo && (\n                        <div\n                          style={{\n                            width: 16,\n                            height: 16,\n                            background: sourceInfo.color,\n                          }}\n                        ></div>\n                      )}\n                    </td>\n                    <td>{sourceInfo?.name || source}</td>\n                    <td>{toP(data.score)}</td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n        ) : (\n          <span>\n            {obj2?.name || source}{' '}\n            {summary && feature.get('minScore') != null\n              ? `min:${toP(feature.get('minScore'))} avg:${toP(\n                  feature.get('score'),\n                )} max:${toP(feature.get('maxScore'))}`\n              : toP(feature.get('score'))}\n          </span>\n        )}\n      </div>\n    )\n  },\n)\n\ntype Coord = [number, number]\n\nconst WiggleTooltip = observer(function WiggleTooltip(props: {\n  model: { featureUnderMouse: Feature; sources: Source[]; rowHeight: number }\n  height: number\n  offsetMouseCoord: Coord\n  clientMouseCoord: Coord\n  TooltipContents?: TooltipContentsComponent\n}) {\n  return <Tooltip TooltipContents={TooltipContents} {...props} />\n})\n\nexport default WiggleTooltip\n","import { Suspense } from 'react'\n\nimport BaseTooltip from '@jbrowse/core/ui/BaseTooltip'\nimport { makeStyles } from '@jbrowse/core/util/tss-react'\nimport { observer } from 'mobx-react'\n\nimport { YSCALEBAR_LABEL_OFFSET } from './util.ts'\n\nimport type { Feature } from '@jbrowse/core/util'\n\nconst useStyles = makeStyles()(theme => ({\n  hoverVertical: {\n    background: theme.palette.text.primary,\n    border: 'none',\n    width: 1,\n    height: '100%',\n    top: YSCALEBAR_LABEL_OFFSET,\n    cursor: 'default',\n    position: 'absolute',\n    pointerEvents: 'none',\n  },\n}))\n\ntype Coord = [number, number]\n\n// forwardRef component for the tooltip, the ref is used for measuring\n// the size of the tooltip\nexport type TooltipContentsComponent = React.ForwardRefExoticComponent<\n  { feature: Feature; model: any } & React.RefAttributes<HTMLDivElement>\n>\n\nconst Tooltip = observer(function Tooltip({\n  model,\n  height,\n  clientMouseCoord,\n  offsetMouseCoord,\n  TooltipContents,\n}: {\n  model: { featureUnderMouse?: Feature }\n  height: number\n  clientMouseCoord: Coord\n  offsetMouseCoord: Coord\n  TooltipContents: TooltipContentsComponent\n}) {\n  const { featureUnderMouse } = model\n  const { classes } = useStyles()\n\n  const x = clientMouseCoord[0] + 5\n  const y = clientMouseCoord[1]\n  return featureUnderMouse ? (\n    <>\n      <Suspense fallback={null}>\n        <BaseTooltip clientPoint={{ x, y }}>\n          <TooltipContents model={model} feature={featureUnderMouse} />\n        </BaseTooltip>\n      </Suspense>\n\n      <div\n        className={classes.hoverVertical}\n        style={{\n          left: offsetMouseCoord[0],\n          height: height - YSCALEBAR_LABEL_OFFSET * 2,\n        }}\n      />\n    </>\n  ) : null\n})\n\nexport default Tooltip\n"],"names":["TooltipContents","forwardRef","t0","ref","$","_c","model","feature","refName","t1","start","get","end","toLocale","coord","t2","sources","t3","source","summary","t4","Object","fromEntries","map","_temp","obj","obj2","t5","t6","filter","_temp2","Symbol","for","_jsx","_jsxs","children","join","entries","t7","source_0","data","sourceInfo","style","width","height","background","color","name","toP","score","observer","props","Tooltip","ent","f","useStyles","makeStyles","theme","hoverVertical","palette","text","primary","border","top","YSCALEBAR_LABEL_OFFSET","cursor","position","pointerEvents","clientMouseCoord","offsetMouseCoord","featureUnderMouse","classes","x","y","_Fragment","Suspense","fallback","BaseTooltip","clientPoint","className","left"],"sourceRoot":""}