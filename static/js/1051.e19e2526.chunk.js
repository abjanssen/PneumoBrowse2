"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1051],{31051(n,s,i){i.r(s),i.d(s,{default:()=>m});var e=i(38817),o=i(69566),r=i(55614),a=i(30128),t=i(22601),l=i(28910),c=i(35703),h=i(63209),d=i(43754),u=i(44641),g=i(44460);function p(n){const s=(0,r.c)(23),{onConfirm:i,onCancel:e,reason:o}=n,[t,p]=(0,a.useState)(!1);let y,j,x,m,w,C,v,S,k,A;return s[0]===Symbol.for("react.memo_cache_sentinel")?(y={width:800},s[0]=y):y=s[0],s[1]!==o?(j=o.map(f),s[1]=o,s[2]=j):j=s[2],s[3]!==j?(x=(0,g.jsx)("ul",{children:j}),s[3]=j,s[4]=x):x=s[4],s[5]!==t?(m=(0,g.jsx)(c.A,{onClick:()=>{p(!t)},children:"Why am I seeing this?"}),w=t?(0,g.jsx)("div",{children:"Config files can load arbitrary javascript files via plugins. For security purposes, we display this message when a cross-origin config is detected to be loading plugins that are not in our plugin store"}):null,s[5]=t,s[6]=m,s[7]=w):(m=s[6],w=s[7]),s[8]!==x||s[9]!==m||s[10]!==w?(C=(0,g.jsx)(h.A,{children:(0,g.jsxs)(d.A,{severity:"warning",style:y,children:["This link contains a cross origin config that has the following unknown plugins:",x,"Please ensure you trust the source of this link."," ",m,w]})}),s[8]=x,s[9]=m,s[10]=w,s[11]=C):C=s[11],s[12]!==i?(v=(0,g.jsx)(c.A,{color:"primary",variant:"contained",onClick:()=>{i()},children:"Yes, I trust it"}),s[12]=i,s[13]=v):v=s[13],s[14]!==e?(S=(0,g.jsx)(c.A,{color:"secondary",variant:"contained",onClick:()=>{e()},children:"Cancel"}),s[14]=e,s[15]=S):S=s[15],s[16]!==v||s[17]!==S?(k=(0,g.jsxs)(u.A,{children:[v,S]}),s[16]=v,s[17]=S,s[18]=k):k=s[18],s[19]!==e||s[20]!==C||s[21]!==k?(A=(0,g.jsxs)(l.A,{open:!0,maxWidth:"xl",title:"Warning",onClose:e,children:[C,k]}),s[19]=e,s[20]=C,s[21]=k,s[22]=A):A=s[22],A}function f(n){return(0,g.jsxs)("li",{children:[(0,t.lc)(n)," - (",(0,t.Hm)(n),")"]},JSON.stringify(n))}function y(n){const s=(0,r.c)(23),{onConfirm:i,onCancel:e,reason:o}=n,[t,p]=(0,a.useState)(!1);let f,y,x,m,w,C,v,S,k,A;return s[0]===Symbol.for("react.memo_cache_sentinel")?(f={width:800},s[0]=f):f=s[0],s[1]!==o?(y=o.map(j),s[1]=o,s[2]=y):y=s[2],s[3]!==y?(x=(0,g.jsx)("ul",{children:y}),s[3]=y,s[4]=x):x=s[4],s[5]!==t?(m=(0,g.jsx)(c.A,{onClick:()=>{p(!t)},children:"Why am I seeing this?"}),w=t?(0,g.jsx)("div",{children:"Sessions can load arbitrary javascript files via session plugins. For security purposes, we display this message when sessions contain plugins that are not from our plugin store"}):null,s[5]=t,s[6]=m,s[7]=w):(m=s[6],w=s[7]),s[8]!==x||s[9]!==m||s[10]!==w?(C=(0,g.jsx)(h.A,{children:(0,g.jsxs)(d.A,{severity:"warning",style:f,children:["This link contains a session that has the following unknown plugins:",x,"Please ensure you trust the source of this session.",m,w]})}),s[8]=x,s[9]=m,s[10]=w,s[11]=C):C=s[11],s[12]!==i?(v=(0,g.jsx)(c.A,{color:"primary",variant:"contained",onClick:()=>{i()},children:"Yes, I trust it"}),s[12]=i,s[13]=v):v=s[13],s[14]!==e?(S=(0,g.jsx)(c.A,{variant:"contained",color:"secondary",onClick:()=>{e()},children:"Cancel"}),s[14]=e,s[15]=S):S=s[15],s[16]!==v||s[17]!==S?(k=(0,g.jsxs)(u.A,{children:[v,S]}),s[16]=v,s[17]=S,s[18]=k):k=s[18],s[19]!==e||s[20]!==C||s[21]!==k?(A=(0,g.jsxs)(l.A,{open:!0,maxWidth:"xl",title:"Warning",onClose:e,children:[C,k]}),s[19]=e,s[20]=C,s[21]=k,s[22]=A):A=s[22],A}function j(n){return(0,g.jsxs)("li",{children:[(0,t.lc)(n)," - (",(0,t.Hm)(n),")"]},JSON.stringify(n))}var x=i(85775);const m=(0,o.observer)(function({sessionTriaged:n,loader:s}){return"session"===n.origin?(0,g.jsx)(y,{onConfirm:async()=>{const i=JSON.parse(JSON.stringify(n.snap));await s.loadSession({...i,id:(0,e.w)()},!0),s.setSessionTriaged(void 0)},onCancel:()=>{s.setBlankSession(!0),s.setSessionTriaged(void 0)},reason:n.reason}):(0,g.jsx)(p,{onConfirm:async()=>{const i=JSON.parse(JSON.stringify(n.snap));await s.fetchPlugins(i),s.setConfigSnapshot({...i,id:(0,e.w)()}),s.setSessionTriaged(void 0)},onCancel:async()=>{await(0,x.A)(),s.setSessionTriaged(void 0)},reason:n.reason})})}}]);
//# sourceMappingURL=1051.e19e2526.chunk.js.map