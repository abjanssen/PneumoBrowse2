{"version":3,"file":"static/js/139.77cfdfc3.chunk.js","mappings":"sKAmBOA,eAAeC,EACpBC,EACAC,GAEA,MAAMC,EAAeF,EAAKG,OAASH,EAAKI,mBAAmBD,OACrDE,EAAc,CAACL,EAAKI,mBAAoBJ,EAAKM,eAEnD,aADMC,EAAAA,EAAAA,MAAK,KAAOP,EAAKQ,YAAoCH,ECjB3CI,KAAKC,KAAOA,EAAEC,SDmB5BC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,eAAUd,EAAKI,mBAAmBL,UAAUE,MAC5Cc,EAAAA,EAAAA,KAAA,KAAGC,UAAW,eAAehB,EAAKI,mBAAmBD,UAAUW,eACtDd,EAAKM,cAAcP,UAAU,IAC/BE,EACHgB,eAAgBf,QAK1B,C","sources":["../../../plugins/alignments/src/LinearAlignmentsDisplay/renderSvg.tsx","../../../plugins/alignments/src/svgExportUtil.ts"],"sourcesContent":["import { when } from 'mobx'\n\nimport { hasAnySubDisplayError } from '../svgExportUtil.ts'\n\nimport type { ExportSvgDisplayOptions } from '@jbrowse/plugin-linear-genome-view'\n\ninterface SubDisplay {\n  height: number\n  error?: unknown\n  renderSvg(opts: ExportSvgDisplayOptions): Promise<React.ReactNode>\n}\n\ninterface MinimalLinearAlignmentsDisplay {\n  height: number\n  SNPCoverageDisplay: SubDisplay\n  PileupDisplay: SubDisplay\n  notReady(): boolean\n}\n\nexport async function renderSvg(\n  self: MinimalLinearAlignmentsDisplay,\n  opts: ExportSvgDisplayOptions,\n) {\n  const pileupHeight = self.height - self.SNPCoverageDisplay.height\n  const subDisplays = [self.SNPCoverageDisplay, self.PileupDisplay]\n  await when(() => !self.notReady() || hasAnySubDisplayError(subDisplays))\n  return (\n    <>\n      <g>{await self.SNPCoverageDisplay.renderSvg(opts)}</g>\n      <g transform={`translate(0 ${self.SNPCoverageDisplay.height})`}>\n        {await self.PileupDisplay.renderSvg({\n          ...opts,\n          overrideHeight: pileupHeight,\n        })}\n      </g>\n    </>\n  )\n}\n","export function isReadyOrHasError(display: {\n  renderProps(): { notReady?: boolean }\n  error?: unknown\n}) {\n  return !display.renderProps().notReady || !!display.error\n}\n\nexport function hasAnySubDisplayError(displays: { error?: unknown }[]) {\n  return displays.some(d => !!d.error)\n}\n"],"names":["async","renderSvg","self","opts","pileupHeight","height","SNPCoverageDisplay","subDisplays","PileupDisplay","when","notReady","some","d","error","_jsxs","_Fragment","children","_jsx","transform","overrideHeight"],"ignoreList":[],"sourceRoot":""}