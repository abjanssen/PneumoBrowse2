"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[9070],{9070:(e,t,n)=>{n.d(t,{doAfterAttach:()=>o});var a=n(99546),i=n(86576),s=n(91468);function o(e,t){function n(n){const a=e.ref;if(!a)return;const i=a.getContext("2d");if(!i)return;if(!e.chainData)return;const s="layoutHeight"in e?e.layoutHeight||1:e.height;i.resetTransform(),i.clearRect(0,0,a.width,a.height),i.scale(2,2),t(e,i,a.width,s),e.setLastDrawnOffsetPx(n.offsetPx),e.setLastDrawnBpPerPx(n.bpPerPx)}(0,i.vi)(e,async()=>{await async function(e){const t=(0,s.getRpcSessionId)(e),{rpcManager:n}=(0,a.getSession)(e),i=(0,a.getContainingView)(e);if(!i.initialized||e.error||!e.statsReadyAndRegionNotTooLarge)return;e.setLoading(!0);const o=await n.call(t,"PileupGetReducedFeatures",{sessionId:t,regions:i.staticBlocks.contentBlocks,filterBy:e.filterBy,adapterConfig:e.adapterConfig});e.setChainData(o),e.setLoading(!1)}(e)},{delay:1e3}),(0,i.vi)(e,async()=>{const t=(0,a.getContainingView)(e);t.bpPerPx!==e.lastDrawnBpPerPx&&n(t)}),(0,i.vi)(e,async()=>{n((0,a.getContainingView)(e))},{delay:1e3})}}}]);
//# sourceMappingURL=9070.b8b90c3b.chunk.js.map