"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[2352],{72352(e,o,r){r.r(o),r.d(o,{default:()=>u});var t=r(30128),n=r(69566),s=r(20208),i=r(17378),a=r(23886),d=r(44460);function c(e,o){const r=e.region.elided?0:e.region.start,t=e.region.elided?0:e.region.end;return(e.flipped?t-o:o-r)/e.bpPerRadian+e.startRadians}const l=(0,n.observer)(function({feature:e,blocksForRefs:o,radius:r,config:n,bezierRadius:l,selected:u,onClick:f}){const[g,k]=(0,t.useState)(!1),b=o[e.get("refName")];if(!b)return null;const p=e.get("start"),{endBlock:C,endPosition:h}=function(e,o,r){const t=e.get("ALT")?.[0],n=t&&(0,s.An)(t),i=e.get("mate");if(n){const[e,r]=n.MatePosition.split(":");return{endBlock:o[e],endPosition:+r}}if("<TRA>"===t){const r=e.get("INFO")?.CHR2?.[0],t=e.get("INFO")?.END?.[0];return{endBlock:o[r],endPosition:Number.parseInt(t,10)}}return i?{endBlock:o[i.refName],endPosition:i.start}:{endBlock:r,endPosition:e.get("end")}}(e,o,b);if(!C)return null;const R=c(b,p),P=c(C,h),[m,N]=(0,a.polarToCartesian)(r,R),[T,$]=(0,a.polarToCartesian)(r,P),[v,w]=(0,a.polarToCartesian)(l,(P+R)/2),M=(0,i.QZ)(n,g?"strokeColorHover":u?"strokeColorSelected":"strokeColor",{feature:e});return(0,d.jsx)("path",{"data-testid":`chord-${e.id()}`,cursor:"crosshair",fill:"none",d:`M ${m} ${N} Q ${v} ${w} ${T} ${$}`,...(0,a.getStrokeProps)(M),strokeWidth:g?3:1,onClick:o=>{f(e,b.region,C.region,o)},onMouseOver:()=>{k(!0)},onMouseOut:()=>{k(!1)}})}),u=(0,n.observer)(function({features:e,config:o,blockDefinitions:r,radius:n,bezierRadius:s,displayModel:i,onChordClick:a}){const{selectedFeatureId:c}=i||{},u=(0,t.useMemo)(()=>{const e={};for(const o of r){const r=o.region.elided?o.region.regions:[o.region];for(const t of r)e[t.refName]=o}return e},[r]);return(0,d.jsx)("g",{"data-testid":"structuralVariantChordRenderer",children:[...e.values()].map(e=>{const r=e.id(),t=c===r;return(0,d.jsx)(l,{feature:e,config:o,radius:n,bezierRadius:s,blocksForRefs:u,selected:t,onClick:a},r)})})})}}]);
//# sourceMappingURL=2352.05e05421.chunk.js.map