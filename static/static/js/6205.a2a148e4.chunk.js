"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[5243,6205],{66205:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(7552),a=r(68446),o=r(49823),i=r(99546),l=r(75785),s=r(83803),c=r(61723),m=r(8463),d=r(91404),u=r(87809),g=r(74893),p=r(69500);const h=(0,g.A)((0,p.jsx)("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93"}),"RotateLeft"),f=(0,g.A)((0,p.jsx)("path",{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03m3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48"}),"RotateRight"),b=(0,g.A)((0,p.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var v=r(79698),x=r(64502),k=r(17307),y=r(90542),A=r(15243);const E=(0,l.n9)()((e=>({controls:{position:"absolute",borderRight:`1px solid ${e.palette.divider}`,borderBottom:`1px solid ${e.palette.divider}`,left:0,top:0}}))),S=(0,a.observer)((function({model:e}){const{classes:t}=E(),[r,a]=(0,n.useState)(null);return n.createElement("div",{className:t.controls},n.createElement(c.A,{onClick:e.zoomOutButton,title:e.lockedFitToWindow?"unlock to zoom out":"zoom out",disabled:e.atMaxBpPerPx||e.lockedFitToWindow},n.createElement(d.A,null)),n.createElement(c.A,{onClick:e.zoomInButton,disabled:e.atMinBpPerPx,title:"zoom in"},n.createElement(u.A,null)),n.createElement(c.A,{onClick:e.rotateCounterClockwiseButton,title:"rotate counter-clockwise"},n.createElement(h,null)),n.createElement(c.A,{onClick:e.rotateClockwiseButton,title:"rotate clockwise"},n.createElement(f,null)),n.createElement(c.A,{onClick:e.toggleFitToWindowLock,title:e.lockedFitToWindow?"locked model to window size":"unlocked model to zoom further",disabled:e.tooSmallToLock},e.lockedFitToWindow?n.createElement(v.A,null):n.createElement(b,null)),n.createElement(c.A,{onClick:e=>{a(e.currentTarget)}},n.createElement(k.A,null)),e.hideTrackSelectorButton?null:n.createElement(c.A,{onClick:e.activateTrackSelector,title:"Open track selector","data-testid":"circular_track_select"},n.createElement(y.xU,null)),r?n.createElement(m.A,{anchorEl:r,menuItems:[{label:"Export SVG",icon:x.A,onClick:()=>{(0,i.getSession)(e).queueDialog((t=>[A.default,{model:e,handleClose:t}]))}}],onMenuItemClick:(e,t)=>{t(),a(null)},open:Boolean(r),onClose:()=>{a(null)}}):null)}));var C=r(63896),w=r(67314),M=r(5401);const R=(0,l.n9)()((e=>({importFormContainer:{padding:e.spacing(6)}}))),W=(0,a.observer)((function({model:e}){const{classes:t}=R(),r=(0,i.getSession)(e),{error:a}=e,{assemblyNames:l,assemblyManager:s}=r,[c,m]=(0,n.useState)(l[0]),d=s.get(c),u=l.length?d?.error:"No configured assemblies",g=d?.regions||[],p=u||a;return n.createElement(C.A,{className:t.importFormContainer},p?n.createElement(w.Ay,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},n.createElement(w.Ay,{item:!0},n.createElement(o.ErrorMessage,{error:p}))):null,n.createElement(w.Ay,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},n.createElement(w.Ay,{item:!0},n.createElement(o.AssemblySelector,{onChange:t=>{e.setError(void 0),m(t)},session:r,selected:c})),n.createElement(w.Ay,{item:!0},n.createElement(M.A,{disabled:!g.length,onClick:()=>{e.setError(void 0),e.setDisplayedRegions(g)},variant:"contained",color:"primary"},g.length||p?"Open":"Loading..."))))})),$=(0,l.n9)()((e=>({root:{position:"relative",marginBottom:e.spacing(1),overflow:"hidden"},scroller:{overflow:"auto"}}))),P=(0,a.observer)((({model:e})=>n.createElement(n.Fragment,null,e.staticSlices.map((t=>n.createElement(s.A,{key:(0,i.assembleLocString)(t.region.elided?t.region.regions[0]:t.region),model:e,slice:t}))),e.tracks.map((t=>{const r=t.displays[0];return n.createElement(r.RenderingComponent,{key:r.id,display:r,view:e})}))))),T=(0,a.observer)((({model:e})=>{const t=!!e.displayedRegions.length&&!!e.figureWidth&&!!e.figureHeight&&e.initialized,r=!t&&!e.disableImportForm,a=t&&!r;return r||e.error?n.createElement(W,{model:e}):a?n.createElement(z,{model:e}):null})),z=(0,a.observer)((function({model:e}){const{width:t,height:r,id:a,offsetRadians:i,centerXY:l,figureWidth:s,figureHeight:c,hideVerticalResizeHandle:m}=e,{classes:d}=$();return n.createElement("div",{className:d.root,style:{width:t,height:r},"data-testid":a},n.createElement("div",{className:d.scroller,style:{width:t,height:r}},n.createElement("svg",{style:{transform:`rotate(${i}rad)`,transition:"transform 0.5s",transformOrigin:l.map((e=>`${e}px`)).join(" "),position:"absolute",left:0,top:0},width:s,height:c},n.createElement("g",{transform:`translate(${l})`},n.createElement(P,{model:e})))),n.createElement(S,{model:e}),m?null:n.createElement(o.ResizeHandle,{onDrag:e.resizeHeight,style:{height:3,position:"absolute",bottom:0,left:0,background:"#ccc",boxSizing:"border-box",borderTop:"1px solid #fafafa"}}))})),N=T},15243:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(7552),a=r(59705),o=r(36715),i=r(1343),l=r(29499),s=r(29629),c=r(33371),m=r(32808),d=r(58507),u=r(5401),g=r(49823),p=r(99546);function h(){return n.createElement("div",null,n.createElement(a.A,{size:20,style:{marginRight:20}}),n.createElement(o.A,{display:"inline"},"Creating SVG"))}function f({children:e,...t}){return n.createElement("div",null,n.createElement(i.A,t,e))}function b(e,t){return(0,p.useLocalStorage)(`svg-${e}`,t)}function v({model:e,handleClose:t}){const r=(0,p.getSession)(e),a="undefined"!=typeof OffscreenCanvas,[i,v]=(0,n.useState)(a),[x,k]=(0,n.useState)(!1),[y,A]=(0,n.useState)(),[E,S]=b("file","jbrowse.svg"),[C,w]=b("theme",r.themeName||"default");return n.createElement(g.Dialog,{open:!0,onClose:t,title:"Export SVG"},n.createElement(l.A,null,y?n.createElement(g.ErrorMessage,{error:y}):x?n.createElement(h,null):null,n.createElement(f,{helperText:"filename",value:E,onChange:e=>{S(e.target.value)}}),r.allThemes?n.createElement(f,{select:!0,label:"Theme",value:C,onChange:e=>{w(e.target.value)}},Object.entries(r.allThemes()).map((([e,t])=>n.createElement(s.A,{key:e,value:e},t.name||"(Unknown name)")))):null,a?n.createElement(c.A,{control:n.createElement(m.A,{checked:i,onChange:()=>{v((e=>!e))}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):n.createElement(o.A,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),n.createElement(d.A,null,n.createElement(u.A,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel"),n.createElement(u.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{k(!0),A(void 0);try{await e.exportSvg({rasterizeLayers:i,filename:E,themeName:C}),t()}catch(e){console.error(e),A(e)}finally{k(!1)}}},"Submit")))}},83803:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(7552),a=r(68446),o=r(99546),i=r(80208),l=r(48231);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(null,arguments)}const c=(0,r(75785).n9)()({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function m(e,t,r,n){e.flipped&&([r,n]=[n,r]);const a=e.bpToXY(r,t),o=e.bpToXY(n,t);return["M",...a,"A",t,t,"0",Math.abs(n-r)/e.bpPerRadian>Math.PI?"1":"0","1",...o].join(" ")}const d=(0,a.observer)((function({model:e,slice:t,region:r}){const a=(0,l.A)(),{radiusPx:i}=e,c=i+1,{endRadians:m,startRadians:d}=t,g=(0,o.polarToCartesian)(c,d),p=(0,o.polarToCartesian)(c,m),h=(m-d)*c,f=m-d>Math.PI?"1":"0",b=(m+d)/2,v=`[${Number(r.regions.length).toLocaleString()}]`;return n.createElement(n.Fragment,null,n.createElement(u,{text:v,view:e,maxWidthPx:h,radians:b,radiusPx:c,title:`${v} more regions`,color:a.palette.text.primary}),n.createElement("path",s({d:["M",...g,"A",c,c,"0",f,"1",...p].join(" ")},(0,o.getStrokeProps)(a.palette.text.secondary),{strokeWidth:2,strokeDasharray:"2,2",fill:"none"})))})),u=(0,a.observer)((function({view:e,text:t,maxWidthPx:r,radians:a,radiusPx:i,title:l,color:m}){const{classes:d}=c(),u=(0,o.polarToCartesian)(i+5,a);return t?6.5*t.length<r?n.createElement("text",s({x:0,y:0,className:d.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:`translate(${u}) rotate(${(0,o.radToDeg)(a)+90})`},(0,o.getFillProps)(m)),t,n.createElement("title",null,l||t)):r>4?(0,o.radToDeg)(a+e.offsetRadians-Math.PI/2)>=180?n.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:`translate(${u}) rotate(${(0,o.radToDeg)(a)})`,fill:m},t,n.createElement("title",null,l||t)):n.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:`translate(${u}) rotate(${(0,o.radToDeg)(a)+180})`,fill:m},t,n.createElement("title",null,l||t)):null:null})),g=(0,a.observer)((function({model:e,slice:t,region:r}){const a=(0,l.A)(),{radiusPx:s}=e,{endRadians:c,startRadians:d}=t,g=(c+d)/2,p=(c-d)*s,h=(0,o.getSession)(e).assemblyManager.get(r.assemblyName);let f=h?h.getRefNameColor(r.refName):void 0;if(f)try{f=(0,i.makeContrasting)(f,a.palette.background.paper)}catch(e){f=a.palette.text.primary}else f=a.palette.text.primary;return n.createElement(n.Fragment,null,n.createElement(u,{text:r.refName,view:e,maxWidthPx:p,radians:g,radiusPx:s,color:f}),n.createElement("path",{d:m(t,s+1,r.start,r.end),stroke:f,strokeWidth:2,fill:"none"}))})),p=(0,a.observer)((function({model:e,slice:t}){return t.region.elided?n.createElement(d,{key:(0,o.assembleLocString)(t.region.regions[0]),model:e,region:t.region,slice:t}):n.createElement(g,{key:(0,o.assembleLocString)(t.region),region:t.region,model:e,slice:t})}))},79698:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(74893),a=r(69500);const o=(0,n.A)((0,a.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock")},59705:(e,t,r)=>{r.d(t,{A:()=>y});var n=r(7552),a=r(93878),o=r(70799),i=r(64761),l=r(51148),s=r(84893),c=r(4785),m=r(15622),d=r(58520),u=r(72489),g=r(69500);const p=i.i7`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,h=i.i7`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,f="string"!=typeof p?i.AH`
        animation: ${p} 1.4s linear infinite;
      `:null,b="string"!=typeof h?i.AH`
        animation: ${h} 1.4s ease-in-out infinite;
      `:null,v=(0,l.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,m.A)(r.color)}`]]}})((0,s.A)((({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:f||{animation:`${p} 1.4s linear infinite`}},...Object.entries(e.palette).filter((0,d.A)()).map((([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})))]})))),x=(0,l.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),k=(0,l.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${(0,m.A)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})((0,s.A)((({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink,style:b||{animation:`${h} 1.4s ease-in-out infinite`}}]})))),y=n.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:l=!1,size:s=40,style:d,thickness:p=3.6,value:h=0,variant:f="indeterminate",...b}=r,y={...r,color:i,disableShrink:l,size:s,thickness:p,value:h,variant:f},A=(e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e,i={root:["root",r,`color${(0,m.A)(n)}`],svg:["svg"],circle:["circle",`circle${(0,m.A)(r)}`,a&&"circleDisableShrink"]};return(0,o.A)(i,u.b,t)})(y),E={},S={},C={};if("determinate"===f){const e=2*Math.PI*((44-p)/2);E.strokeDasharray=e.toFixed(3),C["aria-valuenow"]=Math.round(h),E.strokeDashoffset=`${((100-h)/100*e).toFixed(3)}px`,S.transform="rotate(-90deg)"}return(0,g.jsx)(v,{className:(0,a.A)(A.root,n),style:{width:s,height:s,...S,...d},ownerState:y,ref:t,role:"progressbar",...C,...b,children:(0,g.jsx)(x,{className:A.svg,ownerState:y,viewBox:"22 22 44 44",children:(0,g.jsx)(k,{className:A.circle,style:E,ownerState:y,cx:44,cy:44,r:(44-p)/2,fill:"none",strokeWidth:p})})})}))},72489:(e,t,r)=>{r.d(t,{A:()=>i,b:()=>o});var n=r(33761),a=r(85693);function o(e){return(0,a.Ay)("MuiCircularProgress",e)}const i=(0,n.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"])},63896:(e,t,r)=>{r.d(t,{A:()=>x});var n=r(7552),a=r(93878),o=r(85693),i=r(70799),l=r(33283),s=r(97269),c=r(48467),m=r(23955),d=r(69500);const u=(0,m.A)(),g=(0,c.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,l.A)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),p=e=>(0,s.A)({props:e,name:"MuiContainer",defaultTheme:u});var h=r(15622),f=r(51148),b=r(4785);const v=function(e={}){const{createStyledComponent:t=g,useThemeProps:r=p,componentName:s="MuiContainer"}=e,c=t((({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}})),(({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce(((t,r)=>{const n=r,a=e.breakpoints.values[n];return 0!==a&&(t[e.breakpoints.up(n)]={maxWidth:`${a}${e.breakpoints.unit}`}),t}),{})),(({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}}))),m=n.forwardRef((function(e,t){const n=r(e),{className:m,component:u="div",disableGutters:g=!1,fixed:p=!1,maxWidth:h="lg",classes:f,...b}=n,v={...n,component:u,disableGutters:g,fixed:p,maxWidth:h},x=((e,t)=>{const{classes:r,fixed:n,disableGutters:a,maxWidth:s}=e,c={root:["root",s&&`maxWidth${(0,l.A)(String(s))}`,n&&"fixed",a&&"disableGutters"]};return(0,i.A)(c,(e=>(0,o.Ay)(t,e)),r)})(v,s);return(0,d.jsx)(c,{as:u,ownerState:v,className:(0,a.A)(x.root,m),ref:t,...b})}));return m}({createStyledComponent:(0,f.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,h.A)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,b.b)({props:e,name:"MuiContainer"})}),x=v},48467:(e,t,r)=>{r.d(t,{A:()=>n});const n=(0,r(26587).Ay)()}}]);
//# sourceMappingURL=6205.a2a148e4.chunk.js.map