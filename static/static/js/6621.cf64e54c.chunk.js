"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[6621],{66621:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var n=t(46377),i=t(99834),r=t(66885),s=t(68120),c=t(9502),o=t(54702);class g extends n.BaseFeatureDataAdapter{async configurePre(){const e=this.pluginManager,a=this.getConf("vcfGzLocation"),t=this.getConf(["index","location"]),n=this.getConf(["index","indexType"]),r=(0,i.openLocation)(a,e),o="CSI"===n,g=new s.wD({filehandle:r,csiFilehandle:o?(0,i.openLocation)(t,e):void 0,tbiFilehandle:o?void 0:(0,i.openLocation)(t,e),chunkCacheSize:52428800}),u=await g.getHeader();return{vcf:g,parser:new c.A({header:u})}}async configure(){return this.configured||(this.configured=this.configurePre().catch((e=>{throw this.configured=void 0,e}))),this.configured}async getRefNames(e={}){const{vcf:a}=await this.configure();return a.getReferenceSequenceNames(e)}async getHeader(){const{vcf:e}=await this.configure();return e.getHeader()}async getMetadata(){const{parser:e}=await this.configure();return e.getMetadata()}getFeatures(e,a={}){return(0,r.ObservableCreate)((async t=>{const{refName:n,start:i,end:r}=e,{vcf:s,parser:c}=await this.configure();await s.getLines(n,i,r,{lineCallback:(e,a)=>{t.next(new o.A({variant:c.parseLine(e),parser:c,id:`${this.id}-vcf-${a}`}))},...a}),t.complete()}),a.signal)}freeResources(){}}}}]);
//# sourceMappingURL=6621.cf64e54c.chunk.js.map